/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({"downloadjs":"downloadjs","vendors~cms":"vendors~cms","cms":"cms","vendors~pdfjs":"vendors~pdfjs"}[chunkId]||chunkId) + "-bundle-" + {"downloadjs":"0295cb54a1f2309dcf15","vendors~cms":"28b354b0afb1482ae208","cms":"21034eec534735842091","vendors~pdfjs":"794f0c56f6d4f025257e"}[chunkId] + ".js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/js/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./app/jsx/App.jsx","vendors~app"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./app/js/MediaPath.js":
/*!*****************************!*\
  !*** ./app/js/MediaPath.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// ##### Remote Path for Static Media Samples ##### //

const MEDIA_PATH = '/images/'

/* harmony default export */ __webpack_exports__["default"] = (MEDIA_PATH);


/***/ }),

/***/ "./app/js/breakpoints.json":
/*!*********************************!*\
  !*** ./app/js/breakpoints.json ***!
  \*********************************/
/*! exports provided: screen1, screen2, screen3, screen4, screen5, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"screen1\":\"480px\",\"screen2\":\"760px\",\"screen3\":\"870px\",\"screen4\":\"1280px\",\"screen5\":\"1400px\"}");

/***/ }),

/***/ "./app/jsx/App.jsx":
/*!*************************!*\
  !*** ./app/jsx/App.jsx ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var react_ga__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-ga */ "./node_modules/react-ga/dist/esm/index.js");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-modal */ "./node_modules/react-modal/lib/index.js");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _pages_HomePage_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/HomePage.jsx */ "./app/jsx/pages/HomePage.jsx");
/* harmony import */ var _pages_BrowsePage_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pages/BrowsePage.jsx */ "./app/jsx/pages/BrowsePage.jsx");
/* harmony import */ var _pages_ItemPage_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pages/ItemPage.jsx */ "./app/jsx/pages/ItemPage.jsx");
/* harmony import */ var _pages_StatsPage_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pages/StatsPage.jsx */ "./app/jsx/pages/StatsPage.jsx");
/* harmony import */ var _pages_UnitPage_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pages/UnitPage.jsx */ "./app/jsx/pages/UnitPage.jsx");
/* harmony import */ var _pages_SearchPage_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pages/SearchPage.jsx */ "./app/jsx/pages/SearchPage.jsx");
/* harmony import */ var _pages_GlobalStaticPage_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pages/GlobalStaticPage.jsx */ "./app/jsx/pages/GlobalStaticPage.jsx");
/* harmony import */ var _pages_LoginPage_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pages/LoginPage.jsx */ "./app/jsx/pages/LoginPage.jsx");
/* harmony import */ var _pages_LoginSuccessPage_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pages/LoginSuccessPage.jsx */ "./app/jsx/pages/LoginSuccessPage.jsx");
/* harmony import */ var _pages_LogoutPage_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pages/LogoutPage.jsx */ "./app/jsx/pages/LogoutPage.jsx");
/* harmony import */ var _pages_LogoutSuccessPage_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./pages/LogoutSuccessPage.jsx */ "./app/jsx/pages/LogoutSuccessPage.jsx");
/* harmony import */ var _pages_UserAccountPage_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pages/UserAccountPage.jsx */ "./app/jsx/pages/UserAccountPage.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Top-level React Router App ##### //
if (!(typeof document === "undefined")) {
  // require('babel-polyfill')   // do we need this?
  __webpack_require__(/*! details-polyfill */ "./node_modules/details-polyfill/index.js");

  __webpack_require__(/*! intersection-observer */ "./node_modules/intersection-observer/intersection-observer.js");

  __webpack_require__(/*! smoothscroll-polyfill */ "./node_modules/smoothscroll-polyfill/dist/smoothscroll.js").polyfill();
}

















 // array-include polyfill for older browsers (and node.js)

Array.prototype.includes = __webpack_require__(/*! array-includes */ "./node_modules/array-includes/index.js").shim();
react_ga__WEBPACK_IMPORTED_MODULE_3__["default"].initialize('UA-26286226-1', {
  debug: false
});
var prevPathname = null;

var RecordLocation = /*#__PURE__*/function (_React$Component) {
  _inherits(RecordLocation, _React$Component);

  var _super = _createSuper(RecordLocation);

  function RecordLocation() {
    var _this;

    _classCallCheck(this, RecordLocation);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      if (_this.props.location.pathname != prevPathname) {
        _this.props.location.prevPathname = prevPathname;
        prevPathname = _this.props.location.pathname;

        if (!(typeof document === "undefined")) {
          react_ga__WEBPACK_IMPORTED_MODULE_3__["default"].set({
            page: window.location.pathname + window.location.search,
            anonymizeIp: true
          });
          react_ga__WEBPACK_IMPORTED_MODULE_3__["default"].pageview(window.location.pathname + window.location.search);
        }
      }

      return null;
    });

    return _this;
  }

  return _createClass(RecordLocation);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var App = /*#__PURE__*/function (_React$Component2) {
  _inherits(App, _React$Component2);

  var _super2 = _createSuper(App);

  function App() {
    var _this2;

    _classCallCheck(this, App);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        path: "*",
        component: RecordLocation
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Switch"], null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/",
        component: _pages_HomePage_jsx__WEBPACK_IMPORTED_MODULE_5__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/campuses",
        component: _pages_BrowsePage_jsx__WEBPACK_IMPORTED_MODULE_6__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/journals",
        component: _pages_BrowsePage_jsx__WEBPACK_IMPORTED_MODULE_6__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/:campusID/units",
        component: _pages_BrowsePage_jsx__WEBPACK_IMPORTED_MODULE_6__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/:campusID/journals",
        component: _pages_BrowsePage_jsx__WEBPACK_IMPORTED_MODULE_6__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/uc/item/:itemID",
        component: _pages_ItemPage_jsx__WEBPACK_IMPORTED_MODULE_7__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/uc/author/:personID/stats",
        component: _pages_StatsPage_jsx__WEBPACK_IMPORTED_MODULE_8__["AuthorStatsPage"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/uc/author/:personID/stats/:pageName",
        component: _pages_StatsPage_jsx__WEBPACK_IMPORTED_MODULE_8__["AuthorStatsPage"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/uc/:unitID/stats",
        component: _pages_StatsPage_jsx__WEBPACK_IMPORTED_MODULE_8__["UnitStatsPage"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/uc/:unitID/stats/:pageName",
        component: _pages_StatsPage_jsx__WEBPACK_IMPORTED_MODULE_8__["UnitStatsPage"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/uc/:unitID",
        component: _pages_UnitPage_jsx__WEBPACK_IMPORTED_MODULE_9__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        path: "/uc/:unitID/:pageName/*",
        component: _pages_UnitPage_jsx__WEBPACK_IMPORTED_MODULE_9__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/uc/:unitID/:pageName",
        component: _pages_UnitPage_jsx__WEBPACK_IMPORTED_MODULE_9__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        path: "/uc/:unitID/*",
        component: _pages_UnitPage_jsx__WEBPACK_IMPORTED_MODULE_9__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/search",
        component: _pages_SearchPage_jsx__WEBPACK_IMPORTED_MODULE_10__["SearchPage"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/login",
        component: _pages_LoginPage_jsx__WEBPACK_IMPORTED_MODULE_12__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/loginSuccess",
        component: _pages_LoginSuccessPage_jsx__WEBPACK_IMPORTED_MODULE_13__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        path: "/loginSuccess/*",
        component: _pages_LoginSuccessPage_jsx__WEBPACK_IMPORTED_MODULE_13__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/logout",
        component: _pages_LogoutPage_jsx__WEBPACK_IMPORTED_MODULE_14__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        exact: true,
        path: "/logoutSuccess",
        component: _pages_LogoutSuccessPage_jsx__WEBPACK_IMPORTED_MODULE_15__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        path: "/logoutSuccess/*",
        component: _pages_LogoutSuccessPage_jsx__WEBPACK_IMPORTED_MODULE_15__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        path: "/userAccount/:userID",
        component: _pages_UserAccountPage_jsx__WEBPACK_IMPORTED_MODULE_16__["default"]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Route"], {
        path: "*",
        component: _pages_GlobalStaticPage_jsx__WEBPACK_IMPORTED_MODULE_11__["default"]
      }), " "));
    });

    return _this2;
  }

  return _createClass(App);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component); // When running in the browser, render with React (vs. server-side where iso runs it for us)


if (!(typeof document === "undefined")) {
  react_modal__WEBPACK_IMPORTED_MODULE_4___default.a.setAppElement('#main');

  if (window.jscholApp_initialPageData) {
    react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.hydrate( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["BrowserRouter"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App, null)), document.getElementById('main'));
  } else {
    react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["BrowserRouter"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(App, null)), document.getElementById('main'));
  }
} // When running on the server, return an object that iso can render.


/* harmony default export */ __webpack_exports__["default"] = (App);

/***/ }),

/***/ "./app/jsx/components/AdminBarComp.jsx":
/*!*********************************************!*\
  !*** ./app/jsx/components/AdminBarComp.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
// ##### AdminBar Component ##### //




var AdminBarComp = function AdminBarComp(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].CMS.Consumer, null, function (cms) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      style: {
        marginTop: cms.permissions && cms.permissions.admin && cms.modules && cms.showingDrawer ? "-20px" : "-10px"
      }
    }, cms.loggedIn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "c-adminbar"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "c-adminbar__edit-pg"
    }, cms.permissions && cms.permissions.admin && cms.modules ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "c-adminbar__edit-pg-button",
      onClick: function onClick(e) {
        return cms.onEditingPageChange(!cms.isEditingPage);
      }
    }, cms.isEditingPage ? "Done editing" : "Edit page") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "c-adminbar__edit-pg-button",
      disabled: true
    }, "Edit page"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "https://help.escholarship.org/support/solutions/articles/9000124100-using-the-site-editing-tool"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      className: "c-adminbar-help__icon",
      src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_2__["default"] + 'icon_help-white.svg',
      alt: "Get help on content carousels"
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "c-adminbar__logged-in-msg"
    }, "Logged in as '", cms.username, "'")));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (AdminBarComp);

/***/ }),

/***/ "./app/jsx/components/ArbitraryHTMLComp.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/components/ArbitraryHTMLComp.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ArbitraryHTMLComp; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var better_react_mathjax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! better-react-mathjax */ "./node_modules/better-react-mathjax/esm/index.js");
/* harmony import */ var _utils_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.jsx */ "./app/jsx/utils.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





/**
 * Adds arbitrary HTML to the page (usually supplied earlier by the user and stored in the database).
 * Re-maps <h1>, <h2> etc in the HTML to the specified level to improve accessibility.
 * Option to wrap HTML with surrounding <p> if needed
 */

var ArbitraryHTMLComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ArbitraryHTMLComp, _React$Component);

  var _super = _createSuper(ArbitraryHTMLComp);

  function ArbitraryHTMLComp() {
    _classCallCheck(this, ArbitraryHTMLComp);

    return _super.apply(this, arguments);
  }

  _createClass(ArbitraryHTMLComp, [{
    key: "componentWillMount",
    value: // Attach script necessary for opening Deposit Wizard from any links defined as: http://open-deposit-wizard.com
    function componentWillMount() {
      if (!(typeof document === "undefined")) {
        var s = document.createElement("script");
        s.async = true;
        s.innerHTML = "function openDepositWiz(event) {event.preventDefault(); document.getElementById(\'wizardlyDeposit\').click();}";
        document.body.appendChild(s);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var origText = this.props.html;

      if (origText) {
        var h1Level = this.props.h1Level ? this.props.h1Level : 3;
        var minLevel = 9;
        origText.replace(/(<\/?[hH])([1-9]+)/g, function (m, p1, p2) {
          return minLevel = Math.min(minLevel, parseInt(p2));
        });
        var fixedText = origText.replace(/(<\/?[hH])([1-9]+)/g, function (m, p1, p2) {
          return p1 + (parseInt(p2) + h1Level - minLevel);
        }); // Kludge for opening deposit wizard modal

        var fixedText2 = fixedText.replace(/<a href=\"http:\/\/open-deposit-wizard\.com\">/g, '<a href="" onClick="openDepositWiz(event);">');
        this.props.p_wrap && (fixedText2 = _utils_jsx__WEBPACK_IMPORTED_MODULE_2__["default"].p_wrap(fixedText2));

        if (!(typeof document === "undefined")) {
          // heuristic to detect MathJax, only runs in a browser, not ISO
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(better_react_mathjax__WEBPACK_IMPORTED_MODULE_1__["MathJax"], {
            dynamic: "true"
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            className: "c-clientmarkup",
            dangerouslySetInnerHTML: {
              __html: fixedText2
            }
          }));
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            className: "c-clientmarkup",
            dangerouslySetInnerHTML: {
              __html: fixedText2
            }
          });
        }
      } else {
        return null;
      }
    }
  }]);

  return ArbitraryHTMLComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(ArbitraryHTMLComp, "propTypes", {
  html: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,
  h1Level: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number,
  // defaults to 3
  p_wrap: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool
});



/***/ }),

/***/ "./app/jsx/components/AuthorListComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/AuthorListComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../objects/TruncationObj.jsx */ "./app/jsx/objects/TruncationObj.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Author List Component ##### //




var AuthorListComp = /*#__PURE__*/function (_React$Component) {
  _inherits(AuthorListComp, _React$Component);

  var _super = _createSuper(AuthorListComp);

  function AuthorListComp() {
    var _this;

    _classCallCheck(this, AuthorListComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "handleClick", function (e, tab_id) {
      e.preventDefault();

      _this.props.changeTab(tab_id);
    });

    _defineProperty(_assertThisInitialized(_this), "asList", function (title, array) {
      return array.map(function (x, i) {
        var c = i == 0 ? "c-authorlist__begin" : i + 1 == array.length ? "c-authorlist__end" : null;

        if (i == 0 && array.length - 1 > 0 && title != "Author") {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: i + x.name,
            className: c
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
            className: "c-authorlist__heading"
          }, title, "(s):"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "/search/?q=" + encodeURIComponent("author:" + x.name)
          }, x.name), "; ");
        } else if (i == 0 && array.length - 1 == 0 && title != "Author") {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: i + x.name,
            className: c
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
            className: "c-authorlist__heading"
          }, title, "(s):"), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "/search/?q=" + encodeURIComponent("author:" + x.name)
          }, x.name), " ");
        } else if (i < array.length - 1) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: i + x.name,
            className: c
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "/search/?q=" + encodeURIComponent("author:" + x.name)
          }, x.name), "; ");
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: i + x.name,
            className: c
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "/search/?q=" + encodeURIComponent("author:" + x.name)
          }, x.name), " ");
        }
      });
    });

    return _this;
  }

  _createClass(AuthorListComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var p = this.props,
          year = p.pubdate ? p.pubdate.match(/\d{4}/) : null,
          source = p.source,
          authors = p.authors && !p.author_hide ? this.asList("Author", p.authors) : null,
          editors = p.editors ? this.asList("Editor", p.editors) : null,
          advisors = p.advisors ? this.asList("Advisor", p.advisors) : null,
          total_contributors = (authors ? authors.length : 0) + (editors ? editors.length : 0) + (advisors ? advisors.length : 0),
          this_is_an_item_page = p.pubdate ? true : false,
          this_is_a_tabbed_page = p.changeTab ? true : false,
          item_link = p.id ? "/uc/item/" + p.id.replace(/^qt/, "") : null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-authorlist"
      }, year && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("time", {
        className: "c-authorlist__year"
      }, year[0]), (authors && authors.length > 0 || editors && editors.length > 0 || advisors && advisors.length > 0) && this_is_an_item_page && this_is_a_tabbed_page && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        element: "ul",
        className: "c-authorlist__list",
        options: {
          watch: 'window',
          after: '.c-authorlist__list-more-link',
          ellipsis: ' ',
          wrap: 'children',
          callback: function callback() {
            return jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-authorlist__list-more-link').click(function (e) {
              return _this2.handleClick(e, 'author');
            });
          }
        }
      }, authors, editors, advisors, total_contributors > 6 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: item_link,
        className: "c-authorlist__list-more-link"
      }, "et al."))), (authors && authors.length > 0 || editors && editors.length > 0 || advisors && advisors.length > 0) && !this_is_a_tabbed_page && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        element: "ul",
        className: "c-authorlist__list"
      }, authors, editors, advisors), year && source == 'ojs' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-authorlist__copyright"
      }, "\xA9 ", year[0], " by the author(s). ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://escholarship.org/terms"
      }, "Learn more"), "."));
    }
  }]);

  return AuthorListComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (AuthorListComp);

/***/ }),

/***/ "./app/jsx/components/BackgroundColorPickerComp.jsx":
/*!**********************************************************!*\
  !*** ./app/jsx/components/BackgroundColorPickerComp.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
// ##### Background Color Picker Component ##### //


function BackgroundColorPickerComp(props) {
  function handleChange(e) {
    props.onBackgroundColorChange(e.target.value);
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "c-backgroundcolorpicker"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    htmlFor: "subheader-bgcolorpicker"
  }, props.textLabel, ":"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    id: "subheader-bgcolorpicker",
    type: "color",
    value: props.backgroundColor,
    onChange: handleChange
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (BackgroundColorPickerComp);

/***/ }),

/***/ "./app/jsx/components/BreadcrumbComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/BreadcrumbComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Breadcrumb Component ##### //



var BreadcrumbComp = /*#__PURE__*/function (_React$Component) {
  _inherits(BreadcrumbComp, _React$Component);

  var _super = _createSuper(BreadcrumbComp);

  function BreadcrumbComp() {
    _classCallCheck(this, BreadcrumbComp);

    return _super.apply(this, arguments);
  }

  _createClass(BreadcrumbComp, [{
    key: "render",
    value: function render() {
      // Items with no unit parent will not display a NavBarComp. Yet, the NavBarComp
      // includes a bottom margin of 20px that gives some vertical breathing room to
      // whatever is below it. So this is a tempoprary style fix until UX can address.
      var missingNavStyle = this.props.array ? null : {
        margin: '20px 0px 20px'
      },
          lastN = this.props.array ? this.props.array.length - 1 : 0,
          nodes = this.props.array ? this.props.array.map(function (node, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          className: i == lastN ? "c-breadcrumb-link--active" : null,
          to: node.url
        }, node.name));
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/"
      }, "eScholarship");
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("nav", {
        className: "c-breadcrumb",
        style: missingNavStyle
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, nodes));
    }
  }]);

  return BreadcrumbComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (BreadcrumbComp);

/***/ }),

/***/ "./app/jsx/components/CampusHeroComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/CampusHeroComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Campus Hero Component ##### //



var CampusHeroComp = /*#__PURE__*/function (_React$Component) {
  _inherits(CampusHeroComp, _React$Component);

  var _super = _createSuper(CampusHeroComp);

  function CampusHeroComp() {
    _classCallCheck(this, CampusHeroComp);

    return _super.apply(this, arguments);
  }

  _createClass(CampusHeroComp, [{
    key: "render",
    value: function render() {
      var heroImage = this.props.hero && this.props.hero.url ? "url(" + this.props.hero.url + ")" : null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campushero",
        style: {
          backgroundImage: heroImage
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campushero__lede"
      }, "Share your research ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "with a global audience")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campushero__text"
      }, "The eScholarship suite of open access publishing services gives UC scholars direct control over the creation and dissemination of the full range of their research."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campushero__link"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/" + this.props.campusID + "/about"
      }, "Get started")));
    }
  }]);

  return CampusHeroComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (CampusHeroComp);

/***/ }),

/***/ "./app/jsx/components/CampusSearchComp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/CampusSearchComp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Campus Search Component ##### //



var CampusSearchComp = /*#__PURE__*/function (_React$Component) {
  _inherits(CampusSearchComp, _React$Component);

  var _super = _createSuper(CampusSearchComp);

  function CampusSearchComp() {
    _classCallCheck(this, CampusSearchComp);

    return _super.apply(this, arguments);
  }

  _createClass(CampusSearchComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        to: "/search",
        method: "GET"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campussearch"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "c-campussearch__search",
        className: "c-campussearch__label"
      }, "Discover ", this.props.campusName, " scholarship"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campussearch__search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "search",
        name: "q",
        className: "c-campussearch__input",
        id: "c-campussearch__search"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "hidden",
        name: "searchUnitType",
        value: "campuses"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "hidden",
        name: "searchType",
        value: this.props.campusID
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        className: "c-campussearch__button",
        "aria-label": "Search"
      }))));
    }
  }]);

  return CampusSearchComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (CampusSearchComp);

/***/ }),

/***/ "./app/jsx/components/CampusSelectorComp.jsx":
/*!***************************************************!*\
  !*** ./app/jsx/components/CampusSelectorComp.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_DropdownMenu_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/DropdownMenu.jsx */ "./app/jsx/components/DropdownMenu.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Campus Heading and Menu Component ##### //




var CampusSelectorComp = /*#__PURE__*/function (_React$Component) {
  _inherits(CampusSelectorComp, _React$Component);

  var _super = _createSuper(CampusSelectorComp);

  function CampusSelectorComp() {
    _classCallCheck(this, CampusSelectorComp);

    return _super.apply(this, arguments);
  }

  _createClass(CampusSelectorComp, [{
    key: "campusSelector",
    value: function campusSelector(campuses) {
      return campuses.map(function (c) {
        return c['id'] != "" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: c['id']
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + c['id']
        }, c['name']));
      });
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector--campus"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector__heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/" + p.campusID
      }, p.campusName ? p.campusName : "eScholarship")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DropdownMenu_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        detailsClass: "o-customselector__selector",
        ariaLabel: "select campus"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector__menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector__sub-heading",
        id: "c-campusselector__sub-heading"
      }, "eScholarship at \u2026"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "o-customselector__items",
        "aria-labelledby": "c-campusselector__sub-heading",
        role: "list"
      }, this.campusSelector(p.campuses)))));
    }
  }]);

  return CampusSelectorComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (CampusSelectorComp);

/***/ }),

/***/ "./app/jsx/components/CarouselComp.jsx":
/*!*********************************************!*\
  !*** ./app/jsx/components/CarouselComp.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom/server */ "./node_modules/react-dom/server.browser.js");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Campus Carousel Component ##### //



 // Only load flickity when in the browser (not server-side)

if (!(typeof document === "undefined")) {
  var Flickity = __webpack_require__(/*! flickity-imagesloaded */ "./node_modules/flickity-imagesloaded/flickity-imagesloaded.js");

  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var CarouselComp = /*#__PURE__*/function (_React$Component) {
  _inherits(CarouselComp, _React$Component);

  var _super = _createSuper(CarouselComp);

  function CarouselComp() {
    _classCallCheck(this, CarouselComp);

    return _super.apply(this, arguments);
  }

  _createClass(CarouselComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      try {
        this.flkty = new Flickity(this.domEl, this.props.options);
      } catch (e) {
        console.log("Exception initializing flickity:", e);
      }

      if (this.props.truncate) {
        var cells = jquery__WEBPACK_IMPORTED_MODULE_3___default()(this.domEl).find(this.props.truncate);
        jquery__WEBPACK_IMPORTED_MODULE_3___default()(this.domEl).find(this.props.truncate).each(function () {
          jquery__WEBPACK_IMPORTED_MODULE_3___default()(this).dotdotdot({
            watch: 'window'
          });
        });
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      try {
        if (this.flkty) {
          this.flkty.destroy();
        }

        this.flkty = new Flickity(this.domEl, this.props.options);
      } catch (e) {
        console.log("Exception re-initializing flickity:", e);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      try {
        if (this.flkty) this.flkty.destroy();
      } catch (e) {
        console.log("Exception destroying flickity:", e);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      // The 'dangerouslySetInnerHTML' rigarmarole below is to keep React from attaching event handlers
      // to the children, because after Flickity takes over those children, the handlers otherwise become
      // confused and put out warnings to the console.
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.props.className,
        ref: function ref(el) {
          return _this.domEl = el;
        },
        dangerouslySetInnerHTML: {
          __html: react_dom_server__WEBPACK_IMPORTED_MODULE_1___default.a.renderToStaticMarkup( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.props.children)).replace(/^<div>/, '').replace(/<\/div>$/, '')
        }
      });
    }
  }]);

  return CarouselComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(CarouselComp, "propTypes", {
  className: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  options: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (CarouselComp);

/***/ }),

/***/ "./app/jsx/components/CheckContrastComp.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/components/CheckContrastComp.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
// ##### Check Color Contrast Component ##### //


function CheckContrastComp(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "c-checkcontrast"
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "https://webaim.org/resources/contrastchecker/?fcolor=".concat(props.checkForeground, "&bcolor=").concat(props.checkBackground),
    target: "_blank"
  }, "Check that this element and background color combination passes WCAG AA accessibility for Normal Text at webaim.org."));
}

/* harmony default export */ __webpack_exports__["default"] = (CheckContrastComp);

/***/ }),

/***/ "./app/jsx/components/DescriptionListComp.jsx":
/*!****************************************************!*\
  !*** ./app/jsx/components/DescriptionListComp.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Description List Component ##### //

 // StatNum displays stats (# publications, # depts, # journals) for a given campus or affilated unit

var StatNum = /*#__PURE__*/function (_React$Component) {
  _inherits(StatNum, _React$Component);

  var _super = _createSuper(StatNum);

  function StatNum() {
    _classCallCheck(this, StatNum);

    return _super.apply(this, arguments);
  }

  _createClass(StatNum, [{
    key: "statNumify",
    value: // Returns an array: [any present?, more than one?]
    function statNumify(x) {
      return [x ? x.toLocaleString() : null, x > 1 ? 's' : ''];
    }
  }, {
    key: "render",
    value: function render() {
      var s1 = this.statNumify(this.props.item["publications"]),
          s2 = this.statNumify(this.props.item["units"]),
          s3 = this.statNumify(this.props.item["journals"]);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", null, s1[0] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, s1[0], " Publication", s1[1]), s2[0] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, ", ", s2[0], " Unit", s2[1]), s3[0] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, ", ", s3[0], " Journal", s3[1]));
    }
  }]);

  return StatNum;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var DescriptionListComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(DescriptionListComp, _React$Component2);

  var _super2 = _createSuper(DescriptionListComp);

  function DescriptionListComp() {
    _classCallCheck(this, DescriptionListComp);

    return _super2.apply(this, arguments);
  }

  _createClass(DescriptionListComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, this.props.campusesStats.map(function (c, i) {
        return c['id'] != "" && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + c['id']
        }, c['name'])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatNum, {
          key: "99",
          item: c
        })];
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Other Locations"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, this.props.otherStats.map(function (c, i) {
        return c['id'] != "" && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + c['id']
        }, c['name'])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatNum, {
          key: "99",
          item: c
        })];
      })));
    }
  }]);

  return DescriptionListComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (DescriptionListComp);

/***/ }),

/***/ "./app/jsx/components/DrawerComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/DrawerComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var AddWidgetMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(AddWidgetMenu, _React$Component);

  var _super = _createSuper(AddWidgetMenu);

  function AddWidgetMenu() {
    var _this;

    _classCallCheck(this, AddWidgetMenu);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      isOpen: false
    });

    return _this;
  }

  _createClass(AddWidgetMenu, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-drawer__nav-buttons"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-widgetselector__selector",
        open: this.state.isOpen,
        ref: function ref(el) {
          return _this2.detailsEl = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        "aria-label": "select widget type",
        onClick: function onClick(e) {
          return setTimeout(function () {
            return _this2.setState({
              isOpen: _this2.detailsEl.open
            });
          }, 0);
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-widgetselector__menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-widgetselector__sub-heading",
        id: "c-widgetselector__sub-heading"
      }, this.props.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-widgetselector__items",
        "aria-labelledby": "c-widgetselector__sub-heading",
        role: "list",
        onClick: function onClick(e) {
          return _this2.setState({
            isOpen: false
          });
        }
      }, this.props.children))));
    }
  }]);

  return AddWidgetMenu;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var SortableNavList = /*#__PURE__*/function (_React$Component2) {
  _inherits(SortableNavList, _React$Component2);

  var _super2 = _createSuper(SortableNavList);

  function SortableNavList() {
    var _this3;

    _classCallCheck(this, SortableNavList);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "state", _this3.setupState(_this3.props));

    return _this3;
  }

  _createClass(SortableNavList, [{
    key: "setupState",
    value: function setupState(props) {
      return {
        data: this.generateData(props.navItems),
        firstIsFixed: props.navItems[0].type.includes("fixed")
      };
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!nextProps.fetchingData && !lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(this.props, nextProps)) this.setState(this.setupState(nextProps));
    }
  }, {
    key: "generateData",
    value: function generateData(navItems) {
      var _this4 = this;

      var generate = function generate(navItems) {
        if (!navItems) return undefined;
        return navItems.map(function (nav) {
          var data = {
            id: nav.id,
            type: nav.type,
            slug: nav.slug,
            title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
              to: "/uc/".concat(_this4.props.unit).concat(nav.type.includes("fixed") ? "" : "/nav/".concat(nav.id))
            }, nav.name),
            subtitle: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, nav.hidden && 'hidden ', nav.type.replace(/_/g, " "))
          }; // Anything else zero or lower is the Journal Issues dropdown, so should be avoided, except for id -9999 which is the Journal Home nav

          if (nav.type.includes("folder") && (nav.id >= 0 || nav.id == -9999)) {
            data.children = generate(nav.sub_nav);
            data.expanded = true;
          } else data.noChildren = true;

          return data;
        });
      };

      var removeFixedSubPages = function removeFixedSubPages(navItems) {
        if (!navItems) return undefined;
        var filtered = navItems.filter(function (nav) {
          if (nav.children) nav.children = removeFixedSubPages(nav.children);
          return nav.id >= 0 || nav.id == -9999;
        });
        return filtered;
      };

      return removeFixedSubPages(generate(navItems));
    }
  }, {
    key: "travOrder",
    value: function travOrder(treeData) {
      var _this5 = this;

      return treeData.map(function (item) {
        var out = {
          id: item.id
        };
        if (item.children) out.sub_nav = _this5.travOrder(item.children);
        return out;
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this6 = this;

      var SortableTree = this.props.cms.modules.SortableTree;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SortableTree, {
        treeData: this.state.data,
        isVirtualized: false,
        scaffoldBlockPxWidth: 30,
        maxDepth: 2,
        canDrag: function canDrag(_ref) {
          var node = _ref.node;
          if (node.type.includes("fixed")) // don't allow dragging unit home or journal issues drop down
            return false;
          var slug = node.type == "page" ? node.slug : node.type;
          if (!(_this6.props.cms.permissions.nav_perms[slug] || {}).reorder) return false;
          return true;
        },
        canDrop: function canDrop(_ref2) {
          var node = _ref2.node,
              nextTreeIndex = _ref2.nextTreeIndex,
              nextParent = _ref2.nextParent;
          if (_this6.state.firstIsFixed && nextTreeIndex <= 0) // don't allow rearranging above fixed nodes
            return false;
          if (!nextParent) return true;
          if (node.type.includes("folder")) return false;
          if (nextParent.noChildren) return false;
          if (!nextParent.type.includes("folder")) return false;
          return true;
        },
        onChange: function onChange(treeData) {
          return _this6.setState({
            data: treeData
          });
        },
        onMoveNode: function onMoveNode() {
          return _this6.props.onChangeOrder(_this6.travOrder(_this6.state.data));
        }
      });
    }
  }]);

  return SortableNavList;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var SortableSidebarList = /*#__PURE__*/function (_React$Component3) {
  _inherits(SortableSidebarList, _React$Component3);

  var _super3 = _createSuper(SortableSidebarList);

  function SortableSidebarList() {
    var _this7;

    _classCallCheck(this, SortableSidebarList);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this7 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "state", _this7.setupState(_this7.props));

    return _this7;
  }

  _createClass(SortableSidebarList, [{
    key: "setupState",
    value: function setupState(props) {
      return {
        data: this.generateData(props.sidebarWidgets)
      };
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!nextProps.fetchingData && !lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(this.props, nextProps)) this.setState(this.setupState(nextProps));
    }
  }, {
    key: "generateData",
    value: function generateData(sidebarWidgets) {
      var _this8 = this;

      if (!sidebarWidgets) return undefined;
      return sidebarWidgets.map(function (sb) {
        return {
          id: sb.id,
          kind: sb.kind,
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/".concat(_this8.props.unit, "/sidebar/").concat(sb.id)
          }, sb.kind == 'Text' && sb.attrs && sb.attrs.title ? sb.attrs.title : sb.kind.replace(/([a-z])([A-Z][a-z])/g, "$1 $2")),
          subtitle: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, sb.kind == 'Text' ? "text widget" : "built-in widget")
        };
      });
    }
  }, {
    key: "travOrder",
    value: function travOrder(treeData) {
      return treeData.map(function (item) {
        return item.id;
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this9 = this;

      var SortableTree = this.props.cms.modules.SortableTree;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SortableTree, {
        treeData: this.state.data,
        isVirtualized: false,
        scaffoldBlockPxWidth: 30,
        maxDepth: 1,
        onChange: function onChange(treeData) {
          return _this9.setState({
            data: treeData
          });
        },
        onMoveNode: function onMoveNode() {
          return _this9.props.onChangeOrder(_this9.travOrder(_this9.state.data));
        }
      });
    }
  }]);

  return SortableSidebarList;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var NonSortableList = /*#__PURE__*/function (_React$Component4) {
  _inherits(NonSortableList, _React$Component4);

  var _super4 = _createSuper(NonSortableList);

  function NonSortableList() {
    var _this10;

    _classCallCheck(this, NonSortableList);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this10 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this10), "state", _this10.setupState(_this10.props));

    return _this10;
  }

  _createClass(NonSortableList, [{
    key: "setupState",
    value: function setupState(props) {
      return {
        data: props.items
      };
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!nextProps.fetchingData && !lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(this.props, nextProps)) this.setState(this.setupState(nextProps));
    }
  }, {
    key: "render",
    value: function render() {
      var _this11 = this;

      var SortableTree = this.props.cms.modules.SortableTree;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SortableTree, {
        treeData: this.state.data,
        isVirtualized: false,
        scaffoldBlockPxWidth: 30,
        maxDepth: 1,
        canDrag: function canDrag() {
          return false;
        },
        onChange: function onChange(treeData) {
          return _this11.setState({
            data: treeData
          });
        }
      });
    }
  }]);

  return NonSortableList;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var DrawerComp = /*#__PURE__*/function (_React$Component5) {
  _inherits(DrawerComp, _React$Component5);

  var _super5 = _createSuper(DrawerComp);

  function DrawerComp() {
    var _this12;

    _classCallCheck(this, DrawerComp);

    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    _this12 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this12), "addNavItem", function (event, navType) {
      event.preventDefault();

      _this12.props.sendApiData('POST', "/api/unit/".concat(_this12.props.data.unit.id, "/nav"), {
        navType: navType
      });
    });

    _defineProperty(_assertThisInitialized(_this12), "addSidebarWidget", function (event, widgetKind) {
      event.preventDefault();

      _this12.props.sendApiData('POST', "/api/unit/".concat(_this12.props.data.unit.id, "/sidebar"), {
        widgetKind: widgetKind
      });
    });

    _defineProperty(_assertThisInitialized(_this12), "reorderNav", function (newOrder) {
      _this12.props.sendApiData('PUT', "/api/unit/".concat(_this12.props.data.unit.id, "/navOrder"), {
        order: JSON.stringify(newOrder)
      });
    });

    _defineProperty(_assertThisInitialized(_this12), "reorderSidebar", function (newOrder) {
      _this12.props.sendApiData('PUT', "/api/unit/".concat(_this12.props.data.unit.id, "/sidebarOrder"), {
        order: JSON.stringify(newOrder)
      });
    });

    _defineProperty(_assertThisInitialized(_this12), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].CMS.Consumer, null, function (cms) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, _this12.props.fetchingData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-drawer__working-overlay"
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cms.modules.Sidebar, {
          sidebar: _this12.drawerContent(cms),
          open: cms.isEditingPage,
          docked: cms.isEditingPage,
          sidebarClassName: "c-drawer"
        }, _this12.props.children));
      });
    });

    return _this12;
  }

  _createClass(DrawerComp, [{
    key: "drawerContent",
    value: function drawerContent(cms) {
      var _this13 = this;

      var siteSettings = [{
        id: "profile",
        title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/uc/".concat(this.props.data.unit.id, "/profile")
        }, this.props.data.unit.type === 'journal' && 'Journal Profile' || this.props.data.unit.type.includes('series') && 'Series Profile' || this.props.data.unit.type === 'campus' && 'Campus Profile' || 'Unit Profile')
      }];

      if (["oru", "journal", "campus"].includes(this.props.data.unit.type)) {
        siteSettings.push({
          id: "carousel",
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/".concat(this.props.data.unit.id, "/carousel")
          }, "Carousel Builder")
        });
      }

      if (this.props.data.unit.type == "root") {
        siteSettings.push({
          id: "redirects",
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/root/redirects/static"
          }, "Sitewide Redirects")
        });
        siteSettings.push({
          id: "authorSearch",
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/root/authorSearch"
          }, "Author/User Search")
        });
      }

      if (cms.permissions["super"] && this.props.data.unit.id != "root") {
        siteSettings.push({
          id: "unitBuilder",
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/".concat(this.props.data.unit.id, "/unitBuilder")
          }, "Unit Builder")
        });
      }

      if (this.props.data.unit.type === 'journal') {
        siteSettings.push({
          id: "issueConfig",
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/".concat(this.props.data.unit.id, "/issueConfig")
          }, "Issue Configuration")
        });
      }

      if (this.props.data.unit.type != 'root') {
        siteSettings.push({
          id: "userConfig",
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/".concat(this.props.data.unit.id, "/userConfig")
          }, "Users")
        });
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-drawer__heading"
      }, "Site Settings"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NonSortableList, {
        cms: cms,
        items: siteSettings
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-drawer__heading"
      }, "Navigation Items", !this.props.data.unit.type.includes('series') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AddWidgetMenu, {
        title: "Add Nav Item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        key: "page",
        onClick: function onClick(e) {
          return _this13.addNavItem(e, 'page');
        }
      }, "Page"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        key: "url",
        onClick: function onClick(e) {
          return _this13.addNavItem(e, 'link');
        }
      }, "External Link"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        key: "folder",
        onClick: function onClick(e) {
          return _this13.addNavItem(e, 'folder');
        }
      }, "Dropdown Menu"))), !this.props.data.unit.type.includes('series') ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SortableNavList, {
        cms: cms,
        unit: this.props.data.unit.id,
        navItems: this.props.data.header.nav_bar,
        fetchingData: this.props.fetchingData,
        onChangeOrder: this.reorderNav
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-drawer__row"
      }, "To make changes to navigation items, navigate to your unit\u2019s homepage"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-drawer__heading"
      }, "Sidebar Widgets", !this.props.data.unit.type.includes('series') && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AddWidgetMenu, {
        title: "Add Widget"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        key: "RecentArticles",
        onClick: function onClick(e) {
          return _this13.addSidebarWidget(e, 'RecentArticles');
        }
      }, "Recent Articles"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        key: "Text",
        onClick: function onClick(e) {
          return _this13.addSidebarWidget(e, 'Text');
        }
      }, "Text"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        key: "TwitterFeed",
        onClick: function onClick(e) {
          return _this13.addSidebarWidget(e, 'TwitterFeed');
        }
      }, "Twitter Feed"))), !this.props.data.unit.type.includes('series') ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SortableSidebarList, {
        cms: cms,
        unit: this.props.data.unit.id,
        sidebarWidgets: this.props.data.sidebar,
        fetchingData: this.props.fetchingData,
        onChangeOrder: this.reorderSidebar
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-drawer__row"
      }, "To make changes to sidebar widgets, navigate to your unit\u2019s homepage"));
    }
  }]);

  return DrawerComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (DrawerComp);

/***/ }),

/***/ "./app/jsx/components/DropdownMenu.jsx":
/*!*********************************************!*\
  !*** ./app/jsx/components/DropdownMenu.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DropdownMenu; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var DropdownMenu = /*#__PURE__*/function (_React$Component) {
  _inherits(DropdownMenu, _React$Component);

  var _super = _createSuper(DropdownMenu);

  function DropdownMenu() {
    var _this;

    _classCallCheck(this, DropdownMenu);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      isOpen: false
    });

    _defineProperty(_assertThisInitialized(_this), "onItemClicked", function () {
      _this.anyFocused = false;

      _this.setState({
        isOpen: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onFocus", function () {
      _this.anyFocused = true;
    });

    _defineProperty(_assertThisInitialized(_this), "onBlur", function () {
      _this.anyFocused = false; // After the cascade of blur and focus events, if we end up with nothing in the menu
      // focused, close the menu.

      setTimeout(function () {
        if (!_this.anyFocused && _this.mounted) _this.setState({
          isOpen: false
        });
      }, 500);
    });

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: _this.props.detailsClass,
        open: _this.state.isOpen ? "open" : "",
        onFocus: _this.onFocus,
        onBlur: _this.onBlur,
        ref: function ref(domNode) {
          return _this.details = domNode;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        "aria-label": _this.props.ariaLabel,
        onFocus: _this.onFocus,
        onBlur: _this.onBlur,
        ref: function ref(domNode) {
          return _this.summary = domNode;
        },
        onClick: function onClick(event) {
          setTimeout(function () {
            _this.setState({
              isOpen: _this.details.open
            });

            _this.summary.focus(); // Firefox fails to do this by default

          }, 0);
        }
      }, _this.props.summarySpan && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, _this.props.summarySpan)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        onClick: _this.onItemClicked
      }, _this.props.children));
    });

    return _this;
  }

  _createClass(DropdownMenu, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.mounted = true;
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.mounted = false;
    }
  }]);

  return DropdownMenu;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),

/***/ "./app/jsx/components/ElementColorPickerComp.jsx":
/*!*******************************************************!*\
  !*** ./app/jsx/components/ElementColorPickerComp.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
// ##### Element Color Picker Component ##### //


function ElementColorComp(props) {
  function handleChange(e) {
    props.onElementColorChange(e.target.value);
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("fieldset", {
    className: "c-elementcolorpicker",
    onChange: handleChange
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("legend", null, props.fieldsetLabel), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    id: "elementcolorpicker-black",
    type: "radio",
    name: "elementcolorpicker",
    value: "black",
    defaultChecked: props.isDefault === 'black' ? true : false
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    htmlFor: "elementcolorpicker-black"
  }, "Black"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    id: "elementcolorpicker-white",
    type: "radio",
    name: "elementcolorpicker",
    value: "white",
    defaultChecked: props.isDefault === 'white' ? true : false
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    htmlFor: "elementcolorpicker-white"
  }, "White"));
}

/* harmony default export */ __webpack_exports__["default"] = (ElementColorComp);

/***/ }),

/***/ "./app/jsx/components/ExportComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/ExportComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Export/RSS Component ##### //


var ExportComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ExportComp, _React$Component);

  var _super = _createSuper(ExportComp);

  function ExportComp() {
    _classCallCheck(this, ExportComp);

    return _super.apply(this, arguments);
  }

  _createClass(ExportComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-export"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-export__export-button"
      }, "Export"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-export__rss-button"
      }, "RSS"));
    }
  }]);

  return ExportComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ExportComp);

/***/ }),

/***/ "./app/jsx/components/FilterComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/FilterComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_unescape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/unescape */ "./node_modules/lodash/unescape.js");
/* harmony import */ var lodash_unescape__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_unescape__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Filter Component ##### //




var FilterComp = /*#__PURE__*/function (_React$Component) {
  _inherits(FilterComp, _React$Component);

  var _super = _createSuper(FilterComp);

  function FilterComp() {
    var _this;

    _classCallCheck(this, FilterComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      isOpen: true
    });

    _defineProperty(_assertThisInitialized(_this), "clearAll", function (event) {
      $('[name=start]').val('0');
      var filters = $(':checked').prop('checked', false);
      $(':text').val('');
    });

    return _this;
  }

  _createClass(FilterComp, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps() {
      this.setState({
        isOpen: true
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var searchString = 'Your search: "' + this.props.query.q + '"',
          activeFilters = null;

      if (!lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEmpty(this.props.query['filters'])) {
        var filterTypes = ['type_of_work', 'peer_reviewed', 'supp_file_types', 'pub_year', 'campuses', 'departments', 'journals', 'disciplines', 'rights'];
        activeFilters = [];

        for (var _i = 0, _filterTypes = filterTypes; _i < _filterTypes.length; _i++) {
          var filterType = _filterTypes[_i];

          if (this.props.query['filters'][filterType] && this.props.query['filters'][filterType]['filters'].length > 0) {
            var displayNames = this.props.query['filters'][filterType]['filters'].map(function (filter) {
              if ('displayName' in filter) {
                return filter['displayName'];
              } else {
                return filter['value'];
              }
            });
            activeFilters.push({
              'filterDisplay': this.props.query['filters'][filterType]['display'],
              'filters': displayNames.join(", "),
              'filterType': filterType
            });
          }
        }
      }

      var resultCount = this.props.count + this.props.info_count;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: activeFilters ? "c-filter--active" : "c-filter"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "c-filter__heading",
        dangerouslySetInnerHTML: {
          __html: searchString
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "hidden",
        name: "q",
        value: this.props.query.q == "All items" ? "" : lodash_unescape__WEBPACK_IMPORTED_MODULE_2___default()(this.props.query.q)
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-filter__results"
      }, resultCount, " results"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-filter__inactive-note"
      }, "No filters applied"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-filter__active",
        open: this.state.isOpen
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, activeFilters && activeFilters.length), " filter", !activeFilters || activeFilters.length != 1 ? "s" : "", " applied")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-filter__clear-all",
        onClick: this.clearAll
      }, "clear all"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-filter__active-list"
      }, activeFilters && activeFilters.map(function (filter) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: filter.filterType
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: _this2.props.handler,
          "data-filter-type": filter.filterType
        }, filter.filterDisplay, " (", filter.filters, ")"));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/solutions/articles/9000148939-using-advanced-search-beta-",
        className: "c-filter__tips"
      }, "Search tips"));
    }
  }]);

  return FilterComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (FilterComp);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/components/FooterComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/FooterComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/LazyImageComp.jsx */ "./app/jsx/components/LazyImageComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Footer Component ##### //






var FooterComp = /*#__PURE__*/function (_React$Component) {
  _inherits(FooterComp, _React$Component);

  var _super = _createSuper(FooterComp);

  function FooterComp() {
    _classCallCheck(this, FooterComp);

    return _super.apply(this, arguments);
  }

  _createClass(FooterComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
        className: "c-footer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("nav", {
        className: "c-footer__nav"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/"
      }, "Home")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/aboutEschol"
      }, "About eScholarship")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/campuses"
      }, "Campus Sites")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/ucoapolicies"
      }, "UC Open Access Policy")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/publishing"
      }, "eScholarship Publishing")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://www.cdlib.org/about/accessibility.html"
      }, "Accessibility")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/privacypolicy"
      }, "Privacy Statement")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/policies"
      }, "Site Policies")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/terms"
      }, "Terms of Use")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_3__["default"].CMS.Consumer, null, function (cms) {
        return cms.loggedIn ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/logout",
          onClick: function onClick() {
            return setTimeout(function () {
              return cms.onLogout();
            }, 0);
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Admin Logout"))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/login"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Admin Login")));
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Help"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-footer__logo"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_4__["default"] + 'logo_footer-eschol.svg',
        alt: "eScholarship, University of California"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-footer__icons"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://www.facebook.com/eScholarship/"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_4__["default"] + 'logo_facebook-circle-white.svg',
        alt: "Facebook"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://twitter.com/escholarship"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_4__["default"] + 'logo_twitter-circle-white.svg',
        alt: "Twitter"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-footer__copyright"
      }, "Powered by the", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "http://www.cdlib.org"
      }, "California Digital Library"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), "Copyright \xA9 2017", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), "The Regents of the University of California"));
    }
  }]);

  return FooterComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (FooterComp);

/***/ }),

/***/ "./app/jsx/components/FormComp.jsx":
/*!*****************************************!*\
  !*** ./app/jsx/components/FormComp.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var get_form_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! get-form-data */ "./node_modules/get-form-data/es/index.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Wrapper Component for the Trumbo WYSIWIG editor ##### //






var FormComp = /*#__PURE__*/function (_React$Component) {
  _inherits(FormComp, _React$Component);

  var _super = _createSuper(FormComp);

  function FormComp() {
    var _this;

    _classCallCheck(this, FormComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "formEl", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());

    _defineProperty(_assertThisInitialized(_this), "onSubmit", function (event) {
      var data = Object(get_form_data__WEBPACK_IMPORTED_MODULE_2__["default"])(_this.formEl.current);
      if (_this.props.filter) data = _this.props.filter(data);

      if (_this.props.onSubmit) {
        event.target.action = _this.props.to;

        _this.props.onSubmit(event, data);
      } else {
        event.preventDefault();

        _this.props.history.push(_this.props.to + "?" + jquery__WEBPACK_IMPORTED_MODULE_3___default.a.param(data).replace(/%5B%5D/g, ""));
      }
    });

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", {
        id: _this.props.id,
        onSubmit: _this.onSubmit,
        ref: _this.formEl,
        className: _this.props.className
      }, _this.props.children);
    });

    return _this;
  }

  return _createClass(FormComp);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(FormComp, "propTypes", {
  id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  to: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  // either 'to' ...
  onSubmit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  // ... or 'onSubmit' is needed
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  filter: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
});

/* harmony default export */ __webpack_exports__["default"] = (Object(react_router__WEBPACK_IMPORTED_MODULE_4__["withRouter"])(FormComp));

/***/ }),

/***/ "./app/jsx/components/Header1Comp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/Header1Comp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json");
var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json", 1);
/* harmony import */ var _components_Search1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Search1Comp.jsx */ "./app/jsx/components/Search1Comp.jsx");
/* harmony import */ var _components_AdminBarComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/AdminBarComp.jsx */ "./app/jsx/components/AdminBarComp.jsx");
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Header1 Component ##### //







var HeaderComp1 = /*#__PURE__*/function (_React$Component) {
  _inherits(HeaderComp1, _React$Component);

  var _super = _createSuper(HeaderComp1);

  function HeaderComp1() {
    var _this;

    _classCallCheck(this, HeaderComp1);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      searchActive: false
    });

    return _this;
  }

  _createClass(HeaderComp1, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_AdminBarComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", {
        id: "#top",
        className: "c-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        className: "c-header__logo1",
        to: "/"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("picture", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("source", {
        srcSet: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_5__["default"] + 'logo_escholarship_20_v2.svg',
        media: "(min-width: " + _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__.screen3 + ")"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_5__["default"] + 'logo_eschol-mobile_20_v3.svg',
        alt: "eScholarship"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.state.searchActive ? "c-header__search--active" : "c-header__search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Search1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        onClose: function onClose() {
          return _this2.setState({
            searchActive: false
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-header__search-open-button",
        "aria-label": "open search field",
        onClick: function onClick() {
          return _this2.setState({
            searchActive: true
          });
        }
      })));
    }
  }]);

  return HeaderComp1;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (HeaderComp1);

/***/ }),

/***/ "./app/jsx/components/Header2Comp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/Header2Comp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_Search1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Search1Comp.jsx */ "./app/jsx/components/Search1Comp.jsx");
/* harmony import */ var _components_Search2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Search2Comp.jsx */ "./app/jsx/components/Search2Comp.jsx");
/* harmony import */ var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json");
var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json", 1);
/* harmony import */ var _components_AdminBarComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/AdminBarComp.jsx */ "./app/jsx/components/AdminBarComp.jsx");
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Header2 Component ##### //
// Header2 Component contains the eScholarship logo and the search box
// Used on all pages except homepage and main search page
// Props used to provide specificity to search box behavior









var HeaderComp2 = /*#__PURE__*/function (_React$Component) {
  _inherits(HeaderComp2, _React$Component);

  var _super = _createSuper(HeaderComp2);

  function HeaderComp2(props) {
    var _this;

    _classCallCheck(this, HeaderComp2);

    _this = _super.call(this, props);
    _this.state = {
      searchActive: false
    };
    return _this;
  }

  _createClass(HeaderComp2, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, !this.props.hideAdminBar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_AdminBarComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", {
        id: "#top",
        className: "c-header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        className: "c-header__logo2",
        to: "/"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("picture", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("source", {
        srcSet: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_7__["default"] + 'logo_eschol-small_20_v4.svg',
        media: "(min-width: " + _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_5__.screen3 + ")"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_7__["default"] + 'logo_eschol-mobile_20_v3.svg',
        alt: "eScholarship"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-header__logo2-tagline"
      }, "Open Access Publications from the University of California")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.state.searchActive ? "c-header__search--active" : "c-header__search"
      }, this.props.searchComp && this.props.searchComp == "1" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Search1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        query: this.props.query,
        onClose: function onClose() {
          return _this2.setState({
            searchActive: false
          });
        }
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Search2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        type: this.props.type,
        unitID: this.props.unitID,
        onClose: function onClose() {
          return _this2.setState({
            searchActive: false
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-header__search-open-button",
        "aria-label": "open search field",
        onClick: function onClick() {
          return _this2.setState({
            searchActive: true
          });
        }
      })));
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {}
  }]);

  return HeaderComp2;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(HeaderComp2, "propTypes", {
  type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  // not required, at least on global search page
  // i.e.: "campus|journal|oru|series|monograph_series|seminar_series|special"
  unitID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  // ditto
  searchComp: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  // ditto
  hideAdminBar: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool // AdminBar not needed on Item page
  // query: PropTypes.string    // This is a hash of query parameters, too much stuff to detail right here right now

});

/* harmony default export */ __webpack_exports__["default"] = (HeaderComp2);

/***/ }),

/***/ "./app/jsx/components/HeroComp.jsx":
/*!*****************************************!*\
  !*** ./app/jsx/components/HeroComp.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Hero Component ##### //




var HeroComp = /*#__PURE__*/function (_React$Component) {
  _inherits(HeroComp, _React$Component);

  var _super = _createSuper(HeroComp);

  function HeroComp() {
    _classCallCheck(this, HeroComp);

    return _super.apply(this, arguments);
  }

  _createClass(HeroComp, [{
    key: "render",
    value: function render() {
      var h = this.props.hero_data;
      if (!h) return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-hero",
        style: {
          backgroundImage: "url(" + h.hero.url + ")"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null, "Open Access Publications from the University of California"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-hero__campus"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, h.unit_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/campuses"
      }, "Explore all of our campuses")));
    }
  }]);

  return HeroComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(HeroComp, "propTypes", {
  hero_data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    unit_name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    hero: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
    })
  })
});

/* harmony default export */ __webpack_exports__["default"] = (HeroComp);

/***/ }),

/***/ "./app/jsx/components/HomeSection1Comp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/HomeSection1Comp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Home Section 1 Component ##### //



var HomeSection1Comp = /*#__PURE__*/function (_React$Component) {
  _inherits(HomeSection1Comp, _React$Component);

  var _super = _createSuper(HomeSection1Comp);

  function HomeSection1Comp() {
    _classCallCheck(this, HomeSection1Comp);

    return _super.apply(this, arguments);
  }

  _createClass(HomeSection1Comp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-homesection__1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-homesection__1-description"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Good for Authors"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Open Access research is read and cited more than access-restricted scholarship, increasing the academic impact of and public engagement with your ideas."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Good for Readers"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "The University of California\u2019s Open Access policies extend the University\u2019s public mission to share broadly \u2014 throughout California, the nation, and the world \u2014 the research and knowledge produced at our campuses.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        className: "c-homesection__1-metrics-heading"
      }, "Metrics of Use"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, this.props.stats.statsCountItems.toLocaleString()), " Items"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--view"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, this.props.stats.statsCountViews.toLocaleString()), " Views")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/ucoapolicies",
        className: "c-homesection__1-link"
      }, "Learn more about UC Open Access"));
    }
  }]);

  return HomeSection1Comp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (HomeSection1Comp);

/***/ }),

/***/ "./app/jsx/components/HomeSection2Comp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/HomeSection2Comp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _WizardComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WizardComp.jsx */ "./app/jsx/components/WizardComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Home Section 2 Component ##### //





var HomeSection2Comp = /*#__PURE__*/function (_React$Component) {
  _inherits(HomeSection2Comp, _React$Component);

  var _super = _createSuper(HomeSection2Comp);

  function HomeSection2Comp() {
    var _this;

    _classCallCheck(this, HomeSection2Comp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      modalOpen: false
    });

    _defineProperty(_assertThisInitialized(_this), "closeWizardModal", function (e) {
      _this.setState({
        modalOpen: false
      });
    });

    return _this;
  }

  _createClass(HomeSection2Comp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "repository",
        className: "c-homesection__2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-homesection__2-map"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-homesection__2-description"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Institutional Repository"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "eScholarship serves as the institutional repository for the ten University of California campuses and affiliated research centers."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "eScholarship Repository content includes postprints (previously published articles), as well as working papers, electronic theses and dissertations (ETDs), student capstone projects, and seminar/conference proceedings.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        id: "wizardlyDeposit",
        className: "c-homesection__2-deposit",
        onClick: function onClick(event) {
          _this2.setState({
            modalOpen: true
          });

          event.preventDefault();
        }
      }, "Deposit Work"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
        to: "/campuses",
        className: "c-homesection__2-browse-campuses"
      }, "Browse campuses"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        className: "c-homesection__2-metrics-heading"
      }, "Repository Holdings"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--articles"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/search?type_of_work=article"
      }, this.props.stats.statsCountArticles.toLocaleString()), " Articles"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--books"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/search?type_of_work=monograph"
      }, this.props.stats.statsCountBooks.toLocaleString()), " Books"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--theses"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/search?type_of_work=dissertation"
      }, this.props.stats.statsCountThesesDiss.toLocaleString()), " Theses")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/search",
        className: "c-homesection__2-browse-all"
      }, "Browse all eScholarship holdings"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
        to: "/repository",
        className: "c-homesection__2-more"
      }, "Learn more about the eScholarship repository"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "wizardModalBase"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        showModal: this.state.modalOpen,
        parentSelector: function parentSelector() {
          return $('#wizardModalBase')[0];
        },
        onCancel: function onCancel(e) {
          return _this2.closeWizardModal(e);
        },
        campuses: this.props.campuses,
        data: {
          campusID: null,
          campusName: null,
          unitID: null,
          unitName: null
        }
      })));
    }
  }]);

  return HomeSection2Comp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(HomeSection2Comp, "propTypes", {
  campuses: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (HomeSection2Comp);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/components/HomeSection3Comp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/HomeSection3Comp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_JournalGridComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/JournalGridComp.jsx */ "./app/jsx/components/JournalGridComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Home Section 3 Component ##### //




var HomeSection3Comp = /*#__PURE__*/function (_React$Component) {
  _inherits(HomeSection3Comp, _React$Component);

  var _super = _createSuper(HomeSection3Comp);

  function HomeSection3Comp() {
    _classCallCheck(this, HomeSection3Comp);

    return _super.apply(this, arguments);
  }

  _createClass(HomeSection3Comp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "publishing",
        className: "c-homesection__3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-homesection__3-description"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "eScholarship Publishing"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "eScholarship Publishing is an open access publishing platform subsidized by the University of California, managed by the California Digital Library, and offered free of charge to UC-affiliated departments, research units, publishing programs and individual scholars."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "We offer publishing and production tools, including a full editorial and peer review system, as well as professional support and consulting services.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-homesection__3-journalgrid"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_JournalGridComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        count_journals: this.props.count_journals
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/publishing",
        className: "c-homesection__3-link"
      }, "Learn more about eScholarship Publishing"));
    }
  }]);

  return HomeSection3Comp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (HomeSection3Comp);

/***/ }),

/***/ "./app/jsx/components/InfoPagesComp.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/components/InfoPagesComp.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_NotYetLink_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/NotYetLink.jsx */ "./app/jsx/components/NotYetLink.jsx");
/* harmony import */ var _components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/PaginationComp.jsx */ "./app/jsx/components/PaginationComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Informational Pages Component ##### //





 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var ResultComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ResultComp, _React$Component);

  var _super = _createSuper(ResultComp);

  function ResultComp() {
    _classCallCheck(this, ResultComp);

    return _super.apply(this, arguments);
  }

  _createClass(ResultComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-infopages__text').dotdotdot({
        watch: "window"
      });
    }
  }, {
    key: "render",
    value: function render() {
      var r = this.props.result,
          ancestor_path = r.ancestor_id == "root" ? "/" : "/uc/".concat(r.ancestor_id),
          target_path = r.isPage && r.ancestor_id == "root" ? "/".concat(r.target_id) : r.isPage ? "/uc/".concat(r.ancestor_id, "/").concat(r.target_id) : "/uc/".concat(r.target_id);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-infopages__item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, r.topmost_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, r.topmost_name), r.ancestor_id && r.ancestor_name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
        to: ancestor_path
      }, r.ancestor_name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
        to: target_path,
        className: "c-infopages__title"
      }, r.target_name)), r.content && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-infopages__text",
        dangerouslySetInnerHTML: {
          __html: r.content
        }
      }));
    }
  }]);

  return ResultComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(ResultComp, "propTypes", {
  result: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    isPage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
    topmost_name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    // Could be null
    ancestor_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    // Parent Unit
    ancestor_name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    target_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    // Unit or page
    target_name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    content: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired
});

var InfoPagesComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(InfoPagesComp, _React$Component2);

  var _super2 = _createSuper(InfoPagesComp);

  function InfoPagesComp() {
    var _this;

    _classCallCheck(this, InfoPagesComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      showMore: false
    });

    return _this;
  }

  _createClass(InfoPagesComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-infopages"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-infopages__items"
      }, this.props.info_count != 0 ? this.props.infoResults.slice(0, 3).map(function (result) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResultComp, {
          key: result.id,
          result: result
        });
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), "No results found.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))), this.props.info_count > 3 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-infopages__toggle",
        onClick: function onClick() {
          return _this2.setState({
            showMore: true
          });
        },
        hidden: this.state.showMore
      }, "Show more results"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-infopages__show-more",
        hidden: !this.state.showMore
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-infopages__items"
      }, this.props.infoResults.slice(3, 12).map(function (result) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ResultComp, {
          key: result.id,
          result: result
        });
      })), this.props.info_count > 12 ? [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        key: "0",
        formName: "facetForm",
        formButton: "facet-form-submit",
        query: this.props.query,
        count: this.props.info_count,
        is_info: true
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        key: "1",
        className: "c-infopages__toggle",
        onClick: function onClick() {
          return _this2.setState({
            showMore: false
          });
        }
      }, "Show fewer results")] : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-infopages__toggle",
        onClick: function onClick() {
          return _this2.setState({
            showMore: false
          });
        }
      }, "Show fewer results")));
    }
  }]);

  return InfoPagesComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(InfoPagesComp, "propTypes", {
  query: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    q: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    rows: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    sort: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    info_start: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    start: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired,
  infoResults: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  info_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (InfoPagesComp);

/***/ }),

/***/ "./app/jsx/components/IssueActionsComp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/IssueActionsComp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ShareComp.jsx */ "./app/jsx/components/ShareComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Issue Actions Component ##### //
// Within c-itemactions parent <div>, between 2 - 5 buttons or similar components can be used, as in example below.
// Styles that extend .o-button button object styles (like for applying custom button icons) should be placed in _itemactions.scss, as with the c-itemactions__button-[name] examples below:



var IssueActionsComp = /*#__PURE__*/function (_React$Component) {
  _inherits(IssueActionsComp, _React$Component);

  var _super = _createSuper(IssueActionsComp);

  function IssueActionsComp() {
    _classCallCheck(this, IssueActionsComp);

    return _super.apply(this, arguments);
  }

  _createClass(IssueActionsComp, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-itemactions"
      }, p.buy_link && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-itemactions__link-buy",
        href: p.buy_link
      }, "Buy Issue"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-download"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        type: "unit",
        id: this.props.unit_id
      }));
    }
  }]);

  return IssueActionsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (IssueActionsComp);

/***/ }),

/***/ "./app/jsx/components/IssueComp.jsx":
/*!******************************************!*\
  !*** ./app/jsx/components/IssueComp.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/LazyImageComp.jsx */ "./app/jsx/components/LazyImageComp.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Issue Component ##### //



 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var IssueComp = /*#__PURE__*/function (_React$Component) {
  _inherits(IssueComp, _React$Component);

  var _super = _createSuper(IssueComp);

  function IssueComp() {
    var _this;

    _classCallCheck(this, IssueComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "openAndAdjust", function (event) {
      jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this.caption).trigger('destroy');
      jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this.caption).removeClass("c-issue__caption-truncate");

      if (_this.descr) {
        jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this.descr).height(jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this.descr)[0].offsetHeight + jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this.caption)[0].offsetHeight - 40);
      }
    });

    _defineProperty(_assertThisInitialized(_this), "handleMissingThumbnail", function (event) {
      jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this.title).css("left", "0");
    });

    return _this;
  }

  _createClass(IssueComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      if (this.caption) {
        jquery__WEBPACK_IMPORTED_MODULE_3___default()(this.caption).dotdotdot({
          watch: 'window',
          after: '.c-issue__caption-truncate-more',
          callback: function callback() {
            return jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this2.caption).find(".c-issue__caption-truncate-more").click(_this2.openAndAdjust);
          }
        });
        setTimeout(function () {
          return jquery__WEBPACK_IMPORTED_MODULE_3___default()(_this2.caption).trigger('update');
        }, 0); // removes 'more' link upon page load if less than truncation threshold (max-height), or if no max-height is applied (mobile)
      }

      if (!this.thumbnail) {
        this.handleMissingThumbnail();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-issue"
      }, p.title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        ref: function ref(e) {
          return _this3.title = e;
        }
      }, p.title), p.cover && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("figure", {
        className: "c-issue__thumbnail",
        ref: function ref(e) {
          return _this3.thumbnail = e;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: "/cms-assets/" + p.cover.asset_id,
        alt: "Issue cover"
      }), p.cover.caption && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("figcaption", {
        className: "c-issue__caption-truncate",
        ref: function ref(e) {
          return _this3.caption = e;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "Cover Caption:"), " ", p.cover.caption, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-issue__caption-truncate-more"
      }, "More")))), p.description && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-issue__description",
        ref: function ref(e) {
          return _this3.descr = e;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        html: p.description,
        h1Level: 3
      })));
    }
  }]);

  return IssueComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (IssueComp);

/***/ }),

/***/ "./app/jsx/components/ItemActionsComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/ItemActionsComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ShareComp.jsx */ "./app/jsx/components/ShareComp.jsx");
/* harmony import */ var _components_NotYetLink_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/NotYetLink.jsx */ "./app/jsx/components/NotYetLink.jsx");
/* harmony import */ var _components_DropdownMenu_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/DropdownMenu.jsx */ "./app/jsx/components/DropdownMenu.jsx");
/* harmony import */ var _components_WithdrawModalComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/WithdrawModalComp.jsx */ "./app/jsx/components/WithdrawModalComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Item Actions Component ##### //
// Within c-itemactions parent <div>, between 2 - 5 buttons or similar components can be used, as in example below.
// Styles that extend .o-button button object styles (like for applying custom button icons) should be placed in _itemactions.scss, as with the c-itemactions__button-[name] examples below:








var Downloadable = /*#__PURE__*/function (_React$Component) {
  _inherits(Downloadable, _React$Component);

  var _super = _createSuper(Downloadable);

  function Downloadable() {
    var _this;

    _classCallCheck(this, Downloadable);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "linkBuyPrint", function () {
      window.location = _this.props.attrs.buy_link;
    });

    return _this;
  }

  _createClass(Downloadable, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var p = this.props,
          contentVars = function contentVars(content_type) {
        var v = {
          'application/pdf': function applicationPdf() {
            return ['PDF', p.pdf_url, '.pdf'];
          },
          'text/html': function textHtml() {
            return ['HTML', '', '.html'];
          },
          'default': function _default() {
            return ['Content', '', ''];
          }
        };
        return v[content_type]();
      },
          x = p.content_type ? contentVars(p.content_type) : contentVars('default'),
          label = x[0],
          url = x[1],
          filename = "eScholarship UC item " + p.id + x[2],
          is_glossa = p.journal_id == 'glossapsycholinguistics' && (p.attrs.supp_files ? p.attrs.supp_files.filter(function (f) {
        return f.file == 'qt' + p.id + '.pdf';
      }).length == 1 : false) && (p.attrs.supp_files ? p.attrs.supp_files.filter(function (f) {
        return f.file == 'qt' + p.id + '.xml';
      }).length == 1 : false);

      if (is_glossa) {
        var file_path = (p.preview_key ? "/preview/" : "/content/") + "qt" + p.id + "/supp/",
            pk = p.preview_key ? "?preview_key=" + p.preview_key : "",
            pdf_url = file_path + "qt" + p.id + ".pdf" + pk,
            xml_url = file_path + "qt" + p.id + ".xml" + pk,
            pdf_file = "eScholarship UC item " + p.id + ".pdf",
            xml_file = "eScholarship UC item " + p.id + ".xml";
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-itemactions"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "o-download"
        }, p.download_restricted ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: pdf_url,
          className: "o-download__button",
          onClick: function onClick() {
            alert("Download restricted until " + p.download_restricted);
            return false;
          }
        }, "Download PDF") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: pdf_url,
          className: "o-download__button",
          download: pdf_file
        }, "Download PDF"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DropdownMenu_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
          detailsClass: "o-download__formats",
          ariaLabel: "formats"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
          className: "o-download__nested-menu"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          className: "o-download__nested-list1"
        }, "Main", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, p.download_restricted ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: pdf_url,
          onClick: function onClick() {
            alert("Download restricted until " + p.download_restricted);
            return false;
          }
        }, "PDF") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: pdf_url,
          download: pdf_file
        }, "PDF")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, p.download_restricted ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: xml_url,
          onClick: function onClick() {
            alert("Download restricted until " + p.download_restricted);
            return false;
          }
        }, "XML") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: xml_url,
          download: xml_file
        }, "XML"))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          type: "item",
          id: this.props.id
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-itemactions"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "o-download"
        }, p.download_restricted ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          className: "o-download__button",
          onClick: function onClick() {
            alert("Download restricted until " + p.download_restricted);
            return false;
          }
        }, "Download ", label) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: url,
          className: "o-download__button",
          download: filename
        }, "Download ", label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DropdownMenu_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
          detailsClass: "o-download__formats",
          ariaLabel: "formats"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
          className: "o-download__nested-menu"
        }, p.content_type && ["HTML", "PDF"].includes(label) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          className: "o-download__nested-list1"
        }, "Main", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, label == "PDF" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, p.download_restricted ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          onClick: function onClick() {
            alert("Download restricted until " + p.download_restricted);
            return false;
          }
        }, "PDF") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: url,
          download: filename
        }, "PDF")), label == "HTML" && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: "0"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NotYetLink_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
          element: "a"
        }, "ePub")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: "1"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NotYetLink_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
          element: "a"
        }, "HTML"))]))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_WithdrawModalComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
          itemID: this.props.id,
          sendApiData: this.props.sendApiData
        }), p.attrs.buy_link && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: function onClick() {
            _this2.linkBuyPrint();
          },
          className: "c-itemactions__button-print"
        }, "Buy in Print") // ToDo: Hook this up when we get eBook links
        // <button className="c-itemactions__button-buy">Buy e-Book</button>
        , /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          type: "item",
          id: this.props.id
        }));
      }
    }
  }]);

  return Downloadable;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component); // For withdrawn, embargoed, or items with no content_type,
// with one exception: "multimedia item", which is a published item with no content type
// and no published web location, but with supplemental media.


var Undownloadable = /*#__PURE__*/function (_React$Component2) {
  _inherits(Undownloadable, _React$Component2);

  var _super2 = _createSuper(Undownloadable);

  function Undownloadable() {
    _classCallCheck(this, Undownloadable);

    return _super2.apply(this, arguments);
  }

  _createClass(Undownloadable, [{
    key: "render",
    value: function render() {
      var p = this.props;
      var multimediaItem = p.status == 'published' && !p.content_type && !p.attrs.pub_web_loc && p.attrs.supp_files && p.attrs.supp_files.length > 0; // ToDo: For multimedia content, add functionality to zip up supp files for download, and put button here (like Downloadable class above) that says 'Download Content' */}

      var msg = !multimediaItem ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-alert1",
        role: "alert"
      }, p.status == 'pending' ? "This item has not yet been published on eScholarship" : p.attrs.withdrawn_message ? p.attrs.withdrawn_message : "This item is not available for download from eScholarship") : null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-itemactions"
      }, msg, !/withdrawn/.test(p.status) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_WithdrawModalComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        itemID: this.props.id,
        fetchingData: this.props.fetchingData,
        sendApiData: this.props.sendApiData
      }), !/withdrawn|pending/.test(p.status) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        type: "item",
        id: p.id
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-share"
      }));
    }
  }]);

  return Undownloadable;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var ItemActionsComp = /*#__PURE__*/function (_React$Component3) {
  _inherits(ItemActionsComp, _React$Component3);

  var _super3 = _createSuper(ItemActionsComp);

  function ItemActionsComp() {
    _classCallCheck(this, ItemActionsComp);

    return _super3.apply(this, arguments);
  }

  _createClass(ItemActionsComp, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, p.status != "published" || !p.content_type ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Undownloadable, p) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Downloadable, p));
    }
  }]);

  return ItemActionsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(ItemActionsComp, "propTypes", {
  id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  status: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  content_type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  pdf_url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  attrs: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
  download_restricted: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
});

/* harmony default export */ __webpack_exports__["default"] = (ItemActionsComp);

/***/ }),

/***/ "./app/jsx/components/JournalCarouselComp.jsx":
/*!****************************************************!*\
  !*** ./app/jsx/components/JournalCarouselComp.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_CarouselComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/CarouselComp.jsx */ "./app/jsx/components/CarouselComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Journal Carousel Component ##### //





 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var JournalCarouselComp = /*#__PURE__*/function (_React$Component) {
  _inherits(JournalCarouselComp, _React$Component);

  var _super = _createSuper(JournalCarouselComp);

  function JournalCarouselComp() {
    _classCallCheck(this, JournalCarouselComp);

    return _super.apply(this, arguments);
  }

  _createClass(JournalCarouselComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      /* jquery dotdotdot */
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.o-journal2 figcaption').dotdotdot({
        watch: 'window'
      });
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props;
      var pluralItems = p.item_count == 1 ? '' : 's';
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campuscarouselframe"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "c-campuscarouselframe__heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Link"], {
        to: "/" + p.titleID + "/journals"
      }, p.titleName, " Journals")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campuscarouselframe__carousel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CarouselComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        className: "c-journalcarousel",
        options: {
          cellAlign: 'left',
          initialIndex: 0,
          pageDots: false,
          imagesLoaded: true,
          percentPosition: false // px instead of % cells

        }
      }, p.slides.map(function (u) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: u.unit_id,
          className: "c-journalcarousel__item"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "/uc/" + u.unit_id,
          className: "o-journal2"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("figure", null, u.cover ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          src: "/cms-assets/" + u.cover.asset_id,
          alt: u.name
        }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_5__["default"] + '/temp_article.png',
          alt: u.name
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("figcaption", null, u.name))));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campuscarouselframe__stats"
      }, p.item_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Link"], {
        to: "/" + p.titleID + "/journals"
      }, p.item_count.toLocaleString()), "Item", pluralItems), p.view_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--view"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, p.view_count.toLocaleString()), "Views")));
    }
  }]);

  return JournalCarouselComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(JournalCarouselComp, "propTypes", {
  titleID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  // campus ID
  titleName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  // campus Name
  slides: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    cover: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      asset_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    })
  })).isRequired,
  item_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  view_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (JournalCarouselComp);

/***/ }),

/***/ "./app/jsx/components/JournalGridComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/JournalGridComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/LazyImageComp.jsx */ "./app/jsx/components/LazyImageComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Journal Grid Component ##### //





var JournalGridComp = /*#__PURE__*/function (_React$Component) {
  _inherits(JournalGridComp, _React$Component);

  var _super = _createSuper(JournalGridComp);

  function JournalGridComp() {
    _classCallCheck(this, JournalGridComp);

    return _super.apply(this, arguments);
  }

  _createClass(JournalGridComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-journalgrid"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/uc/anrcs_californiaagriculture"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__["default"] + 'homecover_CalAg.png',
        alt: "California Agriculture journal"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/uc/psf"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__["default"] + 'homecover_psf.png',
        alt: "Parks Stewardship Forum"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/uc/our_bsj"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__["default"] + 'homecover_glitch.png',
        alt: "Berkeley Scientific Journal"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/uc/alephucla"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__["default"] + 'homecover_aleph.png',
        alt: "Aleph, UCLA Undergraduate Research Journal"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/uc/alonfilipinxjournal"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__["default"] + 'homecover_af.png',
        alt: "Alon: Journal for Filipinx American and Diasporic Studies"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-journalgrid__all"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/journals"
      }, "View all ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, this.props.count_journals), " current journals")));
    }
  }]);

  return JournalGridComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (JournalGridComp);

/***/ }),

/***/ "./app/jsx/components/JournalInfoComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/JournalInfoComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_RightsComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/RightsComp.jsx */ "./app/jsx/components/RightsComp.jsx");
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Journal Information Component ##### //




var JournalInfoComp = /*#__PURE__*/function (_React$Component) {
  _inherits(JournalInfoComp, _React$Component);

  var _super = _createSuper(JournalInfoComp);

  function JournalInfoComp() {
    _classCallCheck(this, JournalInfoComp);

    return _super.apply(this, arguments);
  }

  _createClass(JournalInfoComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-journalinfo"
      }, this.props.doaj && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_2__["default"] + 'temp_journalinfo.png',
        alt: "DOAJ"
      }), this.props.rights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_RightsComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        rights: this.props.rights,
        size: "large"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, this.props.issn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "ISSN:"), " ", this.props.issn), this.props.eissn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "e-ISSN:"), " ", this.props.eissn)));
    }
  }]);

  return JournalInfoComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (JournalInfoComp);

/***/ }),

/***/ "./app/jsx/components/JumpComp.jsx":
/*!*****************************************!*\
  !*** ./app/jsx/components/JumpComp.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json");
var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json", 1);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Jump Component ##### //
{
  /* This component only renders for published items with a content_type */
}




var JumpComp = /*#__PURE__*/function (_React$Component) {
  _inherits(JumpComp, _React$Component);

  var _super = _createSuper(JumpComp);

  function JumpComp() {
    var _this;

    _classCallCheck(this, JumpComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      show: true
      /* default to true for server-side */

    });

    _defineProperty(_assertThisInitialized(_this), "widthChange", function () {
      _this.setState({
        show: _this.mq.matches
      });
    });

    return _this;
  }

  _createClass(JumpComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (!(typeof matchMedia === "undefined")) {
        this.mq = matchMedia("(min-width:" + _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_1__.screen2 + ")");
        this.mq.addListener(this.widthChange);
        this.widthChange();
      }
    }
  }, {
    key: "handleClick",
    value: function handleClick(e, tabName) {
      e.preventDefault();
      this.props.changeTab(tabName);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var kind = this.props.genre == 'monograph' ? "Book" : "Article";
      var toc = this.props.attrs.toc && this.props.attrs.toc.divs;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1",
        hidden: !this.state.show
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Jump To")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-jump"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this2.handleClick(e, "article_main");
        }
      }, kind), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-jump__tree",
        "aria-labelledby": "c-jump__label"
      }, this.props.attrs["abstract"] && !toc && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this2.handleClick(e, "article_abstract");
        }
      }, "Abstract")), !toc && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this2.handleClick(e, "article_main");
        }
      }, "Main Content")), toc && toc.map(function (div) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: div.title
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "#",
          onClick: function onClick(e) {
            return _this2.handleClick(e, div.anchor);
          }
        }, div.title));
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-jump__siblings"
      }, this.props.attrs.supp_files && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this2.handleClick(e, "supplemental");
        }
      }, "Supplemental Material")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this2.handleClick(e, "metrics");
        }
      }, "Metrics")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this2.handleClick(e, "author");
        }
      }, "Author & ", kind, " Info")))));
    }
  }]);

  return JumpComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (JumpComp);

/***/ }),

/***/ "./app/jsx/components/LanguageComp.jsx":
/*!*********************************************!*\
  !*** ./app/jsx/components/LanguageComp.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Language Component ##### //


var LanguageComp = /*#__PURE__*/function (_React$Component) {
  _inherits(LanguageComp, _React$Component);

  var _super = _createSuper(LanguageComp);

  function LanguageComp() {
    _classCallCheck(this, LanguageComp);

    return _super.apply(this, arguments);
  }

  _createClass(LanguageComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-language"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        className: "o-textlink__primary"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("abbr", {
        className: "c-language__small-label",
        title: "Espa\xF1ol"
      }, "ES"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "c-language__large-label"
      }, "Espa\xF1ol")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        className: "o-textlink__primary"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("abbr", {
        className: "c-language__small-label",
        title: "Portugu\xEAs"
      }, "PT"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "c-language__large-label"
      }, "Portugu\xEAs")));
    }
  }]);

  return LanguageComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (LanguageComp);

/***/ }),

/***/ "./app/jsx/components/LazyImageComp.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/components/LazyImageComp.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Lazy Image Component ##### //
 // Don't try to do lazy loading on server side (lozad won't run there)

var lozad;
if (!(typeof document === "undefined")) lozad = __webpack_require__(/*! lozad */ "./node_modules/lozad/dist/lozad.min.js"); // A single observer is sufficient for all instances of LazyImageComp, and it doesn't
// really hurt anybody if it hangs around.

var observer = null;

var LazyImageComp = /*#__PURE__*/function (_React$Component) {
  _inherits(LazyImageComp, _React$Component);

  var _super = _createSuper(LazyImageComp);

  function LazyImageComp() {
    _classCallCheck(this, LazyImageComp);

    return _super.apply(this, arguments);
  }

  _createClass(LazyImageComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (!(typeof document === "undefined")) {
        if (!observer) observer = lozad('.c-lazyimage');
        observer.observe(); // When running visual regression tests, load every image immediately

        if (navigator.userAgent == "puppeteer") document.querySelectorAll(".c-lazyimage").forEach(function (el) {
          return observer.triggerLoad(el);
        });
      }
    }
    /* img 'src' attribute below gets added dynamically upon successful image load and will have the same value as 'data-src' */

  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "c-lazyimage",
        "data-src": this.props.src,
        alt: this.props.alt
      });
    }
  }]);

  return LazyImageComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (LazyImageComp);

/***/ }),

/***/ "./app/jsx/components/MarqueeComp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/MarqueeComp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_CarouselComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/CarouselComp.jsx */ "./app/jsx/components/CarouselComp.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Carousel Component ##### //




 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var MarqueeComp = /*#__PURE__*/function (_React$Component) {
  _inherits(MarqueeComp, _React$Component);

  var _super = _createSuper(MarqueeComp);

  function MarqueeComp() {
    var _this;

    _classCallCheck(this, MarqueeComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "destroydotdotdot", function (event) {
      jquery__WEBPACK_IMPORTED_MODULE_4___default()(_this.aboutElement).trigger('destroy');
      jquery__WEBPACK_IMPORTED_MODULE_4___default()(_this.aboutElement).removeClass("c-marquee__sidebar-truncate");
      jquery__WEBPACK_IMPORTED_MODULE_4___default()(_this.aboutElement).removeClass("o-columnbox__truncate1");
      jquery__WEBPACK_IMPORTED_MODULE_4___default()(_this.aboutElement).find(".c-marquee__sidebar-more").hide();
    });

    _defineProperty(_assertThisInitialized(_this), "renderMarquee", function (slides, about_block) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-marquee"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CarouselComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        className: "c-marquee__carousel",
        truncate: ".c-marquee__carousel-cell",
        options: {
          cellAlign: 'left',
          contain: true,
          initialIndex: 0,
          imagesLoaded: true
        }
      }, slides), _this.props.marquee.about && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", {
        className: "c-marquee__sidebar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "About")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-marquee__sidebar-truncate",
        ref: function ref(element) {
          return _this.aboutElement = element;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        html: about_block,
        h1Level: 3
      })))));
    });

    _defineProperty(_assertThisInitialized(_this), "renderAbout", function (about_block) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "About")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-columnbox__truncate1",
        ref: function ref(element) {
          return _this.aboutElement = element;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        html: about_block,
        h1Level: 3
      })));
    });

    return _this;
  }

  _createClass(MarqueeComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      if (this.aboutElement) {
        jquery__WEBPACK_IMPORTED_MODULE_4___default()(this.aboutElement).dotdotdot({
          watch: 'window',
          after: '.c-marquee__sidebar-more',
          callback: function callback() {
            jquery__WEBPACK_IMPORTED_MODULE_4___default()(_this2.aboutElement).find(".c-marquee__sidebar-more").click(_this2.destroydotdotdot);
          }
        });
        setTimeout(function () {
          return jquery__WEBPACK_IMPORTED_MODULE_4___default()(_this2.aboutElement).trigger('update');
        }, 0); // removes 'more' link upon page load if less than truncation threshold
      }
    }
  }, {
    key: "render",
    value: function render() {
      var about_block = this.props.marquee.about ? "<div>" + this.props.marquee.about + "</div>" + "<button class=\"c-marquee__sidebar-more\">More</button>" : null;
      var marquee = this.props.marquee;
      var slides = [];

      if (marquee.slides) {
        // console.log(this.props.marquee.slides)
        slides = this.props.marquee.slides.map(function (slide, i) {
          var imgUrl;

          if (slide.imagePreviewUrl) {
            imgUrl = slide.imagePreviewUrl; //for testing - amy used image urls in slide.image before she got upload working
            //seems useful so keeping this logic here
          } else if (slide.image && typeof slide.image === "string") {
            imgUrl = slide.image;
          } else if (slide.image && slide.image.asset_id) {
            imgUrl = "/cms-assets/" + slide.image.asset_id;
          } else {
            imgUrl = "";
          }

          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            key: i,
            className: "c-marquee__carousel-cell",
            style: {
              backgroundImage: "url('" + imgUrl + "')"
            }
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, slide.header), slide.text && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
            html: slide.text,
            h1Level: 3
          }));
        });
      }

      if (this.props.forceOn || marquee.carousel && marquee.slides && marquee.slides.length > 0) return this.renderMarquee(slides, about_block);
      if ((marquee.carousel && (!marquee.slides || marquee.slides.length == 0) || !marquee.carousel) && marquee.about) return this.renderAbout(about_block);
    }
  }]);

  return MarqueeComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(MarqueeComp, "propTypes", {
  forceOn: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  marquee: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    about: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    carousel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
    slides: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      header: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      image: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object]),
      text: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      imagePreviewUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    }))
  })
});

/* harmony default export */ __webpack_exports__["default"] = (MarqueeComp);

/***/ }),

/***/ "./app/jsx/components/MediaFileGridComp.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/components/MediaFileGridComp.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_MediaModalComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/MediaModalComp.jsx */ "./app/jsx/components/MediaModalComp.jsx");
/* harmony import */ var _objects_MediaFeatureObj_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../objects/MediaFeatureObj.jsx */ "./app/jsx/objects/MediaFeatureObj.jsx");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Media File Grid Component ##### //




 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var CellComp = /*#__PURE__*/function (_React$Component) {
  _inherits(CellComp, _React$Component);

  var _super = _createSuper(CellComp);

  function CellComp() {
    var _this;

    _classCallCheck(this, CellComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      showModal: false
    });

    _defineProperty(_assertThisInitialized(_this), "handleOpenModal", function () {
      return _this.setState({
        showModal: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleCloseModal", function () {
      return _this.setState({
        showModal: false
      });
    });

    return _this;
  }

  _createClass(CellComp, [{
    key: "render",
    value: function render() {
      var p = this.props,
          url = (p.preview_key ? "/preview/" : "/content/") + "qt" + p.id + "/supp/" + p.file + (p.preview_key ? "?preview_key=" + p.preview_key : ""),
          mimeSimple = p.mimeSimple == "doc" ? "data" : p.mimeSimple,
          m = {
        "audio": "play audio file",
        "image": "view larger",
        "video": "play video file"
      },
          fileLabel = m[mimeSimple] ? m[mimeSimple] : p.file;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafile--" + mimeSimple
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "o-mediafile__heading",
        ref: function ref(el) {
          if (p.title && p.title.length > 38) jquery__WEBPACK_IMPORTED_MODULE_3___default()(el).dotdotdot({
            watch: "window"
          });
        }
      }, p.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafile__preview",
        onClick: this.handleOpenModal,
        "aria-label": fileLabel,
        target: "_blank"
      }, mimeSimple == "image" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "o-mediafile__image",
        src: url,
        alt: p.file
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafile__description",
        ref: function ref(el) {
          if (p.description && p.description.length > 0) jquery__WEBPACK_IMPORTED_MODULE_3___default()(el).dotdotdot({
            watch: "window"
          });
        }
      }, p.description), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "o-mediafile__view",
        onClick: this.handleOpenModal
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "View Media")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: url,
        className: "o-mediafile__download",
        download: p.file
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: p.doi,
        className: "o-mediafile__doi"
      }, p.doi), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MediaModalComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        showModal: this.state.showModal,
        handleCloseModal: this.handleCloseModal
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_MediaFeatureObj_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        file: p.file,
        url: url,
        type: mimeSimple,
        title: p.title,
        description: p.description,
        doi: p.doi
      })));
    }
  }]);

  return CellComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var MediaFileGridComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(MediaFileGridComp, _React$Component2);

  var _super2 = _createSuper(MediaFileGridComp);

  function MediaFileGridComp() {
    _classCallCheck(this, MediaFileGridComp);

    return _super2.apply(this, arguments);
  }

  _createClass(MediaFileGridComp, [{
    key: "getVisibleFiles",
    value: function getVisibleFiles(files, filterType) {
      var _this2 = this;

      var foundOne = false;
      var r = files.map(function (f, i) {
        var title = f.title,
            doi = f.doi,
            description = f.description,
            useFilenameForTitle = false;

        if (!f.title) {
          title = description;
          description = ''; // Use filename when BOTH title AND description empty (typically no spaces, so dotdotdot)

          if (!f.description) {
            useFilenameForTitle = true;
            title = f.file;
          }
        }

        var p = (f['mimeSimple'].includes(filterType) || filterType == "") && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CellComp, {
          key: i,
          id: _this2.props.id,
          mimeSimple: f.mimeSimple,
          title: title,
          file: f.file,
          doi: f.doi,
          description: description,
          useFilenameForTitle: useFilenameForTitle,
          preview_key: _this2.props.preview_key
        });

        if (p) {
          foundOne = true;
        }

        return p;
      });
      return foundOne ? r : false;
    }
  }, {
    key: "render",
    value: function render() {
      var visibleFiles = this.getVisibleFiles(this.props.supp_files, this.props.filterType);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-mediafilegrid"
      }, visibleFiles ? visibleFiles : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "No files found matching that mime type.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)));
    }
  }]);

  return MediaFileGridComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (MediaFileGridComp);

/***/ }),

/***/ "./app/jsx/components/MediaListComp.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/components/MediaListComp.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Media List Component ##### //
// Takes an array of hashes listing file types and counts of each:
// [{type: "pdf", count: 1}, {type: "image", count: 3}, etc


var MediaListComp = /*#__PURE__*/function (_React$Component) {
  _inherits(MediaListComp, _React$Component);

  var _super = _createSuper(MediaListComp);

  function MediaListComp() {
    _classCallCheck(this, MediaListComp);

    return _super.apply(this, arguments);
  }

  _createClass(MediaListComp, [{
    key: "render",
    value: function render() {
      var supp_files = this.props.supp_files.map(function (supp_file, i, a) {
        if (supp_file.count >= 1) {
          var display;

          if (supp_file.type === 'video' || supp_file.type === 'image') {
            display = supp_file.count != 1 ? supp_file.type + 's' : supp_file.type;
          } else if (supp_file.type === 'audio') {
            display = supp_file.count != 1 ? 'audio files' : 'audio file';
          } else if (supp_file.type === 'pdf') {
            display = supp_file.count != 1 ? 'PDFs' : 'PDF';
          } else if (supp_file.type === 'zip') {
            display = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("abbr", {
              title: "zips"
            }, supp_file.count != 1 ? 'ZIPs' : 'ZIP');
          } else {
            display = supp_file.count != 1 ? 'files' : 'file';
          }

          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: supp_file + i,
            className: "c-medialist__" + supp_file.type
          }, supp_file.count, " supplemental ", display);
        }
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-medialist"
      }, supp_files);
    }
  }]);

  return MediaListComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (MediaListComp);

/***/ }),

/***/ "./app/jsx/components/MediaModalComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/MediaModalComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-modal */ "./node_modules/react-modal/lib/index.js");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Media Modal Component ##### //



var MediaModalComp = /*#__PURE__*/function (_React$Component) {
  _inherits(MediaModalComp, _React$Component);

  var _super = _createSuper(MediaModalComp);

  function MediaModalComp() {
    _classCallCheck(this, MediaModalComp);

    return _super.apply(this, arguments);
  }

  _createClass(MediaModalComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-modal"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_modal__WEBPACK_IMPORTED_MODULE_1___default.a, {
        isOpen: this.props.showModal,
        contentLabel: "onRequestClose Example",
        onRequestClose: this.props.handleCloseModal,
        className: "c-modal--open",
        overlayClassName: "c-modal__overlay"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "modal__header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-modal__header-close",
        onClick: this.props.handleCloseModal
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "modal__content"
      }, this.props.children)));
    }
  }]);

  return MediaModalComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (MediaModalComp);

/***/ }),

/***/ "./app/jsx/components/MediaRefineComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/MediaRefineComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Media Refine Component ##### //


var MediaRefineComp = /*#__PURE__*/function (_React$Component) {
  _inherits(MediaRefineComp, _React$Component);

  var _super = _createSuper(MediaRefineComp);

  function MediaRefineComp() {
    _classCallCheck(this, MediaRefineComp);

    return _super.apply(this, arguments);
  }

  _createClass(MediaRefineComp, [{
    key: "render",
    value: function render() {
      var mimeSimpleLabel = {
        'audio': 'Audio',
        'data': 'Others',
        'doc': 'Documents',
        'image': 'Images',
        'video': 'Videos'
      };
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-itemactions"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__droplist2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "o-input__droplist-label2"
      }, "Refine media type by:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "filterType",
        id: "o-input__droplist-label2",
        onChange: this.props.changeType,
        value: this.props.filterType
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: ""
      }, "All"), this.props.mimeTypes.map(function (type) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: type,
          value: type
        }, mimeSimpleLabel[type]);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-download"
      }));
    }
  }]);

  return MediaRefineComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (MediaRefineComp);

/***/ }),

/***/ "./app/jsx/components/MediaViewerComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/MediaViewerComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_MediaRefineComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/MediaRefineComp.jsx */ "./app/jsx/components/MediaRefineComp.jsx");
/* harmony import */ var _objects_MediaFeatureObj_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../objects/MediaFeatureObj.jsx */ "./app/jsx/objects/MediaFeatureObj.jsx");
/* harmony import */ var _objects_MediaViewerObj_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../objects/MediaViewerObj.jsx */ "./app/jsx/objects/MediaViewerObj.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Media Viewer Component ##### //





var MediaViewerComp = /*#__PURE__*/function (_React$Component) {
  _inherits(MediaViewerComp, _React$Component);

  var _super = _createSuper(MediaViewerComp);

  function MediaViewerComp() {
    var _this;

    _classCallCheck(this, MediaViewerComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      filterType: "",
      mediaFeature: null,
      featureFile: "",
      featureUrl: "",
      featureMimesimple: "",
      featureTitle: "",
      featureDescription: ""
    });

    _defineProperty(_assertThisInitialized(_this), "changeType", function (event) {
      _this.setState({
        filterType: event.target.value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "openViewer", function (featureNumber, featureFile, featureUrl, featureMimesimple, featureTitle, featureDescription) {
      _this.setState({
        mediaFeature: featureNumber,
        featureFile: featureFile,
        featureUrl: featureUrl,
        featureMimesimple: featureMimesimple,
        featureTitle: featureTitle,
        featureDescription: featureDescription
      });

      _this.mediaViewerFeature.focus();

      _this.mediaViewerFeature.scrollIntoView({
        behavior: 'smooth'
      });
    });

    return _this;
  }

  _createClass(MediaViewerComp, [{
    key: "getVisibleFiles",
    value: function getVisibleFiles(files, filterType) {
      var _this2 = this;

      // TODO: De-duplicate this code, currently shared with MediaFileGridComp
      var foundOne = false;
      var r = files.map(function (f, i) {
        var title = f.title,
            description = f.description;

        if (!f.title) {
          title = description;
          description = ''; // Use filename when BOTH title AND description empty (typically no spaces, so dotdotdot)

          if (!f.description) {
            title = f.file;
          }
        }

        var type = {
          "audio": 1,
          "data": 2,
          "image": 3,
          "video": 4
        },
            // mimeSimple is being used within user dropdown filter (MediaRefineComp),
        // which uses a slightly more granular list of mimetypes: It includes 'doc'
        // (for things like PDF and Word).  But for the comeponent definition 
        // we are only wortking with 'audio', 'data', 'imag', and 'video'
        // ..so in this case 'doc' gets lumped into 'data'
        mimeSimple = f['mimeSimple'] == "doc" ? "data" : f['mimeSimple'],
            c;

        if (f['mimeSimple'].includes(filterType) || filterType == "") {
          var url = (_this2.props.preview_key ? "/preview/" : "/content/") + "qt" + _this2.props.id + "/supp/" + f.file + (_this2.props.preview_key ? "?preview_key=" + _this2.props.preview_key : "");
          c = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_MediaViewerObj_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
            key: i,
            mimeSimple: mimeSimple,
            title: title,
            file: f.file,
            description: description,
            url: url,
            isSelected: _this2.state.mediaFeature == type[mimeSimple],
            openViewer: function openViewer() {
              return _this2.openViewer(type[mimeSimple], f.file, url, mimeSimple, title, description);
            }
          });
        }

        if (c) {
          foundOne = true;
        }

        return c;
      });
      return foundOne ? r : false;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      // TODO: De-duplicate this code, currently shared with TabSupplementalComp
      var p = this.props,
          supp_files_orig = p.supp_files,
          supp_files = [],
          mimeTypes = [];

      if (supp_files_orig) {
        // mimeSimple = Normalized mimeType value to make filtering files easier
        var _iterator = _createForOfIteratorHelper(supp_files_orig),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var f = _step.value;
            var mimeSimple = "data";

            if (f.mimeType && f.mimeType != "unknown") {
              var s = f.mimeType.split('/');

              if (s[0] == "text" || s[0] == "application" && ["pdf", "msword", "postscript", "wordperfect", "pdf"].includes(s[1])) {
                mimeSimple = "doc";
              } else if (s[0] == "image" && ["jpeg", "jpg", "png", "gif"].includes(s[1])) {
                mimeSimple = "image";
              } else if (["music", "audio"].includes(s[0])) {
                mimeSimple = "audio";
              } else if (["video"].includes(s[0])) {
                mimeSimple = s[0];
              } else {
                mimeSimple = "data";
              }
            }

            f['mimeSimple'] = mimeSimple;
            supp_files.push(f);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }

        mimeTypes = _toConsumableArray(new Set(supp_files.map(function (f) {
          return f.mimeSimple;
        })));
      }

      var visibleFiles = this.getVisibleFiles(supp_files, this.state.filterType);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-mediaviewer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-mediaviewer__feature",
        ref: function ref(el) {
          return _this3.mediaViewerFeature = el;
        },
        tabIndex: "-1"
      }, this.state.mediaFeature && this.state.mediaFeature != "" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_MediaFeatureObj_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        file: this.state.featureFile,
        url: this.state.featureUrl,
        type: this.state.featureMimesimple,
        title: this.state.featureTitle,
        description: this.state.featureDescription
      }) : null), supp_files && supp_files.length > 1 && mimeTypes.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MediaRefineComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        mimeTypes: mimeTypes,
        filterType: this.state.filterType,
        changeType: this.changeType
      }), supp_files ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-mediafilegrid"
      }, visibleFiles ? visibleFiles : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "No files found matching that mime type.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-mediafilegrid"
      }, "No supplemental material included with this item"));
    }
  }]);

  return MediaViewerComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (MediaViewerComp);

/***/ }),

/***/ "./app/jsx/components/MetaTagsComp.jsx":
/*!*********************************************!*\
  !*** ./app/jsx/components/MetaTagsComp.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MetaTagsComp; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-meta-tags */ "./node_modules/react-meta-tags/lib/index.js");
/* harmony import */ var react_meta_tags__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_meta_tags__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Meta Tags Component ##### //
{
  /* This component uses the react-meta-tags library to put title, description, and image tags in the header */
}




var MetaTagsComp = /*#__PURE__*/function (_React$Component) {
  _inherits(MetaTagsComp, _React$Component);

  var _super = _createSuper(MetaTagsComp);

  function MetaTagsComp() {
    var _this;

    _classCallCheck(this, MetaTagsComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "stripHtml", function (str) {
      return str.replace(/<(?:.|\n)*?>/gm, '');
    });

    return _this;
  }

  _createClass(MetaTagsComp, [{
    key: "render",
    value: function render() {
      var p = this.props;
      var finalTitle = p.title ? this.stripHtml(p.title) : "eScholarship";
      var _ref = [1, '', p.contribs],
          descrip_on = _ref[0],
          _abstract = _ref[1],
          descrip = _ref[2];

      if ((!p.contribs || p.contribs == '') && (!p["abstract"] || p["abstract"] == '')) {
        descrip_on = null;
      }

      if (p["abstract"] && p["abstract"] != '') {
        _abstract = this.stripHtml(p["abstract"]);
        descrip = descrip + " | Abstract: " + _abstract;
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_meta_tags__WEBPACK_IMPORTED_MODULE_2___default.a, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("title", null, finalTitle), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-title",
        property: "citation_title",
        content: finalTitle
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "og-title",
        property: "og:title",
        content: finalTitle
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        name: "twitter:widgets:autoload",
        content: "off"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        name: "twitter:dnt",
        content: "on"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        name: "twitter:widgets:csp",
        content: "on"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        name: "google-site-verification",
        content: "lQbRRf0vgPqMbnbCsgELjAjIIyJjiIWo917M7hBshvI"
      }), p["abstract"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-abstract",
        name: "citation_abstract",
        content: _abstract
      }), descrip_on && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-description",
        name: "description",
        content: descrip
      }), descrip_on && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "og-description",
        name: "og:description",
        content: descrip
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "og-image",
        property: "og:image",
        content: "https://escholarship.org/images/escholarship-facebook2.jpg"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "og-image-width",
        property: "og:image:width",
        content: "1242"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "og-image-height",
        property: "og:image:height",
        content: "1242"
      }), this.props.children);
    }
  }]);

  return MetaTagsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(MetaTagsComp, "propTypes", {
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  contribs: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  "abstract": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
});



/***/ }),

/***/ "./app/jsx/components/ModalComp.jsx":
/*!******************************************!*\
  !*** ./app/jsx/components/ModalComp.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-modal */ "./node_modules/react-modal/lib/index.js");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Modal Component ##### //
// Adopted from: https://reactcommunity.org/react-modal/examples/css_classes.html



var ModalComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ModalComp, _React$Component);

  var _super = _createSuper(ModalComp);

  function ModalComp() {
    _classCallCheck(this, ModalComp);

    return _super.apply(this, arguments);
  }

  _createClass(ModalComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_modal__WEBPACK_IMPORTED_MODULE_1___default.a, {
        isOpen: this.props.isOpen,
        parentSelector: this.props.parentSelector,
        contentLabel: "onRequestClose Example",
        onRequestClose: this.props.onCancel,
        className: "c-modal--open",
        overlayClassName: "c-modal__overlay"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "modal__header"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, this.props.header)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "modal__content"
      }, this.props.content), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-modal__footer"
      }, this.props.onCancel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-modal__button-close",
        onClick: this.props.onCancel
      }, "Cancel"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "o-button__3",
        onClick: this.props.onOK
      }, this.props.okLabel)));
    }
  }]);

  return ModalComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ModalComp);

/***/ }),

/***/ "./app/jsx/components/NavBarComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/NavBarComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_LanguageComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/LanguageComp.jsx */ "./app/jsx/components/LanguageComp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_SocialIconsComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SocialIconsComp.jsx */ "./app/jsx/components/SocialIconsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Nav Bar Component ##### //
// this.props = {navBar: {}, unit: {}, socialProps: {}}






var NavBarComp = /*#__PURE__*/function (_React$Component) {
  _inherits(NavBarComp, _React$Component);

  var _super = _createSuper(NavBarComp);

  function NavBarComp() {
    _classCallCheck(this, NavBarComp);

    return _super.apply(this, arguments);
  }

  _createClass(NavBarComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, this.props.navBar && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        data: this.props.navBar,
        unitId: this.props.unit.id
      }), this.props.socialProps && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SocialIconsComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        facebook: this.props.socialProps.facebook,
        twitter: this.props.socialProps.twitter,
        rss: this.props.socialProps.rss
      }), this.props.languages && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LanguageComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], null));
    }
  }]);

  return NavBarComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(NavBarComp, "propTypes", {
  navBar: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    slug: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    file: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.file,
    sub_nav: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array // Array Of the same things included in navBar

  })),
  socialProps: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    facebook: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    twitter: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    rss: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }),
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    extent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
  }).isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (NavBarComp);

/***/ }),

/***/ "./app/jsx/components/NavComp.jsx":
/*!****************************************!*\
  !*** ./app/jsx/components/NavComp.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_NavSubComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/NavSubComp.jsx */ "./app/jsx/components/NavSubComp.jsx");
/* harmony import */ var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json");
var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json", 1);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Navigation Component ##### //
// this.props = {data: [
//   {name: 'External Link', url: ''}           i.e. submit.escholarship.org
//   {name: 'Internal Page', slug: ''},         i.e. About Us 
//   {name: 'Unit Page', unitId: ''},           i.e. Campus Home
//   {name: 'Subnavigation', sub_nav: []},      i.e. Issues 
//   {name: 'File Name', file: ''}              i.e. PDF
//   ...
// ]}





var NavComp = /*#__PURE__*/function (_React$Component) {
  _inherits(NavComp, _React$Component);

  var _super = _createSuper(NavComp);

  function NavComp(props) {
    var _this;

    _classCallCheck(this, NavComp);

    _this = _super.call(this, props);

    _defineProperty(_assertThisInitialized(_this), "widthChange", function () {
      _this.setState({
        isOpen: _this.mq.matches
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onNavClick", function () {
      return _this.setState({
        submenuActive: null,
        isOpen: _this.mq.matches ? true : false
      });
    });

    _this.state = {
      submenuActive: null,
      isOpen: true
      /* default to true for server-side */

    };
    return _this;
  }

  _createClass(NavComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (!(typeof matchMedia === "undefined")) {
        this.mq = matchMedia("(min-width:" + _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__.screen3 + ")");
        this.mq.addListener(this.widthChange);
        this.widthChange();
      }
    }
  }, {
    key: "getNavItemJSX",
    value: function getNavItemJSX(navItem) {
      if (navItem.type == "link") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        key: navItem.id
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: navItem.url,
        onClick: this.onNavClick
      }, navItem.name));else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: navItem.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
          to: navItem.url,
          onClick: this.onNavClick
        }, navItem.name));
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var navList = this.props.data.filter(function (navItem) {
        return !navItem.hidden;
      }).map(function (navItem) {
        if (navItem.type.includes("folder")) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: navItem.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavSubComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
            name: navItem.name,
            open: _this2.state.submenuActive == navItem.name,
            onSubmenuChanged: function onSubmenuChanged(flag) {
              return _this2.setState({
                submenuActive: flag ? navItem.name : null
              });
            }
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, navItem.sub_nav.filter(function (subItem) {
            return !subItem.hidden;
          }).map(function (subItem) {
            return _this2.getNavItemJSX(subItem);
          }))));
        } else {
          return _this2.getNavItemJSX(navItem);
        }
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("nav", {
        className: "c-nav"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        open: this.state.isOpen ? "open" : "",
        className: "c-nav__main",
        ref: function ref(domNode) {
          return _this2.details = domNode;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        className: "c-nav__main-button",
        onClick: function onClick(event) {
          _this2.setState({
            isOpen: !_this2.details.open
          });

          event.preventDefault();
        }
      }, "Menu"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: this.state.submenuActive ? "c-nav__main-items--submenu-active" : "c-nav__main-items"
      }, navList)));
    }
  }]);

  return NavComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (NavComp);

/***/ }),

/***/ "./app/jsx/components/NavSubComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/NavSubComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Navigation Sub-component ##### //


var NavSubComp = /*#__PURE__*/function (_React$Component) {
  _inherits(NavSubComp, _React$Component);

  var _super = _createSuper(NavSubComp);

  function NavSubComp() {
    _classCallCheck(this, NavSubComp);

    return _super.apply(this, arguments);
  }

  _createClass(NavSubComp, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-nav__sub",
        open: this.props.open,
        ref: function ref(domNode) {
          return _this.navsub = domNode;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        className: "c-nav__sub-button",
        onClick: function onClick(event) {
          _this.props.onSubmenuChanged(!_this.navsub.open);

          event.preventDefault();
        }
      }, this.props.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-nav__sub-items"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-nav__sub-items-button",
        "aria-label": "return to menu",
        onClick: function onClick() {
          _this.props.onSubmenuChanged(false);
        }
      }, "Main Menu"), this.props.children));
    }
  }]);

  return NavSubComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (NavSubComp);

/***/ }),

/***/ "./app/jsx/components/NotYetLink.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/NotYetLink.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_ModalComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ModalComp.jsx */ "./app/jsx/components/ModalComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### NotYetLink Component (temporary modal for for functionality/pages that are "Coming Soon") ##### //



var ModalNotYetComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ModalNotYetComp, _React$Component);

  var _super = _createSuper(ModalNotYetComp);

  function ModalNotYetComp() {
    var _this;

    _classCallCheck(this, ModalNotYetComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "content", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, "You've reached a portion of our site that isn't quite ready.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), "For more information, or to provide feedback, visit the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: "https://help.escholarship.org/support/discussions/9000052123",
      target: "_blank"
    }, "Help Center"), "."));

    return _this;
  }

  _createClass(ModalNotYetComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ModalComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        isOpen: this.props.isOpen,
        header: "Coming Soon",
        content: this.content,
        onOK: this.props.onOK,
        okLabel: "OK"
      });
    }
  }]);

  return ModalNotYetComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var NotYetLink = /*#__PURE__*/function (_React$Component2) {
  _inherits(NotYetLink, _React$Component2);

  var _super2 = _createSuper(NotYetLink);

  function NotYetLink() {
    var _this2;

    _classCallCheck(this, NotYetLink);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "state", {
      modalOpen: false
    });

    _defineProperty(_assertThisInitialized(_this2), "closeModal", function (e) {
      _this2.setState({
        modalOpen: false
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "clickHandler", function (event) {
      _this2.setState({
        modalOpen: true
      });

      event.preventDefault();
    });

    return _this2;
  }

  _createClass(NotYetLink, [{
    key: "render",
    value: function render() {
      var _this3 = this;

      var element = this.props.element;
      return element == "button" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: this.props.className,
        onClick: function onClick(e) {
          return _this3.clickHandler(e);
        }
      }, this.props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ModalNotYetComp, {
        isOpen: this.state.modalOpen,
        onOK: function onOK(e) {
          return _this3.closeModal(e);
        }
      })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        className: this.props.className,
        onClick: function onClick(e) {
          return _this3.clickHandler(e);
        }
      }, this.props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ModalNotYetComp, {
        isOpen: this.state.modalOpen,
        onOK: function onOK(e) {
          return _this3.closeModal(e);
        }
      }));
    }
  }]);

  return NotYetLink;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (NotYetLink);

/***/ }),

/***/ "./app/jsx/components/PaginationComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/PaginationComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Pagination Component ##### //



var PaginationComp = /*#__PURE__*/function (_React$Component) {
  _inherits(PaginationComp, _React$Component);

  var _super = _createSuper(PaginationComp);

  function PaginationComp() {
    var _this;

    _classCallCheck(this, PaginationComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "next", function (event, rows, start, start_type) {
      event.preventDefault();

      if (parseInt(start) + parseInt(rows) <= _this.clampedCount()) {
        var newStart = parseInt(start) + parseInt(rows);
        $('[form=' + _this.props.formName + '][name=' + start_type + ']').val(newStart);
        $('#' + _this.props.formButton).click();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "previous", function (event, rows, start, start_type) {
      event.preventDefault();

      if (parseInt(start) >= parseInt(rows)) {
        var newStart = parseInt(start) - parseInt(rows);
        $('[form=' + _this.props.formName + '][name=' + start_type + ']').val(newStart);
        $('#' + _this.props.formButton).click();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "first", function (event, start, start_type) {
      event.preventDefault();

      if (parseInt(start) > 0) {
        $('[form=' + _this.props.formName + '][name=' + start_type + ']').val(0);
        $('#' + _this.props.formButton).click();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "last", function (event, rows, start, start_type) {
      event.preventDefault();
      var floor = Math.floor(_this.clampedCount() / rows),
          newStart = floor * rows;
      newStart = _this.clampedCount() % rows > 0 ? newStart : newStart - rows;

      if (newStart != start) {
        $('[form=' + _this.props.formName + '][name=' + start_type + ']').val(newStart);
        $('#' + _this.props.formButton).click();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "page", function (event, rows, start, start_type) {
      event.preventDefault();
      var newStart = (event.target.text - 1) * rows;

      if (newStart != start) {
        $('[form=' + _this.props.formName + '][name=' + start_type + ']').val(newStart);
        $('#' + _this.props.formButton).click();
      }
    });

    _defineProperty(_assertThisInitialized(_this), "prevNextButton", function (dir, rows, start, start_type) {
      return dir == "Previous" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        className: "c-pagination__prev"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        "aria-label": "go to " + dir + " result set",
        onClick: function onClick(event) {
          return _this.previous(event, rows, start, start_type);
        }
      }, dir)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        className: "c-pagination__next"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "",
        "aria-label": "go to " + dir + " result set",
        onClick: function onClick(event) {
          return _this.next(event, rows, start, start_type);
        }
      }, dir));
    });

    return _this;
  }

  _createClass(PaginationComp, [{
    key: "clampedCount",
    value: function clampedCount() {
      // AWS CloudSearch will not let us paginate beyond 10,000 results - so limit the pagination to that.
      return Math.min(this.props.count, 9999);
    }
  }, {
    key: "getPaging",
    value: function getPaging(page, first, last) {
      var r = [];

      for (var i = first; i <= last; i++) {
        r.push({
          num: i,
          className: i == page ? "c-pagination__item--current" : "c-pagination__item",
          label: i == page ? "you are on result set " + i : "go to result set " + i
        });
      }

      return r;
    }
  }, {
    key: "renderPagination",
    value: function renderPagination(rows, this_pg, pages, start, start_type) {
      var _this2 = this;

      if (pages <= 5) {
        var displayedPages = this.getPaging(this_pg, 1, pages);
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, displayedPages.map(function (page) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: page.num
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "",
            "aria-label": page.label,
            className: page.className,
            onClick: function onClick(event) {
              return _this2.page(event, rows, start, start_type);
            }
          }, page.num));
        }));
      }

      if (this_pg <= 4) {
        var _displayedPages = this.getPaging(this_pg, 1, 4);

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, _displayedPages.map(function (page) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: page.num
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "",
            "aria-label": page.label,
            className: page.className,
            onClick: function onClick(event) {
              return _this2.page(event, rows, start, start_type);
            }
          }, page.num));
        }), pages > 5 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          "aria-label": "go to result set " + pages,
          className: "c-pagination__item",
          onClick: function onClick(event) {
            return _this2.last(event, rows, start, start_type);
          }
        }, pages)), this.prevNextButton("Next", rows, start, start_type));
      } else if (this_pg > pages - 4) {
        var _displayedPages2 = this.getPaging(this_pg, pages - 3, pages);

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, this.prevNextButton("Previous", rows, start, start_type), pages > 5 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          "aria-label": "go to result set 1",
          className: "c-pagination__item",
          onClick: function onClick(event) {
            return _this2.first(event, start, start_type);
          }
        }, "1")), _displayedPages2.map(function (page) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: page.num
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "",
            "aria-label": page.label,
            className: page.className,
            onClick: function onClick(event) {
              return _this2.page(event, rows, start, start_type);
            }
          }, page.num));
        }));
      } else {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, this.prevNextButton("Previous", rows, start, start_type), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          "aria-label": "go to result set 1",
          className: "c-pagination__item",
          onClick: function onClick(event) {
            return _this2.first(event, start, start_type);
          }
        }, "1")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          "aria-label": "go to result set " + (this_pg - 1),
          className: "c-pagination__item",
          onClick: function onClick(event) {
            return _this2.previous(event, rows, start, start_type);
          }
        }, this_pg - 1)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          "aria-label": "you are on result set " + this_pg,
          className: "c-pagination__item c-pagination__item--current",
          onClick: function onClick(event) {
            return _this2.page(event, rows, start, start_type);
          }
        }, this_pg)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          "aria-label": "go to result set " + (this_pg + 1),
          className: "c-pagination__item",
          onClick: function onClick(event) {
            return _this2.next(event, rows, start, start_type);
          }
        }, this_pg + 1)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "",
          "aria-label": "go to result set " + pages,
          className: "c-pagination__item",
          onClick: function onClick(event) {
            return _this2.last(event, rows, start, start_type);
          }
        }, pages)), this.prevNextButton("Next", rows, start, start_type));
      }
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props;

      var _ref = p.is_info ? [12, p.query.info_start, "info_start"] : [p.query.rows, p.query.start, "start"],
          _ref2 = _slicedToArray(_ref, 3),
          rows = _ref2[0],
          start = _ref2[1],
          start_type = _ref2[2];

      var this_pg = Math.ceil(start / rows) + 1;
      var pages = Math.ceil(this.clampedCount() / rows);
      var wrapperName = pages <= 5 ? "c-pagination" : this_pg <= 4 ? "c-pagination--next" : this_pg > pages - 4 ? "c-pagination--prev" : "c-pagination--prev--next";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("nav", {
        className: wrapperName
      }, this.props.is_info && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "hidden",
        name: "info_start",
        form: this.props.formName,
        value: this.props.query.info_start
      }), this.renderPagination(rows, this_pg, pages, start, start_type));
    }
  }]);

  return PaginationComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(PaginationComp, "propTypes", {
  query: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    q: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    rows: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    sort: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    info_start: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    start: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired,
  is_info: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
});

/* harmony default export */ __webpack_exports__["default"] = (PaginationComp);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/components/PdfViewComp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/PdfViewComp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ScrollingAnchorComp.jsx */ "./app/jsx/components/ScrollingAnchorComp.jsx");
/* harmony import */ var _components_PdfViewerComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PdfViewerComp.jsx */ "./app/jsx/components/PdfViewerComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### PDF View Component ##### //



var H_SERVER = 'https://hypothes.is';

var HypothesisClient = /*#__PURE__*/function (_React$Component) {
  _inherits(HypothesisClient, _React$Component);

  var _super = _createSuper(HypothesisClient);

  function HypothesisClient() {
    var _this;

    _classCallCheck(this, HypothesisClient);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "hypothesis-placeholder"
      });
    });

    return _this;
  }

  _createClass(HypothesisClient, [{
    key: "componentDidMount",
    value: // Re-initialize on back button
    function componentDidMount() {
      var _this2 = this;

      var oldHypothesisDestroyed = false; // Wait for pdf.js to initialize before loading Hypothesis

      var timeout = 0;
      this.pdfWatch = setInterval(function () {
        // Get rid of existing Hypothesis that might have been loaded by the
        // browser extension, because it won't figure out we've got pdf.js here
        // since we load it late.
        if (!oldHypothesisDestroyed && _this2.destroyHypothesis()) {
          oldHypothesisDestroyed = true;
          timeout = 800;
        }

        var page = document.querySelectorAll('#pdfjs-viewer .page');
        if (!page || page.length == 0) return;
        clearInterval(_this2.pdfWatch);
        _this2.pdfWatch = null;
        setTimeout(function () {
          // Install Hypothesis for current URL
          var embedScriptEl = document.createElement('script');

          window.hypothesisConfig = function () {
            return {
              //constructor: Annotator.Sidebar,
              app: 'https://hypothes.is/app.html'
            };
          }; //embedScriptEl.src = "/hypoth/build/boot.js"


          embedScriptEl.src = H_SERVER + '/embed.js';
          console.log("Installing Hypothesis.");
          document.head.appendChild(embedScriptEl);
        }, timeout);
      }, 200);
    }
  }, {
    key: "destroyHypothesis",
    value: function destroyHypothesis() {
      var annotatorLink = document.querySelector('link[type="application/annotator+html"]');

      if (annotatorLink) {
        console.log("Destroying Hypothesis."); // Dispatch a 'destroy' event which is handled by the code in
        // annotator/main.js to remove the client. Timeout below is because
        // sometimes the annotator link exists before the client has fully
        // initialized itself, and sending it a destroy event prior to that
        // just doesn't work.

        setTimeout(function () {
          var destroyEvent = new Event('destroy');
          annotatorLink.dispatchEvent(destroyEvent); // The browser extension overrides all settings. Get rid of them.

          var settingsElements = document.querySelectorAll('script.js-hypothesis-config');

          for (var i = 0; i < settingsElements.length; i++) {
            settingsElements[i].remove();
          }
        }, 500);
        return true;
      } else return false;
    } // Close out when disappearing

  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.pdfWatch) {
        clearInterval(this.pdfWatch);
        this.pdfWatch = null;
      }

      this.destroyHypothesis();
    }
  }]);

  return HypothesisClient;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var PdfViewComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(PdfViewComp, _React$Component2);

  var _super2 = _createSuper(PdfViewComp);

  function PdfViewComp() {
    var _this3;

    _classCallCheck(this, PdfViewComp);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "view", function () {
      if (_this3.props.download_restricted) alert("Download restricted until " + _this3.props.download_restricted);else {
        var separator = _this3.props.url.indexOf("?") >= 0 ? "&" : "?";
        window.location = _this3.props.url + separator + "v=lg" + (_this3.props.preview_key ? "&preview_key=" + _this3.props.preview_key : "");
      }
    });

    return _this3;
  }

  _createClass(PdfViewComp, [{
    key: "shouldComponentUpdate",
    value: // Make a best effort to avoid re-initting pdf.js, which loses page context
    function shouldComponentUpdate(nextProps, nextState) {
      return !(this.props.url == nextProps.url);
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var separator = this.props.url.indexOf("?") >= 0 ? "&" : "?";
      var pdf_url = this.props.url + (this.props.preview_key ? separator + "preview_key=" + this.props.preview_key : "");
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        name: "article_main"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Main Content"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pdfview"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: function onClick() {
          _this4.view();
        },
        className: "c-pdfview__button-download"
      }, "Download PDF to View"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: function onClick() {
          _this4.view();
        },
        className: "c-pdfview__button-view"
      }, "View Larger")), !this.props.download_restricted && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pdfview__accessibility"
      }, "For improved accessibility of PDF content, ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: pdf_url
      }, "download the file"), " to your device."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pdfview__viewer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PdfViewerComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        url: this.props.url.replace(".pdf", "_noSplash_" + this.props.content_key + ".pdf") + (this.props.preview_key ? separator + "preview_key=" + this.props.preview_key : "")
      })), this.props.commenting_ok && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HypothesisClient, null));
    }
  }]);

  return PdfViewComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (PdfViewComp);

/***/ }),

/***/ "./app/jsx/components/PdfViewerComp.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/components/PdfViewerComp.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PdfViewerComp; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json");
var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json", 1);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### PDF.JS Viewer Component ##### //




var PdfViewerComp = /*#__PURE__*/function (_React$Component) {
  _inherits(PdfViewerComp, _React$Component);

  var _super = _createSuper(PdfViewerComp);

  function PdfViewerComp() {
    var _this;

    _classCallCheck(this, PdfViewerComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "initted", false);

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "pdfjs-cdl-wrapper",
        ref: function ref(c) {
          _this.compDiv = c;
          setTimeout(function () {
            return _this.initViewer();
          }, 0);
        },
        dangerouslySetInnerHTML: _this.viewerHTML()
      });
    });

    return _this;
  }

  _createClass(PdfViewerComp, [{
    key: "componentWillReceiveProps",
    value: // Re-initialize when loading new item 
    function componentWillReceiveProps(nextProps) {
      this.initted = this.initted && this.props.url == nextProps.url;
    } // Re-initialize on back button

  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      window.onpopstate = function (event) {
        _this2.initted = false;
      };
    } // Close out when disappearing

  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.compDiv = null;

      if (window.webViewerUnload) {
        window.webViewerUnload();
      }
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      return this.initted ? false : true; // never replace the HTML once created
    }
  }, {
    key: "initViewer",
    value: function initViewer() {
      var _this3 = this;

      // compDiv will be null if we had a tab switch just after init (e.g. due to #metrics hash at end of URL)
      if (this.initted || !this.compDiv) return; // On small mobile displays, the viewer is hidden and replaced by a download button. Put off init until
      // viewer becomes visible.

      if (window.getComputedStyle(document.getElementsByClassName('c-pdfview__viewer')[0]).display != 'block') {
        setTimeout(function () {
          return _this3.initViewer();
        }, 500);
        return;
      }

      this.initted = true; // If we're going to scroll to a page, give a clue by making the loading PDF viewer visible

      if (window.location.hash && /^#page=/.test(window.location.hash)) this.compDiv.scrollIntoView(); // Override the default URL in pdf.js

      window.DEFAULT_URL = this.props.url; // Override the normal width calculation in pdf.js (it assumes it's in the whole window, and we're embedding it)

      window.get_pdfjs_width = function () {
        var totalWidth = jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).width();
        return totalWidth >= parseInt(_js_breakpoints_json__WEBPACK_IMPORTED_MODULE_2__.screen2) ? totalWidth * (1.0 - 0.28) - 120 // sidebar occupies 28% in this mode
        : totalWidth - 21; // no sidebar in this mode
      }; // The following hijinks are a signal to webpack to split the pdf.js code into a separate
      // bundle, which will be loaded only when needed.


      __webpack_require__.e(/*! require.ensure | pdfjs */ "vendors~pdfjs").then((function (require) {
        __webpack_require__(/*! pdfjs-embed2 */ "./node_modules/pdfjs-embed2/index.js");

        window.webViewerLoad(); // we show it only after init, to avoid wonky display

        jquery__WEBPACK_IMPORTED_MODULE_1___default()("#pdfjs-viewer").css("visibility", "visible");
      }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
    }
  }, {
    key: "viewerHTML",
    value: function viewerHTML() {
      return {
        __html: "\n <div id=\"pdfjs-viewer\" className=\"jsonly\">\n  <noscript>\n    <embed src=".concat(this.props.url, " type='application/pdf' />\n  </noscript>\n    <div id=\"outerContainer\">\n\n      <div id=\"sidebarContainer\">\n        <div id=\"toolbarSidebar\">\n          <div class=\"splitToolbarButton toggled\">\n            <button id=\"viewThumbnail\" class=\"toolbarButton toggled\" title=\"Show Thumbnails\" tabindex=\"2\" data-l10n-id=\"thumbs\">\n               <span data-l10n-id=\"thumbs_label\">Thumbnails</span>\n            </button>\n            <button id=\"viewOutline\" class=\"toolbarButton\" title=\"Show Document Outline (double-click to expand/collapse all items)\" tabindex=\"3\" data-l10n-id=\"document_outline\">\n               <span data-l10n-id=\"document_outline_label\">Document Outline</span>\n            </button>\n            <button id=\"viewAttachments\" class=\"toolbarButton\" title=\"Show Attachments\" tabindex=\"4\" data-l10n-id=\"attachments\">\n               <span data-l10n-id=\"attachments_label\">Attachments</span>\n            </button>\n          </div>\n        </div>\n        <div id=\"sidebarContent\">\n          <div id=\"thumbnailView\">\n          </div>\n          <div id=\"outlineView\" class=\"hidden\">\n          </div>\n          <div id=\"attachmentsView\" class=\"hidden\">\n          </div>\n        </div>\n        <div id=\"sidebarResizer\" class=\"hidden\"></div>\n      </div>  <!-- sidebarContainer -->\n\n      <div id=\"mainContainer\">\n        <div class=\"findbar hidden doorHanger\" id=\"findbar\">\n          <div id=\"findbarInputContainer\">\n            <input id=\"findInput\" class=\"toolbarField\" title=\"Find\" placeholder=\"Find in document\u2026\" tabindex=\"91\" data-l10n-id=\"find_input\">\n            <div class=\"splitToolbarButton\">\n              <button id=\"findPrevious\" class=\"toolbarButton findPrevious\" title=\"Find the previous occurrence of the phrase\" tabindex=\"92\" data-l10n-id=\"find_previous\">\n                <span data-l10n-id=\"find_previous_label\">Previous</span>\n              </button>\n              <div class=\"splitToolbarButtonSeparator\"></div>\n              <button id=\"findNext\" class=\"toolbarButton findNext\" title=\"Find the next occurrence of the phrase\" tabindex=\"93\" data-l10n-id=\"find_next\">\n                <span data-l10n-id=\"find_next_label\">Next</span>\n              </button>\n            </div>\n          </div>\n\n          <div id=\"findbarOptionsOneContainer\">\n            <input type=\"checkbox\" id=\"findHighlightAll\" class=\"toolbarField\" tabindex=\"94\">\n            <label for=\"findHighlightAll\" class=\"toolbarLabel\" data-l10n-id=\"find_highlight\">Highlight all</label>\n            <input type=\"checkbox\" id=\"findMatchCase\" class=\"toolbarField\" tabindex=\"95\">\n            <label for=\"findMatchCase\" class=\"toolbarLabel\" data-l10n-id=\"find_match_case_label\">Match case</label>\n          </div>\n          <div id=\"findbarOptionsTwoContainer\">\n            <input type=\"checkbox\" id=\"findEntireWord\" class=\"toolbarField\" tabindex=\"96\">\n            <label for=\"findEntireWord\" class=\"toolbarLabel\" data-l10n-id=\"find_entire_word_label\">Whole words</label>\n            <span id=\"findResultsCount\" class=\"toolbarLabel hidden\"></span>\n          </div>\n\n          <div id=\"findbarMessageContainer\">\n            <span id=\"findMsg\" class=\"toolbarLabel\"></span>\n          </div>\n        </div>  <!-- findbar -->\n\n        <div id=\"secondaryToolbar\" class=\"secondaryToolbar hidden doorHangerRight\">\n          <div id=\"secondaryToolbarButtonContainer\">\n            <button id=\"secondaryPresentationMode\" class=\"secondaryToolbarButton presentationMode visibleLargeView\" title=\"Switch to Presentation Mode\" tabindex=\"51\" data-l10n-id=\"presentation_mode\">\n              <span data-l10n-id=\"presentation_mode_label\">Presentation Mode</span>\n            </button>\n\n            <button id=\"secondaryOpenFile\" class=\"secondaryToolbarButton openFile visibleLargeView\" title=\"Open File\" tabindex=\"52\" data-l10n-id=\"open_file\">\n              <span data-l10n-id=\"open_file_label\">Open</span>\n            </button>\n\n            <button id=\"secondaryPrint\" class=\"secondaryToolbarButton print visibleMediumView\" title=\"Print\" tabindex=\"53\" data-l10n-id=\"print\">\n              <span data-l10n-id=\"print_label\">Print</span>\n            </button>\n\n            <button id=\"secondaryDownload\" class=\"secondaryToolbarButton download visibleMediumView\" title=\"Download\" tabindex=\"54\" data-l10n-id=\"download\">\n              <span data-l10n-id=\"download_label\">Download</span>\n            </button>\n\n            <a href=\"#\" id=\"secondaryViewBookmark\" class=\"secondaryToolbarButton bookmark visibleSmallView\" title=\"Current view (copy or open in new window)\" tabindex=\"55\" data-l10n-id=\"bookmark\">\n              <span data-l10n-id=\"bookmark_label\">Current View</span>\n            </a>\n\n            <div class=\"horizontalToolbarSeparator visibleLargeView\"></div>\n\n            <button id=\"firstPage\" class=\"secondaryToolbarButton firstPage\" title=\"Go to First Page\" tabindex=\"56\" data-l10n-id=\"first_page\">\n              <span data-l10n-id=\"first_page_label\">Go to First Page</span>\n            </button>\n            <button id=\"lastPage\" class=\"secondaryToolbarButton lastPage\" title=\"Go to Last Page\" tabindex=\"57\" data-l10n-id=\"last_page\">\n              <span data-l10n-id=\"last_page_label\">Go to Last Page</span>\n            </button>\n\n            <div class=\"horizontalToolbarSeparator\"></div>\n\n            <button id=\"pageRotateCw\" class=\"secondaryToolbarButton rotateCw\" title=\"Rotate Clockwise\" tabindex=\"58\" data-l10n-id=\"page_rotate_cw\">\n              <span data-l10n-id=\"page_rotate_cw_label\">Rotate Clockwise</span>\n            </button>\n            <button id=\"pageRotateCcw\" class=\"secondaryToolbarButton rotateCcw\" title=\"Rotate Counterclockwise\" tabindex=\"59\" data-l10n-id=\"page_rotate_ccw\">\n              <span data-l10n-id=\"page_rotate_ccw_label\">Rotate Counterclockwise</span>\n            </button>\n\n            <div class=\"horizontalToolbarSeparator\"></div>\n\n            <button id=\"cursorSelectTool\" class=\"secondaryToolbarButton selectTool toggled\" title=\"Enable Text Selection Tool\" tabindex=\"60\" data-l10n-id=\"cursor_text_select_tool\">\n              <span data-l10n-id=\"cursor_text_select_tool_label\">Text Selection Tool</span>\n            </button>\n            <button id=\"cursorHandTool\" class=\"secondaryToolbarButton handTool\" title=\"Enable Hand Tool\" tabindex=\"61\" data-l10n-id=\"cursor_hand_tool\">\n              <span data-l10n-id=\"cursor_hand_tool_label\">Hand Tool</span>\n            </button>\n\n            <div class=\"horizontalToolbarSeparator\"></div>\n\n            <button id=\"scrollVertical\" class=\"secondaryToolbarButton scrollModeButtons scrollVertical toggled\" title=\"Use Vertical Scrolling\" tabindex=\"62\" data-l10n-id=\"scroll_vertical\">\n              <span data-l10n-id=\"scroll_vertical_label\">Vertical Scrolling</span>\n            </button>\n            <button id=\"scrollHorizontal\" class=\"secondaryToolbarButton scrollModeButtons scrollHorizontal\" title=\"Use Horizontal Scrolling\" tabindex=\"63\" data-l10n-id=\"scroll_horizontal\">\n              <span data-l10n-id=\"scroll_horizontal_label\">Horizontal Scrolling</span>\n            </button>\n            <button id=\"scrollWrapped\" class=\"secondaryToolbarButton scrollModeButtons scrollWrapped\" title=\"Use Wrapped Scrolling\" tabindex=\"64\" data-l10n-id=\"scroll_wrapped\">\n              <span data-l10n-id=\"scroll_wrapped_label\">Wrapped Scrolling</span>\n            </button>\n\n            <div class=\"horizontalToolbarSeparator scrollModeButtons\"></div>\n\n            <button id=\"spreadNone\" class=\"secondaryToolbarButton spreadModeButtons spreadNone toggled\" title=\"Do not join page spreads\" tabindex=\"65\" data-l10n-id=\"spread_none\">\n              <span data-l10n-id=\"spread_none_label\">No Spreads</span>\n            </button>\n            <button id=\"spreadOdd\" class=\"secondaryToolbarButton spreadModeButtons spreadOdd\" title=\"Join page spreads starting with odd-numbered pages\" tabindex=\"66\" data-l10n-id=\"spread_odd\">\n              <span data-l10n-id=\"spread_odd_label\">Odd Spreads</span>\n            </button>\n            <button id=\"spreadEven\" class=\"secondaryToolbarButton spreadModeButtons spreadEven\" title=\"Join page spreads starting with even-numbered pages\" tabindex=\"67\" data-l10n-id=\"spread_even\">\n              <span data-l10n-id=\"spread_even_label\">Even Spreads</span>\n            </button>\n\n            <div class=\"horizontalToolbarSeparator spreadModeButtons\"></div>\n\n            <button id=\"documentProperties\" class=\"secondaryToolbarButton documentProperties\" title=\"Document Properties\u2026\" tabindex=\"68\" data-l10n-id=\"document_properties\">\n              <span data-l10n-id=\"document_properties_label\">Document Properties\u2026</span>\n            </button>\n          </div>\n        </div>  <!-- secondaryToolbar -->\n\n        <div class=\"toolbar\">\n          <div id=\"toolbarContainer\">\n            <div id=\"toolbarViewer\">\n              <div id=\"toolbarViewerLeft\">\n                <button id=\"sidebarToggle\" class=\"toolbarButton\" title=\"Toggle Sidebar\" tabindex=\"11\" data-l10n-id=\"toggle_sidebar\">\n                  <span data-l10n-id=\"toggle_sidebar_label\">Toggle Sidebar</span>\n                </button>\n                <div class=\"toolbarButtonSpacer\"></div>\n                <button id=\"viewFind\" class=\"toolbarButton\" title=\"Find in Document\" tabindex=\"12\" data-l10n-id=\"findbar\">\n                  <span data-l10n-id=\"findbar_label\">Find</span>\n                </button>\n                <div class=\"splitToolbarButton hiddenSmallView\">\n                  <button class=\"toolbarButton pageUp\" title=\"Previous Page\" id=\"previous\" tabindex=\"13\" data-l10n-id=\"previous\">\n                    <span data-l10n-id=\"previous_label\">Previous</span>\n                  </button>\n                  <div class=\"splitToolbarButtonSeparator\"></div>\n                  <button class=\"toolbarButton pageDown\" title=\"Next Page\" id=\"next\" tabindex=\"14\" data-l10n-id=\"next\">\n                    <span data-l10n-id=\"next_label\">Next</span>\n                  </button>\n                </div>\n                <input type=\"number\" id=\"pageNumber\" class=\"toolbarField pageNumber\" title=\"Page\" value=\"1\" size=\"4\" min=\"1\" tabindex=\"15\" data-l10n-id=\"page\">\n                <span id=\"numPages\" class=\"toolbarLabel\"></span>\n              </div>\n              <div id=\"toolbarViewerRight\">\n                <button id=\"presentationMode\" class=\"toolbarButton presentationMode hiddenLargeView\" title=\"Switch to Presentation Mode\" tabindex=\"31\" data-l10n-id=\"presentation_mode\">\n                  <span data-l10n-id=\"presentation_mode_label\">Presentation Mode</span>\n                </button>\n\n                <button id=\"openFile\" class=\"toolbarButton openFile hiddenLargeView\" title=\"Open File\" tabindex=\"32\" data-l10n-id=\"open_file\">\n                  <span data-l10n-id=\"open_file_label\">Open</span>\n                </button>\n\n                <button id=\"print\" class=\"toolbarButton print hiddenMediumView\" title=\"Print\" tabindex=\"33\" data-l10n-id=\"print\">\n                  <span data-l10n-id=\"print_label\">Print</span>\n                </button>\n\n                <button id=\"download\" class=\"toolbarButton download hiddenMediumView\" title=\"Download\" tabindex=\"34\" data-l10n-id=\"download\">\n                  <span data-l10n-id=\"download_label\">Download</span>\n                </button>\n                <a href=\"#\" id=\"viewBookmark\" class=\"toolbarButton bookmark hiddenSmallView\" title=\"Current view (copy or open in new window)\" tabindex=\"35\" data-l10n-id=\"bookmark\">\n                  <span data-l10n-id=\"bookmark_label\">Current View</span>\n                </a>\n\n                <div class=\"verticalToolbarSeparator hiddenSmallView\"></div>\n\n                <button id=\"secondaryToolbarToggle\" class=\"toolbarButton\" title=\"Tools\" tabindex=\"36\" data-l10n-id=\"tools\">\n                  <span data-l10n-id=\"tools_label\">Tools</span>\n                </button>\n              </div>\n              <div id=\"toolbarViewerMiddle\">\n                <div class=\"splitToolbarButton\">\n                  <button id=\"zoomOut\" class=\"toolbarButton zoomOut\" title=\"Zoom Out\" tabindex=\"21\" data-l10n-id=\"zoom_out\">\n                    <span data-l10n-id=\"zoom_out_label\">Zoom Out</span>\n                  </button>\n                  <div class=\"splitToolbarButtonSeparator\"></div>\n                  <button id=\"zoomIn\" class=\"toolbarButton zoomIn\" title=\"Zoom In\" tabindex=\"22\" data-l10n-id=\"zoom_in\">\n                    <span data-l10n-id=\"zoom_in_label\">Zoom In</span>\n                   </button>\n                </div>\n                <span id=\"scaleSelectContainer\" class=\"dropdownToolbarButton\">\n                  <select id=\"scaleSelect\" title=\"Zoom\" tabindex=\"23\" data-l10n-id=\"zoom\">\n                    <option id=\"pageAutoOption\" title=\"\" value=\"auto\" selected=\"selected\" data-l10n-id=\"page_scale_auto\">Automatic Zoom</option>\n                    <option id=\"pageActualOption\" title=\"\" value=\"page-actual\" data-l10n-id=\"page_scale_actual\">Actual Size</option>\n                    <option id=\"pageFitOption\" title=\"\" value=\"page-fit\" data-l10n-id=\"page_scale_fit\">Page Fit</option>\n                    <option id=\"pageWidthOption\" title=\"\" value=\"page-width\" data-l10n-id=\"page_scale_width\">Page Width</option>\n                    <option id=\"customScaleOption\" title=\"\" value=\"custom\" disabled=\"disabled\" hidden=\"true\"></option>\n                    <option title=\"\" value=\"0.5\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 50 }'>50%</option>\n                    <option title=\"\" value=\"0.75\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 75 }'>75%</option>\n                    <option title=\"\" value=\"1\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 100 }'>100%</option>\n                    <option title=\"\" value=\"1.25\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 125 }'>125%</option>\n                    <option title=\"\" value=\"1.5\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 150 }'>150%</option>\n                    <option title=\"\" value=\"2\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 200 }'>200%</option>\n                    <option title=\"\" value=\"3\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 300 }'>300%</option>\n                    <option title=\"\" value=\"4\" data-l10n-id=\"page_scale_percent\" data-l10n-args='{ \"scale\": 400 }'>400%</option>\n                  </select>\n                </span>\n              </div>\n            </div>\n            <div id=\"loadingBar\">\n              <div class=\"progress\">\n                <div class=\"glimmer\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <menu type=\"context\" id=\"viewerContextMenu\">\n          <menuitem id=\"contextFirstPage\" label=\"First Page\"\n                    data-l10n-id=\"first_page\"></menuitem>\n          <menuitem id=\"contextLastPage\" label=\"Last Page\"\n                    data-l10n-id=\"last_page\"></menuitem>\n          <menuitem id=\"contextPageRotateCw\" label=\"Rotate Clockwise\"\n                    data-l10n-id=\"page_rotate_cw\"></menuitem>\n          <menuitem id=\"contextPageRotateCcw\" label=\"Rotate Counter-Clockwise\"\n                    data-l10n-id=\"page_rotate_ccw\"></menuitem>\n        </menu>\n\n        <div id=\"viewerContainer\" tabindex=\"0\">\n          <div id=\"viewer\" class=\"pdfViewer\"></div>\n        </div>\n\n        <div id=\"errorWrapper\" hidden='true'>\n          <div id=\"errorMessageLeft\">\n            <span id=\"errorMessage\"></span>\n            <button id=\"errorShowMore\" data-l10n-id=\"error_more_info\">\n              More Information\n            </button>\n            <button id=\"errorShowLess\" data-l10n-id=\"error_less_info\" hidden='true'>\n              Less Information\n            </button>\n          </div>\n          <div id=\"errorMessageRight\">\n            <button id=\"errorClose\" data-l10n-id=\"error_close\">\n              Close\n            </button>\n          </div>\n          <div class=\"clearBoth\"></div>\n          <textarea id=\"errorMoreInfo\" hidden='true' readonly=\"readonly\"></textarea>\n        </div>\n      </div> <!-- mainContainer -->\n\n      <div id=\"overlayContainer\" class=\"hidden\">\n        <div id=\"passwordOverlay\" class=\"container hidden\">\n          <div class=\"dialog\">\n            <div class=\"row\">\n              <p id=\"passwordText\" data-l10n-id=\"password_label\">Enter the password to open this PDF file:</p>\n            </div>\n            <div class=\"row\">\n              <input type=\"password\" id=\"password\" class=\"toolbarField\">\n            </div>\n            <div class=\"buttonRow\">\n              <button id=\"passwordCancel\" class=\"overlayButton\"><span data-l10n-id=\"password_cancel\">Cancel</span></button>\n              <button id=\"passwordSubmit\" class=\"overlayButton\"><span data-l10n-id=\"password_ok\">OK</span></button>\n            </div>\n          </div>\n        </div>\n        <div id=\"documentPropertiesOverlay\" class=\"container hidden\">\n          <div class=\"dialog\">\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_file_name\">File name:</span> <p id=\"fileNameField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_file_size\">File size:</span> <p id=\"fileSizeField\">-</p>\n            </div>\n            <div class=\"separator\"></div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_title\">Title:</span> <p id=\"titleField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_author\">Author:</span> <p id=\"authorField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_subject\">Subject:</span> <p id=\"subjectField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_keywords\">Keywords:</span> <p id=\"keywordsField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_creation_date\">Creation Date:</span> <p id=\"creationDateField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_modification_date\">Modification Date:</span> <p id=\"modificationDateField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_creator\">Creator:</span> <p id=\"creatorField\">-</p>\n            </div>\n            <div class=\"separator\"></div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_producer\">PDF Producer:</span> <p id=\"producerField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_version\">PDF Version:</span> <p id=\"versionField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_page_count\">Page Count:</span> <p id=\"pageCountField\">-</p>\n            </div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_page_size\">Page Size:</span> <p id=\"pageSizeField\">-</p>\n            </div>\n            <div class=\"separator\"></div>\n            <div class=\"row\">\n              <span data-l10n-id=\"document_properties_linearized\">Fast Web View:</span> <p id=\"linearizedField\">-</p>\n            </div>\n            <div class=\"buttonRow\">\n              <button id=\"documentPropertiesClose\" class=\"overlayButton\"><span data-l10n-id=\"document_properties_close\">Close</span></button>\n            </div>\n          </div>\n        </div>\n<!--#if !(FIREFOX || MOZCENTRAL)-->\n        <div id=\"printServiceOverlay\" class=\"container hidden\">\n          <div class=\"dialog\">\n            <div class=\"row\">\n              <span data-l10n-id=\"print_progress_message\">Preparing document for printing\u2026</span>\n            </div>\n            <div class=\"row\">\n              <progress value=\"0\" max=\"100\"></progress>\n              <span data-l10n-id=\"print_progress_percent\" data-l10n-args='{ \"progress\": 0 }' class=\"relative-progress\">0%</span>\n            </div>\n            <div class=\"buttonRow\">\n              <button id=\"printCancel\" class=\"overlayButton\"><span data-l10n-id=\"print_progress_close\">Cancel</span></button>\n            </div>\n          </div>\n        </div>\n<!--#endif-->\n<!--#if CHROME-->\n<!--#include viewer-snippet-chrome-overlays.html-->\n<!--#endif-->\n      </div>  <!-- overlayContainer -->\n\n    </div> <!-- outerContainer -->\n    <div id=\"printContainer\"></div>\n </div> <!-- pdfjs-viewer -->\n    ").replace('div class="progress"', 'div class="progress indeterminate" style="width:100%;"')
      };
    }
  }]);

  return PdfViewerComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),

/***/ "./app/jsx/components/PromoComp.jsx":
/*!******************************************!*\
  !*** ./app/jsx/components/PromoComp.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Promo Component ##### //


var PromoComp = /*#__PURE__*/function (_React$Component) {
  _inherits(PromoComp, _React$Component);

  var _super = _createSuper(PromoComp);

  function PromoComp() {
    var _this;

    _classCallCheck(this, PromoComp);

    _this = _super.call(this);
    _this.state = {
      messageClose: false
    };
    return _this;
  }

  _createClass(PromoComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.state.messageClose ? "c-promo--close" : "c-promo",
        role: "alert",
        hidden: this.state.messageClose ? true : false
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", {
        className: "c-promo__main-text"
      }, "eScholarship celebrates its 20-year anniversary! ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://osc.universityofcalifornia.edu/2022/04/escholarship-celebrates-its-20-year-anniversary/",
        target: "_blank"
      }, "Learn More >")));
    }
  }]);

  return PromoComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (PromoComp);

/***/ }),

/***/ "./app/jsx/components/PubComp.jsx":
/*!****************************************!*\
  !*** ./app/jsx/components/PubComp.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.jsx */ "./app/jsx/utils.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../objects/TruncationObj.jsx */ "./app/jsx/objects/TruncationObj.jsx");
/* harmony import */ var _components_MediaListComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/MediaListComp.jsx */ "./app/jsx/components/MediaListComp.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/AuthorListComp.jsx */ "./app/jsx/components/AuthorListComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Publication Component ##### //








var DotAuthorUl = /*#__PURE__*/function (_React$Component) {
  _inherits(DotAuthorUl, _React$Component);

  var _super = _createSuper(DotAuthorUl);

  function DotAuthorUl() {
    var _this;

    _classCallCheck(this, DotAuthorUl);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        element: "ul",
        className: _this.props.className,
        options: {
          watch: "window",
          after: '.c-authorlist__list-more-link',
          ellipsis: ' ',
          wrap: 'children'
        }
      }, _this.props.children);
    });

    return _this;
  }

  return _createClass(DotAuthorUl);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var PubComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(PubComp, _React$Component2);

  var _super2 = _createSuper(PubComp);

  function PubComp() {
    _classCallCheck(this, PubComp);

    return _super2.apply(this, arguments);
  }

  _createClass(PubComp, [{
    key: "render",
    value: function render() {
      var pr = this.props.result,
          itemLink = "/uc/item/" + pr.id.replace(/^qt/, "");
      var totalSuppFiles = _utils_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].sumValueTotals(pr.supp_files, "count");
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pub"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        element: this.props.h,
        className: "c-pub__heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: itemLink
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        html: pr.title
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        author_hide: pr.author_hide,
        authors: pr.authors,
        editors: pr.editors,
        advisors: pr.advisors,
        id: pr.id
      }), pr.pub_year && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-scholworks__publication"
      }, "(", pr.pub_year, ")"), pr["abstract"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        element: "div",
        className: "c-pub__abstract"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        html: pr["abstract"],
        p_wrap: true,
        h1Level: 3
      })), totalSuppFiles > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MediaListComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        supp_files: pr.supp_files
      }));
    }
  }]);

  return PubComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(PubComp, "propTypes", {
  h: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  result: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    title: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    genre: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    peerReviewed: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,
    author_hide: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,
    authors: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array,
    supp_files: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array,
    pub_year: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,
    "abstract": prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    rights: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
  }).isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (PubComp);

/***/ }),

/***/ "./app/jsx/components/PubInfoComp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/PubInfoComp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_RightsComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/RightsComp.jsx */ "./app/jsx/components/RightsComp.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Publication Information Component ##### //




var PubInfoComp = /*#__PURE__*/function (_React$Component) {
  _inherits(PubInfoComp, _React$Component);

  var _super = _createSuper(PubInfoComp);

  function PubInfoComp() {
    _classCallCheck(this, PubInfoComp);

    return _super.apply(this, arguments);
  }

  _createClass(PubInfoComp, [{
    key: "render",
    value: function render() {
      var p = this.props; // ################# Variables for pub_web_loc ########################
      // Display DOI or pub_web_loc. If both DOI and pub_web_loc provided, display pub_web_loc

      var doi;

      if (p.doi) {
        doi = p.doi.startsWith("http") ? p.doi : "https://doi.org/" + p.doi;
      }

      var pub_loc_block = p.pub_web_loc && p.pub_web_loc.length > 0 ? p.pub_web_loc.map(function (url, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          key: i,
          className: "c-pubinfo__link",
          href: url
        }, url);
      }) : doi ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: doi,
        className: "c-pubinfo__link"
      }, doi) : null; // ################# Variables for data_avail_stmnt ########################

      var default_stmnt = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pubinfo__statement"
      }, "No data is associated with this publication.");
      var stmnt = !this.props.content_type ? default_stmnt : null;

      var getStmnt = function getStmnt(h) {
        // Mimicked from splashGen.rb:getDataAvail()
        var v = {
          'publicRepo': [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            key: "0",
            className: "c-pubinfo__statement"
          }, "The data associated with this publication are available at:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            key: "1",
            className: "c-pubinfo__link",
            href: h["url"]
          }, h["url"])],
          'publicRepoLater': /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            className: "c-pubinfo__statement"
          }, "Associated data will be made available after this publication is published"),
          'suppFiles': /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            className: "c-pubinfo__statement"
          }, "The data associated with this publication are in the supplemental files."),
          'withinManuscript': /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            className: "c-pubinfo__statement"
          }, "The data associated with this publication are within the manuscript."),
          'onRequest': /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            className: "c-pubinfo__statement"
          }, "The data associated with this publication are available upon request."),
          'thirdParty': [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            key: "0",
            className: "c-pubinfo__statement"
          }, "The data associated with this publication are managed by:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            className: "c-pubinfo__link",
            href: h["contact"]
          }, h["contact"])],
          'notAvail': /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            className: "c-pubinfo__statement"
          }, "The data associated with this publication are not available for this reason: ", h["reason"]),
          'default': default_stmnt
        };
        return h["type"] ? v[h["type"]] : v[h["default"]];
      };

      if (this.props.data_avail_stmnt) {
        stmnt = getStmnt(this.props.data_avail_stmnt);
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pubinfo"
      }, pub_loc_block && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "c-pubinfo__location-heading"
      }, "Published Web Location"), pub_loc_block, stmnt, this.props.rights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_RightsComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        rights: this.props.rights,
        size: "large",
        classname: "c-pubinfo__license"
      }));
    }
  }]);

  return PubInfoComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(PubInfoComp, "propTypes", {
  doi: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  pub_web_loc: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any,
  content_type: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  data_avail_stmnt: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    type: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    url: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    contact: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    reason: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
  }),
  rights: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
});

/* harmony default export */ __webpack_exports__["default"] = (PubInfoComp);

/***/ }),

/***/ "./app/jsx/components/PubPreviewComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/PubPreviewComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_PubComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/PubComp.jsx */ "./app/jsx/components/PubComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Pub Preview Component  - ##### //
// Very similar to Scholarly Works Comp. ToDo: Make parent class and extend both //
// Variables in ScholWorks not used here: tagList, peerReviewed, rights





var PubPreviewComp = /*#__PURE__*/function (_React$Component) {
  _inherits(PubPreviewComp, _React$Component);

  var _super = _createSuper(PubPreviewComp);

  function PubPreviewComp() {
    _classCallCheck(this, PubPreviewComp);

    return _super.apply(this, arguments);
  }

  _createClass(PubPreviewComp, [{
    key: "render",
    value: function render() {
      var pr = this.props.result;
      var itemLink = "/uc/item/" + pr.id.replace(/^qt/, "");
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pubpreview"
      }, pr.thumbnail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: itemLink,
        className: "c-pubpreview__img"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: "/cms-assets/" + pr.thumbnail.asset_id,
        alt: "Cover page of ".concat(pr.title)
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PubComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        result: this.props.result,
        h: this.props.h
      }));
    }
  }]);

  return PubPreviewComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(PubPreviewComp, "propTypes", {
  h: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  result: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    genre: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    peerReviewed: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
    journalInfo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
    unitInfo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
    authors: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
    supp_files: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
    pub_year: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    "abstract": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    rights: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    thumbnail: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      asset_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      timestamp: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      image_type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
    })
  }).isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (PubPreviewComp);

/***/ }),

/***/ "./app/jsx/components/RecentArticlesComp.jsx":
/*!***************************************************!*\
  !*** ./app/jsx/components/RecentArticlesComp.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RecentArticlesComp; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/AuthorListComp.jsx */ "./app/jsx/components/AuthorListComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Recent Articles sidebar widget ##### //




var RecentArticlesComp = /*#__PURE__*/function (_React$Component) {
  _inherits(RecentArticlesComp, _React$Component);

  var _super = _createSuper(RecentArticlesComp);

  function RecentArticlesComp() {
    var _this;

    _classCallCheck(this, RecentArticlesComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-relateditems"
      }, _this.props.data.items.map(function (item) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: item.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          className: "o-textlink__secondary",
          href: "/uc/item/".concat(item.id.replace(/^qt/, ''))
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
          html: item.title
        }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          author_hide: item.author_hide,
          authors: item.authors,
          editors: item.editors,
          advisors: item.advisors,
          id: item.id
        }));
      }));
    });

    return _this;
  }

  return _createClass(RecentArticlesComp);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),

/***/ "./app/jsx/components/RightsComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/RightsComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/LazyImageComp.jsx */ "./app/jsx/components/LazyImageComp.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Rights Component ##### //





var RightsComp = /*#__PURE__*/function (_React$Component) {
  _inherits(RightsComp, _React$Component);

  var _super = _createSuper(RightsComp);

  function RightsComp() {
    _classCallCheck(this, RightsComp);

    return _super.apply(this, arguments);
  }

  _createClass(RightsComp, [{
    key: "render",
    value: function render() {
      var r = this.props.rights,
          size = this.props.size,
          m = r.match(/^https:\/\/creativecommons.org\/licenses\/(by|by-nc|by-nc-nd|by-nc-sa|by-nd|by-sa)\/(\d\.\d)\/$/),
          kind = m[1],
          ver = m[2];
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: r,
        className: this.props.classname ? this.props.classname : "c-publocation__license"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_LazyImageComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_3__["default"] + "cc-".concat(kind, "-").concat(size, ".svg"),
        alt: "Creative Commons '".concat(kind.toUpperCase(), "' version ").concat(ver, " license")
      }));
    }
  }]);

  return RightsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(RightsComp, "propTypes", {
  rights: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  size: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.oneOf(['small', 'large']),
  classname: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
});

/* harmony default export */ __webpack_exports__["default"] = (RightsComp);

/***/ }),

/***/ "./app/jsx/components/ScholWorksComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/ScholWorksComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_RightsComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/RightsComp.jsx */ "./app/jsx/components/RightsComp.jsx");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../objects/TruncationObj.jsx */ "./app/jsx/objects/TruncationObj.jsx");
/* harmony import */ var _components_MediaListComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/MediaListComp.jsx */ "./app/jsx/components/MediaListComp.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/AuthorListComp.jsx */ "./app/jsx/components/AuthorListComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Scholarly Works Component ##### //










var DotAuthorUl = /*#__PURE__*/function (_React$Component) {
  _inherits(DotAuthorUl, _React$Component);

  var _super = _createSuper(DotAuthorUl);

  function DotAuthorUl() {
    var _this;

    _classCallCheck(this, DotAuthorUl);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        element: "ul",
        className: _this.props.className,
        options: {
          watch: "window",
          after: '.c-authorlist__list-more-link',
          ellipsis: ' ',
          wrap: 'children'
        }
      }, _this.props.children);
    });

    return _this;
  }

  return _createClass(DotAuthorUl);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var ScholWorksComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(ScholWorksComp, _React$Component2);

  var _super2 = _createSuper(ScholWorksComp);

  function ScholWorksComp() {
    _classCallCheck(this, ScholWorksComp);

    return _super2.apply(this, arguments);
  }

  _createClass(ScholWorksComp, [{
    key: "render",
    value: function render() {
      var pr = this.props.result;
      var tagList = [];

      if (pr.genre === 'article') {
        tagList.push({
          display: 'Article',
          tagStyle: 'article'
        });
      }

      if (pr.genre === 'monograph') {
        tagList.push({
          display: 'Book',
          tagStyle: 'book'
        });
      }

      if (pr.genre === 'dissertation') {
        tagList.push({
          display: 'Thesis',
          tagStyle: 'thesis'
        });
      }

      if (pr.genre === 'multimedia') {
        tagList.push({
          display: 'Multimedia',
          tagStyle: 'multimedia'
        });
      }

      if (pr.peerReviewed === true) {
        tagList.push({
          display: 'Peer Reviewed',
          tagStyle: 'peer'
        });
      }

      var itemLink = "/uc/item/" + pr.id.replace(/^qt/, "");
      var publishingInfo;
      var link_path;

      if ('journalInfo' in pr) {
        publishingInfo = pr.journalInfo.displayName;
        link_path = pr.journalInfo.link_path;
      } else if ('unitInfo' in pr) {
        publishingInfo = pr.unitInfo.displayName;
        link_path = pr.unitInfo.link_path;
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "c-scholworks"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-scholworks__main-column"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-scholworks__tag-list"
      }, tagList.map(function (tag, i, a) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: tag + i,
          className: "c-scholworks__tag-" + tag.tagStyle
        }, tag.display);
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        element: this.props.h,
        className: "c-scholworks__heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: itemLink
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        html: pr.title
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        author_hide: pr.author_hide,
        authors: pr.authors,
        editors: pr.editors,
        advisors: pr.advisors,
        item_id: pr.id
      }), pr.pub_year && publishingInfo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-scholworks__publication"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Link"], {
        to: "/uc/" + link_path
      }, publishingInfo), " (", pr.pub_year, ")"), pr["abstract"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_objects_TruncationObj_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        element: "div",
        className: "c-scholworks__abstract"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        html: pr["abstract"],
        h1Level: 3
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-scholworks__media"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MediaListComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        supp_files: pr.supp_files
      }))), (pr.rights || pr.thumbnail) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-scholworks__ancillary"
      }, pr.thumbnail && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Link"], {
        to: itemLink,
        className: "c-scholworks__thumbnail"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: "/cms-assets/" + pr.thumbnail.asset_id,
        alt: "Cover page: ".concat(pr.title)
      })), pr.rights && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_RightsComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        rights: pr.rights,
        size: "small",
        classname: "c-scholworks__license"
      })));
    }
  }]);

  return ScholWorksComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(ScholWorksComp, "propTypes", {
  h: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  result: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    genre: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    peerReviewed: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
    journalInfo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      link_path: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      displayName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
    }),
    unitInfo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      link_path: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      displayName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
    }),
    authors: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
    supp_files: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
    pub_year: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    "abstract": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    rights: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    thumbnail: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      asset_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      timestamp: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      image_type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
    })
  }).isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (ScholWorksComp);

/***/ }),

/***/ "./app/jsx/components/ScrollToTopComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/ScrollToTopComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// Adapted from react-router page https://reacttraining.com/react-router/web/guides/scroll-restoration



var ScrollToTopComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ScrollToTopComp, _React$Component);

  var _super = _createSuper(ScrollToTopComp);

  function ScrollToTopComp() {
    _classCallCheck(this, ScrollToTopComp);

    return _super.apply(this, arguments);
  }

  _createClass(ScrollToTopComp, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var this_search = this.props.location.search;
      var prev_search = prevProps.location.search;

      if (this.props.location.pathname !== prevProps.location.pathname || this_search.includes("start") && !this_search.includes("start=0") && this_search !== prev_search) {
        window.scrollTo(0, 0);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);

  return ScrollToTopComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["withRouter"])(ScrollToTopComp));

/***/ }),

/***/ "./app/jsx/components/ScrollingAnchorComp.jsx":
/*!****************************************************!*\
  !*** ./app/jsx/components/ScrollingAnchorComp.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Scrolling Anchor Component ##### //
// Used to trigger scrolling for anchors i.e. linked from JumpComp (i.e. 'article_abstract') //


var ScrollingAnchorComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ScrollingAnchorComp, _React$Component);

  var _super = _createSuper(ScrollingAnchorComp);

  function ScrollingAnchorComp() {
    _classCallCheck(this, ScrollingAnchorComp);

    return _super.apply(this, arguments);
  }

  _createClass(ScrollingAnchorComp, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        name: this.props.name,
        ref: function ref(domElement) {
          if (domElement && window.location.hash.toLowerCase().replace(/^#/, "") == _this.props.name) {
            setTimeout(function () {
              return domElement.scrollIntoView();
            }, 0);
          }
        }
      });
    }
  }]);

  return ScrollingAnchorComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ScrollingAnchorComp);

/***/ }),

/***/ "./app/jsx/components/Search1Comp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/Search1Comp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SearchComp1; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Search 1 Component - used on global (non-unit) pages and on search page itself ##### //




var SearchComp1 = /*#__PURE__*/function (_React$Component) {
  _inherits(SearchComp1, _React$Component);

  var _super = _createSuper(SearchComp1);

  function SearchComp1() {
    _classCallCheck(this, SearchComp1);

    return _super.apply(this, arguments);
  }

  _createClass(SearchComp1, [{
    key: "render",
    value: function render() {
      var _this = this;

      var query = this.props.query;
      var q = query && query.q ? query.q : ''; // Preserve filters for any subsequent search box query

      var filters = [];

      if (query) {
        Object.keys(query).forEach(function (k) {
          var v = query[k];

          if (["q", "start", "info_start"].includes(k)) {//q is unnecessary; Reset start and info_start)
          } else if (typeof v === 'string') {
            filters.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
              type: "hidden",
              key: k,
              name: k,
              value: v
            }));
          } else {
            v.forEach(function (f) {
              filters.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
                type: "hidden",
                key: k + f,
                name: k,
                value: f
              }));
            });
          }
        });
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        to: "/search",
        className: "c-search1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-search1__label",
        htmlFor: "c-search1__field"
      }, "search"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "search",
        id: "c-search1__field",
        name: "q",
        className: "c-search1__field",
        placeholder: "Search over 350,000 items",
        defaultValue: q,
        autoCapitalize: "off"
      }), filters, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        className: "c-search1__submit-button",
        "aria-label": "submit search"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "button",
        className: "c-search1__search-close-button",
        "aria-label": "close search field",
        onClick: function onClick() {
          return _this.props.onClose();
        }
      }));
    }
  }]);

  return SearchComp1;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),

/***/ "./app/jsx/components/Search2Comp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/Search2Comp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Search 2 Component - With Search Controls; Used on unit pages  ##### //



var SearchControls = /*#__PURE__*/function (_React$Component) {
  _inherits(SearchControls, _React$Component);

  var _super = _createSuper(SearchControls);

  function SearchControls() {
    _classCallCheck(this, SearchControls);

    return _super.apply(this, arguments);
  }

  _createClass(SearchControls, [{
    key: "render",
    value: function render() {
      var p = this.props,
          searchUnit = null;

      if (p.unitID) {
        // Note below: "Department" is too long to fix in the slide-down box, so we have to abbreviate it.
        searchUnit = [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          key: "r2",
          type: "radio",
          id: "c-search2__refine-campus",
          name: "searchType",
          value: p.unitID,
          onFocus: this.props.makeActive,
          onBlur: this.props.makeInactive
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          key: "l2",
          htmlFor: "c-search2__refine-campus"
        }, "This ", p.label == "Department" ? "Dept." : p.label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          key: "h",
          type: "hidden",
          name: "searchUnitType",
          value: this.props.searchUnitType
        })];
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("fieldset", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("legend", null, "Refine Search"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.props.refineActive ? "c-search2__refine--active" : "c-search2__refine"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        key: "r1",
        type: "radio",
        id: "c-search2__refine-eschol",
        name: "searchType",
        value: "eScholarship",
        defaultChecked: true,
        onFocus: this.props.makeActive,
        onBlur: this.props.makeInactive
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        key: "l1",
        htmlFor: "c-search2__refine-eschol"
      }, "All of eScholarship"), searchUnit));
    }
  }]);

  return SearchControls;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var SearchComp2 = /*#__PURE__*/function (_React$Component2) {
  _inherits(SearchComp2, _React$Component2);

  var _super2 = _createSuper(SearchComp2);

  function SearchComp2() {
    var _this;

    _classCallCheck(this, SearchComp2);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      refineActive: false
    });

    _defineProperty(_assertThisInitialized(_this), "makeActive", function () {
      return _this.setState({
        refineActive: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "makeInactive", function () {
      return _this.setState({
        refineActive: false
      });
    });

    return _this;
  }

  _createClass(SearchComp2, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var label, searchUnitType;

      if (["series", "monograph_series", "seminar_series", "special"].includes(this.props.type)) {
        label = "Series";
        searchUnitType = "series";
      } else if (this.props.type == "oru") {
        label = "Department";
        searchUnitType = "departments";
      } else if (this.props.type == "journal") {
        label = "Journal";
        searchUnitType = "journals";
      } else if (this.props.type == "campus") {
        label = "Campus";
        searchUnitType = "campuses";
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        to: "/search",
        autoComplete: "off",
        className: "c-search2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-search2__inputs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-search2__form"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-search2__label",
        htmlFor: "global-search"
      }, "Search eScholarship"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "search",
        name: "q",
        id: "global-search",
        className: "c-search2__field",
        placeholder: "Search",
        onFocus: this.makeActive,
        onBlur: this.makeInactive,
        autoComplete: "off",
        autoCapitalize: "off"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SearchControls, {
        refineActive: this.state.refineActive,
        label: label,
        makeActive: this.makeActive,
        makeInactive: this.makeInactive,
        unitID: this.props.unitID,
        searchUnitType: searchUnitType
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        className: "c-search2__submit-button",
        "aria-label": "search"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "button",
        className: "c-search2__search-close-button",
        "aria-label": "close search field",
        onClick: function onClick() {
          return _this2.props.onClose();
        }
      }));
    }
  }]);

  return SearchComp2;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (SearchComp2);

/***/ }),

/***/ "./app/jsx/components/ServerErrorComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/ServerErrorComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Server Error Component ##### //






var ServerErrorComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ServerErrorComp, _React$Component);

  var _super = _createSuper(ServerErrorComp);

  function ServerErrorComp() {
    _classCallCheck(this, ServerErrorComp);

    return _super.apply(this, arguments);
  }

  _createClass(ServerErrorComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-servererror"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "c-servererror__message"
      }, this.props.error == "Not Found" ? "I couldn't find what you were looking for." : this.props.error ? this.props.error : "Error."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "c-servererror__image",
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_4__["default"] + 'squirrel.jpg',
        alt: "squirrel"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        to: "/search",
        method: "GET",
        className: "c-servererror__search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "c-servererror__input",
        className: "c-servererror__label"
      }, "Search for it!"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "search",
        className: "c-servererror__input",
        name: "q",
        id: "c-servererror__input",
        placeholder: "Search for it!"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-servererror__button",
        "aria-label": "Search"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("small", null, "If you think this is a problem with eScholarship, please visit our ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/solutions/articles/9000171663"
      }, "Help Center"), "."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("small", null, "Or return to the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/"
      }, "homepage"), "."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        style: {
          display: "none"
        },
        id: "serverError"
      }, this.props.error), " ");
    }
  }]);

  return ServerErrorComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(ServerErrorComp, "propTypes", {
  error: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (ServerErrorComp);

/***/ }),

/***/ "./app/jsx/components/ShareComp.jsx":
/*!******************************************!*\
  !*** ./app/jsx/components/ShareComp.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_DropdownMenu_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/DropdownMenu.jsx */ "./app/jsx/components/DropdownMenu.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Share Component ##### //




var ShareComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ShareComp, _React$Component);

  var _super = _createSuper(ShareComp);

  function ShareComp() {
    var _this;

    _classCallCheck(this, ShareComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "getLink", function (event, type, id, service) {
      event.preventDefault();
      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getJSON("/api/mediaLink/" + type + "/" + id + "/" + service).done(function (data) {
        window.location = data.url;
      }).fail(function (jqxhr, textStatus, err) {
        console.log("Failed! textStatus=", textStatus, ", err=", err);
      });
    });

    return _this;
  }

  _createClass(ShareComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DropdownMenu_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        detailsClass: "c-share",
        summarySpan: "Share"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-share__list"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-share__email",
        href: "",
        onClick: function onClick(e) {
          _this2.getLink(e, p.type, p.id, "email");
        }
      }, "Email"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-share__facebook",
        href: "",
        onClick: function onClick(e) {
          _this2.getLink(e, p.type, p.id, "facebook");
        }
      }, "Facebook"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-share__twitter",
        href: "",
        onClick: function onClick(e) {
          _this2.getLink(e, p.type, p.id, "twitter");
        }
      }, "Twitter")));
    }
  }]);

  return ShareComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ShareComp);

/***/ }),

/***/ "./app/jsx/components/SidebarComp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/SidebarComp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SidebarComp; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_RecentArticlesComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/RecentArticlesComp.jsx */ "./app/jsx/components/RecentArticlesComp.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_SocialFeedComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/SocialFeedComp.jsx */ "./app/jsx/components/SocialFeedComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Sidebar Component ##### //





var SidebarComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SidebarComp, _React$Component);

  var _super = _createSuper(SidebarComp);

  function SidebarComp() {
    var _this;

    _classCallCheck(this, SidebarComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, _this.props.data ? _this.props.data.map(function (sb) {
        return sb.kind == "RecentArticles" && sb.attrs.items == 0 ? null : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
          key: sb.id,
          className: "o-columnbox1"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, sb.attrs && sb.attrs.title ? sb.attrs.title : sb.kind.replace(/([a-z])([A-Z][a-z])/g, "$1 $2"))), sb.kind == "Text" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          html: sb.attrs.html,
          h1Level: 3
        }) : sb.kind == "RecentArticles" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_RecentArticlesComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
          data: sb.attrs
        }) : sb.kind == "TwitterFeed" && sb.attrs.twitter_handle && sb.attrs.twitter_handle != '' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SocialFeedComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
          handle: sb.attrs.twitter_handle
        }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "Not yet implemented")));
      }) : null);
    });

    return _this;
  }

  return _createClass(SidebarComp);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),

/***/ "./app/jsx/components/SkipNavComp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/SkipNavComp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Skip Nav Component ##### //


var SkipNavComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SkipNavComp, _React$Component);

  var _super = _createSuper(SkipNavComp);

  function SkipNavComp() {
    _classCallCheck(this, SkipNavComp);

    return _super.apply(this, arguments);
  }

  _createClass(SkipNavComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "#maincontent",
        className: "c-skipnav"
      }, "Skip to main content");
    }
  }]);

  return SkipNavComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (SkipNavComp);

/***/ }),

/***/ "./app/jsx/components/SocialFeedComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/SocialFeedComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_twitter_widgets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-twitter-widgets */ "./node_modules/react-twitter-widgets/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Social Feed Component ##### //
 // https://github.com/andrewsuzuki/react-twitter-widgets


{
  /* ToDo: See if this 'Error: sandbox not initialized' goes away when we upgrade react
     https://github.com/andrewsuzuki/react-twitter-widgets/issues/10 */
}

var SocialFeedComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SocialFeedComp, _React$Component);

  var _super = _createSuper(SocialFeedComp);

  function SocialFeedComp() {
    _classCallCheck(this, SocialFeedComp);

    return _super.apply(this, arguments);
  }

  _createClass(SocialFeedComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-socialfeed"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_twitter_widgets__WEBPACK_IMPORTED_MODULE_1__["Timeline"], {
        dataSource: {
          sourceType: 'profile',
          screenName: this.props.handle
        },
        options: {
          username: this.props.handle,
          height: '700'
        }
      }));
    }
  }]);

  return SocialFeedComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (SocialFeedComp);

/***/ }),

/***/ "./app/jsx/components/SocialIconsComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/SocialIconsComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Social Icons Component ##### //
// this.props = {facebook: '', twitter: '', rss: ''}



var SocialIconsComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SocialIconsComp, _React$Component);

  var _super = _createSuper(SocialIconsComp);

  function SocialIconsComp() {
    _classCallCheck(this, SocialIconsComp);

    return _super.apply(this, arguments);
  }

  _createClass(SocialIconsComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-socialicons"
      }, this.props.facebook && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "http://www.facebook.com/" + this.props.facebook
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_1__["default"] + 'logo_facebook-circle-black.svg',
        alt: "Facebook"
      })), this.props.twitter && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "http://www.twitter.com/" + this.props.twitter
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_1__["default"] + 'logo_twitter-circle-black.svg',
        alt: "Twitter"
      })), this.props.rss && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: this.props.rss
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_1__["default"] + 'logo_rss-circle-black.svg',
        alt: "RSS"
      })));
    }
  }]);

  return SocialIconsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (SocialIconsComp);

/***/ }),

/***/ "./app/jsx/components/SortComp.jsx":
/*!*****************************************!*\
  !*** ./app/jsx/components/SortComp.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Sort By Component ##### //



var SortComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SortComp, _React$Component);

  var _super = _createSuper(SortComp);

  function SortComp() {
    var _this;

    _classCallCheck(this, SortComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      rows: _this.props.query.rows ? _this.props.query.rows : "10",
      sort: _this.props.query.sort ? _this.props.query.sort : "rel"
    });

    _defineProperty(_assertThisInitialized(_this), "handleChange", function (event) {
      if (event.target.name == "rows") {
        _this.setState({
          rows: event.target.value
        });
      }

      if (event.target.name == "sort") {
        _this.setState({
          sort: event.target.value
        });
      }

      $('[name=start]').val('0');
      $('#' + _this.props.formButton).click();
    });

    return _this;
  }

  _createClass(SortComp, [{
    key: "render",
    value: function render() {
      var rows = Math.ceil((this.state.rows > this.props.count ? this.props.count : this.state.rows) / 10) * 10;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-sort"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "c-sort1"
      }, "Sort By:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "sort",
        id: "c-sort1",
        form: this.props.formName,
        value: this.state.sort,
        onChange: this.handleChange
      }, this.props.relQueryOff ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: ""
      }, "Default") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "rel"
      }, "Relevance"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "a-title"
      }, "A-Z By Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "z-title"
      }, "Z-A By Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "a-author"
      }, "A-Z By Author"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "z-author"
      }, "Z-A By Author"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "asc"
      }, "Date Ascending"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "desc"
      }, "Date Descending"))), this.props.count > 10 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__droplist1 c-sort__page-input"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "c-sort2"
      }, "Show:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "rows",
        id: "c-sort2",
        form: this.props.formName,
        value: rows,
        onChange: this.handleChange
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "10"
      }, "10"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "20"
      }, "20"), this.props.count > 20 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "30"
      }, "30"), this.props.count > 30 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "40"
      }, "40"), this.props.count > 40 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "50"
      }, "50"), this.props.count > 100 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "100"
      }, "100"))));
    }
  }]);

  return SortComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(SortComp, "propTypes", {
  formName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  formButton: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  relQueryOff: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  query: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    q: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    rows: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    sort: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    start: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired,
  count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (SortComp);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/components/SortPaginationComp.jsx":
/*!***************************************************!*\
  !*** ./app/jsx/components/SortPaginationComp.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_SortComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/SortComp.jsx */ "./app/jsx/components/SortComp.jsx");
/* harmony import */ var _components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/PaginationComp.jsx */ "./app/jsx/components/PaginationComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Sort Pagination Component ##### //




var SortPaginationComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SortPaginationComp, _React$Component);

  var _super = _createSuper(SortPaginationComp);

  function SortPaginationComp() {
    _classCallCheck(this, SortPaginationComp);

    return _super.apply(this, arguments);
  }

  _createClass(SortPaginationComp, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-sortpagination"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SortComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        formName: p.formName,
        formButton: p.formButton,
        query: p.query,
        count: p.count,
        relQueryOff: p.relQueryOff
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "hidden",
        name: "start",
        form: p.formName,
        value: p.query.start
      }), this.props.count > this.props.query.rows && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        formName: p.formName,
        formButton: p.formButton,
        query: p.query,
        count: p.count
      }));
    }
  }]);

  return SortPaginationComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (SortPaginationComp);

/***/ }),

/***/ "./app/jsx/components/StatCarouselComp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/StatCarouselComp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_CarouselComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/CarouselComp.jsx */ "./app/jsx/components/CarouselComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Campus Carousel Component ##### //


 // import _ from 'lodash'
// let orderCampus = [ "item_count", "view_count", "journal_count", "oru_count" ]
// let orderAll = [ "all_item_count", "all_view_count", "all_journal_count", "all_oru_count" ]
// let classVal = { "item_count": "item", "view_count": "view", "journal_count": "journals",
//                  "oru_count": "units", "all_item_count": "item", "all_view_count": "view",
//                  "all_journal_count": "journals", "all_oru_count": "units" }

var CampusCarouselComp = /*#__PURE__*/function (_React$Component) {
  _inherits(CampusCarouselComp, _React$Component);

  var _super = _createSuper(CampusCarouselComp);

  function CampusCarouselComp() {
    _classCallCheck(this, CampusCarouselComp);

    return _super.apply(this, arguments);
  }

  _createClass(CampusCarouselComp, [{
    key: "render",
    value: function render() {
      // 90% of the way to making cell ordering easily configurable, but not necessary, so I stopped
      // let campusStats = 
      //  _.sortBy(_.map(this.props.campusStats, (value, key) => ({key, value})), function(o){ 
      //    return _.indexOf(orderCampus, o.key)
      //  })
      // let allStats =
      //    _.sortBy(_.map(this.props.allStats, (value, key) => ({key, value})), function(o){ 
      //     return _.indexOf(orderAll, o.key)
      //  })
      var c = this.props.campusStats;
      var a = this.props.allStats;
      var pluralJ = c.journal_count == 1 ? '' : 's';
      var pluralU = c.oru_count == 1 ? '' : 's';
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CarouselComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        className: "c-statcarousel",
        options: {
          cellAlign: 'left',
          contain: true,
          initialIndex: 0,
          pageDots: false
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statcarousel__section-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, this.props.campusName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--item c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/search?campuses=" + this.props.campusID
      }, c.item_count.toLocaleString()), " Items")), c.view_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--view c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, c.view_count.toLocaleString()), " Views"), c.journal_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--journals c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/" + this.props.campusID + "/journals"
      }, c.journal_count.toLocaleString()), " eScholarship Journal", pluralJ), c.oru_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--units c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/" + this.props.campusID + "/units"
      }, c.oru_count.toLocaleString()), " Research Unit", pluralU), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statcarousel__section-heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "All eScholarship"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--item c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, a.all_item_count.toLocaleString()), " Items")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--view c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, a.all_view_count.toLocaleString()), " Views"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--journals c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "/journals"
      }, a.all_journal_count.toLocaleString()), " eScholarship Journals"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--units c-statcarousel__cell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, a.all_oru_count.toLocaleString()), " Research Units"));
    }
  }]);

  return CampusCarouselComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(CampusCarouselComp, "propTypes", {
  campusName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  campusID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  campusStats: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    item_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    view_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    // opened_count: PropTypes.number,
    journal_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    oru_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
  }).isRequired,
  allStats: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    all_item_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    all_view_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    // all_opened_count: PropTypes.number,
    all_journal_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    all_oru_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
  }).isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (CampusCarouselComp);

/***/ }),

/***/ "./app/jsx/components/SubheaderComp.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/components/SubheaderComp.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_ga__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-ga */ "./node_modules/react-ga/dist/esm/index.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_CampusSelectorComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/CampusSelectorComp.jsx */ "./app/jsx/components/CampusSelectorComp.jsx");
/* harmony import */ var _WizardComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WizardComp.jsx */ "./app/jsx/components/WizardComp.jsx");
/* harmony import */ var _WizardInertComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WizardInertComp.jsx */ "./app/jsx/components/WizardInertComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Subheader Component ##### //









var SubheaderComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SubheaderComp, _React$Component);

  var _super = _createSuper(SubheaderComp);

  function SubheaderComp() {
    var _this;

    _classCallCheck(this, SubheaderComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      depositModalOpen: false,
      manageModalOpen: false
    });

    _defineProperty(_assertThisInitialized(_this), "closeWizardModal", function (e) {
      _this.setState({
        depositModalOpen: false,
        manageModalOpen: false
      });
    });

    return _this;
  }

  _createClass(SubheaderComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var props = this.props;
      var h = this.props.header;
      var unit = this.props.unit ? this.props.unit : {
        id: "unknown",
        type: "unknown",
        name: "unknown"
      };
      var showCampusLabel = h.campusID != "other" && unit.type != "campus";
      var stateStyles = "\n      c-subheader\n      ".concat(h.logo ? "has-banner" : "", "\n      ").concat(h.logo && h.logo.is_banner ? "is-wide" : "", "\n      ").concat(showCampusLabel ? "has-campus-label" : "", "\n      is-").concat(h.elColor ? h.elColor : "black", "\n    ");

      var _ref = unit.type.includes('series') ? [h.ancestorID, h.ancestorName] : [unit.id, unit.name],
          _ref2 = _slicedToArray(_ref, 2),
          banner_url = _ref2[0],
          banner_title = _ref2[1];

      var directSubmitURL = h.directSubmitURL ? h.directSubmitURL : "https://submit.escholarship.org/subi/directSubmit?target=" + unit.id;
      var directSubmitURL_manage = h.directSubmitURL ? h.directSubmitURL : null;
      var directManageURLauthor = h.directManageURLauthor ? h.directManageURLauthor : null;
      var directManageURLeditor = h.directManageURLeditor ? h.directManageURLeditor : null; // Button Configuration based on unit type
      //   unit.type == 'journal'  -->        Submit  / Manage Submissions
      //   unit.type == 'campus'  -->         Deposit / Manage Submissions
      //   unit.type == '%series | oru'  -->  Deposit / Manage Submissions  */}

      var depositWizard = null;
      var depositButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        id: "wizardlyDeposit",
        className: "o-button__3",
        onClick: function onClick(event) {
          _this2.setState({
            depositModalOpen: true
          });

          event.preventDefault();
        }
      }, unit.type == 'journal' ? "Submit" : "Deposit"); // WizardInertComp is like WizardComp, but only one screen, no back/forward buttons,
      //   a) Used for 'Manage Submissions' link-out    - OR -
      //
      //   b) Opened by the 'Submit' or 'Deposit' button:
      //      i) Triggered by a journal, opened by the 'Submit' button  - OR -
      //     ii) Used when a unit's 'directSubmitURL' value is present
      //    iii) Used for a campus/unit/series when its 'directSubmit' value is set to disabled/moribund.
      //     Right now, this component also handles a directSubmitURL if one is present
      //     (Presently the directSubmitURL only exists for journals).
      // Note: Disabled and Moribund Units/Series are also uniquely handled when coming in
      //   at a higher level from within WizardUnitComp and WizardSeriesComp (handled by WizardComp below)

      if (unit.type == 'journal' || h.directSubmitURL || ["moribund", "disabled", "hide"].includes(h.directSubmit)) {
        depositWizard = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardInertComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
          showModal: this.state.depositModalOpen,
          parentSelector: function parentSelector() {
            return jquery__WEBPACK_IMPORTED_MODULE_4___default()('#wizardModalBase')[0];
          },
          onCancel: function onCancel(e) {
            return _this2.closeWizardModal(e);
          },
          header: unit.type == 'journal' ? unit.name : h.campusName + " Deposit",
          type: unit.type,
          directSubmit: h.directSubmit,
          directSubmitURL: directSubmitURL,
          directManageURLauthor: directManageURLauthor,
          directManageURLeditor: directManageURLeditor
        });
      } else {
        // If unit is a series, pass in its parent's unitID
        var _ref3 = unit.type == 'oru' ? [unit.id, unit.name] : unit.type.includes('series') ? [h.ancestorID, h.ancestorName] : [null, null],
            _ref4 = _slicedToArray(_ref3, 2),
            unitIDForWiz = _ref4[0],
            unitNameForWiz = _ref4[1];

        depositWizard = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
          key: unitIDForWiz // re-create instance across units
          ,
          showModal: this.state.depositModalOpen,
          parentSelector: function parentSelector() {
            return jquery__WEBPACK_IMPORTED_MODULE_4___default()('#wizardModalBase')[0];
          },
          onCancel: function onCancel(e) {
            return _this2.closeWizardModal(e);
          },
          campuses: h.campuses,
          data: {
            campusID: h.campusID,
            campusName: h.campusName,
            unitID: unitIDForWiz,
            unitName: unitNameForWiz
          }
        });
      }

      var manageButton = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        id: "wizardlyManage",
        className: "o-button__3",
        onClick: function onClick(event) {
          _this2.setState({
            manageModalOpen: true
          });

          event.preventDefault();
        }
      }, "Manage", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "c-subheader__button-fragment"
      }, "Submissions"));
      var manageWizard = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardInertComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        showModal: this.state.manageModalOpen,
        parentSelector: function parentSelector() {
          return jquery__WEBPACK_IMPORTED_MODULE_4___default()('#wizardModalBase')[0];
        },
        onCancel: function onCancel(e) {
          return _this2.closeWizardModal(e);
        },
        header: "Manage Submissions",
        type: unit.type,
        unit_id: unit.id,
        directSubmitURL_manage: directSubmitURL_manage,
        directManageURLauthor: directManageURLauthor,
        directManageURLeditor: directManageURLeditor
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: stateStyles,
        style: {
          backgroundColor: h.bgColor
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
        to: "/uc/" + banner_url,
        className: "c-subheader__title"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null, banner_title)), h.logo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
        to: "/uc/" + banner_url,
        className: "c-subheader__banner"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: h.logo.url,
        alt: unit.name + ' banner'
      })), showCampusLabel && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-subheader__campus",
        href: "/uc/" + h.campusID
      }, h.campusName), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "wizardModalBase",
        className: "c-subheader__buttons"
      }, depositButton, depositWizard, manageButton, manageWizard));
    }
  }]);

  return SubheaderComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(SubheaderComp, "propTypes", {
  header: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    campusID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    campusName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    ancestorID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    // Intended for series only
    ancestorName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    // Intended for series only
    campuses: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
    directSubmit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    directSubmitURL: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    directManageURLauthor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    directManageURLeditor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    logo: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      // optional for SVG
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number // optional for SVG

    })
  }),
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    extent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
  }).isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (SubheaderComp);

/***/ }),

/***/ "./app/jsx/components/TabAuthorComp.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/components/TabAuthorComp.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Tab Author & Article Component ##### //
//




var TabAuthorComp = /*#__PURE__*/function (_React$Component) {
  _inherits(TabAuthorComp, _React$Component);

  var _super = _createSuper(TabAuthorComp);

  function TabAuthorComp() {
    var _this;

    _classCallCheck(this, TabAuthorComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "customIssueTitle", function (vol, iss, numbering, issue_title) {
      if (vol == "0" && iss == "0") {
        return issue_title;
      } else {
        var voliss;

        if (!numbering) {
          voliss = iss ? vol + "(" + iss + ")" : vol;
        } else if (numbering === "volume_only") {
          voliss = "Volume " + vol;
        } else {
          voliss = iss;
        }

        return voliss;
      }
    });

    return _this;
  }

  _createClass(TabAuthorComp, [{
    key: "addDot",
    value: function addDot(str) {
      str = str.trim();
      return /[.?]$/.test(str) ? str + " " : str + ". ";
    }
  }, {
    key: "localIdLabel",
    value: function localIdLabel(type) {
      var v = {
        'arXiv': "arXiv ID: ",
        'lbnl': "LBNL Report #: ",
        'merritt': "Merritt ID: ",
        'oa_harvester': "UCPMS ID: ",
        'other': "",
        'pmid': "Pubmed ID: ",
        'pmcid': "PubMed Central ID: ",
        'proquest': "ProQuest ID: ",
        'repec': "RePEc ID: ",
        'report': "Report #: ",
        'default': ""
      };
      return v[type] ? v[type] : v["default"];
    }
  }, {
    key: "formatAuth",
    value: function formatAuth(auth) {
      var out;

      if (auth.lname) {
        out = auth.lname;

        if (auth.fname) {
          if (/^[A-Z]{2,3}/.test(auth.fname)) // already a set of initials
            out += ", " + auth.fname;else {
            out += ", " + auth.fname.substr(0, 1).toLocaleUpperCase() + ".";
            if (auth.mname) out += " " + auth.mname.substr(0, 1).toLocaleUpperCase();
          }
        }
      } else if (auth.organization) out = auth.organization;else out = auth.name;

      return out;
    }
  }, {
    key: "formatDoi",
    value: function formatDoi(doi) {
      if (/^10\./.test(doi)) return "http://dx.doi.org/" + doi;else return "doi:" + doi;
    }
  }, {
    key: "formatCitation",
    value: function formatCitation(props) {
      var _this2 = this;

      var out = "";

      try {
        // First comes the list of authors. According to APA spec, if there 8 or more
        // we list the first 6 and then "et al."
        var auths = props.authors;

        if (auths && auths.length > 0) {
          if (auths.length == 1) out += this.formatAuth(auths[0]);else if (auths.length < 8) {
            out += _.map(auths.slice(0, auths.length - 1), this.formatAuth).join(", ");
            out += ", & " + this.formatAuth(auths[auths.length - 1]);
          } else out += _.map(auths.slice(0, 6), this.formatAuth).join("; ") + ", et al.";
          out = this.addDot(out);
        } // Next comes the publication year in parens, followed by a dot.


        var match = /^(\d\d\d\d)/.exec(props.published);
        if (match) out += "(" + match[1] + "). "; // Next comes the title, followed by a dot. APA says to italicize book titles only.

        out += props.genre == "monograph" ? "<em>" + props.title + "</em>" : props.title;
        out = this.addDot(out); // If it's a book chapter, note the book it's in. Likewise, if it's a monograph
        // in a monograph series.

        if (props.attrs.book_title) {
          out = this.addDot(out + "In <em>" + props.attrs.book_title + "</em>");
          if (props.attrs.publisher) out = this.addDot(out + "Location: " + props.attrs.publisher);
        } else if (props.unit && props.unit.type == "monograph_series" && props.attrs.publisher) out = this.addDot(out + "Location: " + props.attrs.publisher);else if (props.unit && props.unit.type == "series" && props.attrs.publisher) out = this.addDot(out + "<em>" + props.attrs.publisher + "</em>"); // Include journal info


        var ext = props.attrs.ext_journal;

        if (ext && ext.name) {
          // External journals
          out += "<em>" + ext.name + "</em>, ";

          if (ext.volume) {
            out += ext.volume;
            if (ext.issue) out += "(" + ext.issue + ")";
          } else if (ext.issue) out += ext.issue;

          if (ext.fpage) {
            out += ", " + ext.fpage;
            if (ext.lpage) out += "-" + ext.lpage;
          }

          out = this.addDot(out);
        } else if (props.unit.type == "journal" && props.citation) {
          // Internal (escholarship) journals
          out += "<em>" + props.unit.name + "</em>";
          var voliss = "";
          if (props.numbering == "issue_only") voliss += props.citation.issue;else if (props.citation.volume && props.citation.volume != "0") {
            // skip articles-in-press
            voliss += props.citation.volume;
            if (props.numbering != "volume_only" && props.citation.issue && props.citation.issue != "0") voliss += "(" + props.citation.issue + ")";
          }
          if (voliss != "") out += ", " + voliss;
          out = this.addDot(out);
        } else if (props.unit && props.unit.type == "series" && props.attrs.publisher) {
          // when series name has been added
          out += props.header.campusName;

          if (props.unit && props.unit.name) {
            var dept = props.unit.type == "oru" ? props.unit.name : props.header.ancestorName;

            if (dept != props.header.campusName) {
              if (dept.startsWith(props.header.campusName)) dept = dept.substr(props.header.campusName.length);
              out += ": " + dept.trim();
            }
          }

          out = this.addDot(out);
        } else if (props.header.campusName && props.genre != "monograph" && props.genre != "journal") {
          // General series
          out += "<em>" + props.header.campusName;

          if (props.unit && props.unit.name) {
            var _dept = props.unit.type == "oru" ? props.unit.name : props.header.ancestorName;

            if (_dept != props.header.campusName) {
              if (_dept.startsWith(props.header.campusName)) _dept = _dept.substr(props.header.campusName.length);
              out += ": " + _dept.trim();
            }
          }

          out += "</em>";
          out = this.addDot(out);
        } // Include certain local IDs


        if (props.attrs['local_ids']) {
          _.each(props.attrs['local_ids'], function (node) {
            var label = _this2.localIdLabel(node.type);

            if (label != "" && node.type != "oa_harvester") out = _this2.addDot(out + label + node.id);
          });
        } // If there's a DOI, include it in canonical format.


        if (props.attrs.doi) out += this.formatDoi(props.attrs.doi) + " "; // Last is the URL

        var url = window.location.href.split('#')[0];
        out += "Retrieved from " + url;
      } catch (err) {
        console.log("Warning: Exception occurred in citation processing:", err);
        return "";
      }

      return out;
    }
  }, {
    key: "contribList",
    value: function contribList(contribs) {
      return contribs.map(function (a, i) {
        var orcid = a.ORCID_id ? "https://orcid.org/" + a.ORCID_id : null;
        return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "/search/?q=" + encodeURIComponent("author:" + a.name)
        }, a.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
          key: i + 1
        }, a.institution ? a.institution : a.department ? a.department : "", "\xA0\xA0", orcid ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          className: "o-textlink__secondary",
          href: orcid
        }, orcid) : "")];
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var p = this.props;
      var authorList = p.attrs['author_hide'] ? null : this.contribList(p.authors);
      var editorList = p.editors ? this.contribList(p.editors) : null;
      var advisorList = p.advisors ? this.contribList(p.advisors) : null; // Journal info
      // Uhh, borrowing from header > breadcrumb data object here even though we're not in the header

      var lastCrumb = p.header && p.header.breadcrumb ? p.header.breadcrumb[p.header.breadcrumb.length - 1] : null;
      var journal_name = null,
          volume = null,
          issue = null,
          issue_url = null;

      if (p.attrs['ext_journal']) {
        var extj = p.attrs['ext_journal'];
        journal_name = extj['name'];
        volume = extj['volume'];
        issue = extj['issue'];
      } else if (p.citation) {
        var c = p.citation; // 'journal_name' defined by 'appears_in' value below

        volume = c['volume'] ? c['volume'] : '';
        issue = c['issue'];
        issue_url = lastCrumb ? lastCrumb.url : null;
      }

      var issue_title = lastCrumb ? lastCrumb.name : null;
      var journal_stmnt;

      if (journal_name || volume || issue) {
        var voliss = this.customIssueTitle(volume, issue, p.numbering, issue_title);
        journal_stmnt = journal_name ? journal_name + ", " + voliss : voliss;
      }

      var issn = p.attrs['ext_journal'] && p.attrs['ext_journal']['issn'];
      var unit_type;

      if (p.unit) {
        unit_type = p.unit.type == 'journal' ? "Journal" : "Series";
      }

      var permalink = "https://escholarship.org/uc/item/" + p.id;
      var appearsIn = p.appearsIn.map(function (node, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/uc/" + node.id,
          className: "o-textlink__secondary"
        }, node.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null));
      });
      var doi;

      if (p.attrs['doi']) {
        doi = p.attrs['doi'].startsWith("http") ? p.attrs['doi'] : "https://doi.org/" + p.attrs['doi'];
      } // Local ID looks something like this:
      //   [{"id": "Southern_ucsc_0036E_11162", "type": "proquest"}, {"id": "http://dissertations.umi.com/ucsc:11162", "type": "other"}, {"id": "ark:/13030/m5dn8t2h", "type": "merritt"}] 


      var local_ids;

      if (p.attrs['local_ids']) {
        local_ids = p.attrs['local_ids'].map(function (node, i) {
          var label = _this3.localIdLabel(node.type);

          if (node.id.startsWith("http")) {
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
              key: i
            }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
              href: node.id,
              className: "o-textlink__secondary"
            }, label, node.id), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null));
          } else {
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
              key: i
            }, label, node.id, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null));
          }
        });
      }

      var kind = p.genre == "monograph" ? "Book" : "Article";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent"
      }, !p.attrs['orig_citation'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-itemactions"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "c-tabcontent__main-heading",
        tabIndex: "-1"
      }, "Author & ", kind, " Info"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Author(s)"), p.attrs['author_hide'] || p.authors.length == 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, "No author information available") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, authorList)), editorList && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Editor(s)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, editorList)), advisorList && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Advisor(s)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, advisorList)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Citation"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, p.attrs['custom_citation'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "dt-custom"
      }, "Preferred:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "dd-custom"
      }, p.attrs['custom_citation'])], /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "dt-apa"
      }, "Suggested:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "dd-apa"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        html: this.formatCitation(p)
      })), p.attrs['orig_citation'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "dt-orig"
      }, "Original:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "dd-orig"
      }, p.attrs['orig_citation'])])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Other information"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dl", {
        className: "c-descriptionlist"
      }, p.attrs['is_peer_reviewed'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Peer-Reviewed")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", {
        key: "1"
      })], p.attrs['isbn'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "ISBN:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, p.attrs['isbn'])], issn && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "ISSN:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, issn)], p.published && !p.attrs['pub_publish'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Publication Date:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, p.published)], p.attrs['pub_publish'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Publication Date:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, p.attrs['pub_publish'])], p.attrs['pub_accept'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Acceptance Date:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, p.attrs['pub_accept'])], p.attrs['pub_submit'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Submission Date:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, p.attrs['pub_submit'])], unit_type && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, unit_type, ":")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, appearsIn)], journal_stmnt && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Journal Issue:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, issue_url ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: issue_url,
        className: "o-textlink__secondary"
      }, journal_stmnt) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, journal_stmnt))], /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Permalink:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: permalink,
        className: "o-textlink__secondary"
      }, permalink)), doi && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "DOI:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: doi,
        className: "o-textlink__secondary"
      }, doi))], p.attrs['addl_info'] && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Additional Info:")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        html: p.attrs['addl_info'],
        h1Level: 2
      }))], local_ids && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dt", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "Local Identifier(s):")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dd", {
        key: "1"
      }, local_ids)])));
    }
  }]);

  return TabAuthorComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (TabAuthorComp);

/***/ }),

/***/ "./app/jsx/components/TabMainComp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/TabMainComp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_PdfViewComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/PdfViewComp.jsx */ "./app/jsx/components/PdfViewComp.jsx");
/* harmony import */ var _components_MediaViewerComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/MediaViewerComp.jsx */ "./app/jsx/components/MediaViewerComp.jsx");
/* harmony import */ var _components_ViewExternalComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ViewExternalComp.jsx */ "./app/jsx/components/ViewExternalComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/ScrollingAnchorComp.jsx */ "./app/jsx/components/ScrollingAnchorComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Tab Main Content Component ##### //








var Abstract = /*#__PURE__*/function (_React$Component) {
  _inherits(Abstract, _React$Component);

  var _super = _createSuper(Abstract);

  function Abstract() {
    _classCallCheck(this, Abstract);

    return _super.apply(this, arguments);
  }

  _createClass(Abstract, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Abstract"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        html: this.props["abstract"],
        p_wrap: true,
        h1Level: 3
      }), this.props.unit && this.props.unit.id.match(/^.*_postprints/) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        className: "o-well-colored"
      }, "Many UC-authored scholarly publications are freely available on this site because of the UC's ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://osc.universityofcalifornia.edu/open-access-at-uc/open-access-policy/"
      }, "open access policies"), ". ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/tickets/new"
      }, "Let us know how this access is important for you.")));
    }
  }]);

  return Abstract;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var MainContent = /*#__PURE__*/function (_React$Component2) {
  _inherits(MainContent, _React$Component2);

  var _super2 = _createSuper(MainContent);

  function MainContent() {
    var _this;

    _classCallCheck(this, MainContent);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "renderHtml", function (p) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        name: "article_main"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Main Content"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        html: p.content_html,
        h1Level: 3
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null));
    });

    return _this;
  }

  _createClass(MainContent, [{
    key: "render",
    value: function render() {
      var p = this.props;

      switch (p.status) {
        // Empty items are published but with no content: no published web loc, no supp files.
        // Could use the <Withdrawn> class here but using <NoContent> for semantic reasons
        case "empty":
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NoContent, null);

        case "published":
        case "pending":
          if (!p.content_type) {
            if (p.attrs.pub_web_loc && p.attrs.pub_web_loc.length > 0) {
              return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NoContent, {
                pub_web_loc: p.attrs.pub_web_loc,
                supp_files: p.attrs.supp_files,
                changeTab: p.changeTab
              });
            } else if (p.attrs.supp_files && p.attrs.supp_files.length > 0) {
              return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
                className: "c-togglecontent",
                open: true
              }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Main Content"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MediaViewerComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
                id: this.props.id,
                supp_files: this.props.attrs.supp_files,
                preview_key: this.props.preview_key
              }));
            } else {
              return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Withdrawn, {
                message: "This item is not available from eScholarship."
              });
            }
          } else {
            // JumpComp ("Jump To" menu) only present in this case
            return p.content_type == "application/pdf" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PdfViewComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
              url: p.pdf_url,
              content_key: p.content_key,
              download_restricted: p.download_restricted,
              commenting_ok: p.commenting_ok,
              preview_key: p.preview_key
            }) : p.content_type == "text/html" ? this.renderHtml(p) : raise("unknown content_type '" + p.content_type + "'");
          }

        case "withdrawn":
        case "withdrawn-junk":
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Withdrawn, {
            message: p.attrs.withdrawn_message
          });

        case "embargoed":
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Embargoed, {
            date: p.attrs.embargo_date,
            pub_web_loc: p.attrs.pub_web_loc,
            formatDate: p.formatDate
          });

        default:
          throw "unknown status '" + p.status + "'";
      }
    }
  }]);

  return MainContent;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var Withdrawn = /*#__PURE__*/function (_React$Component3) {
  _inherits(Withdrawn, _React$Component3);

  var _super3 = _createSuper(Withdrawn);

  function Withdrawn() {
    _classCallCheck(this, Withdrawn);

    return _super3.apply(this, arguments);
  }

  _createClass(Withdrawn, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-itemunavailable__withdrawn"
      }, this.props.message ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        className: "o-itemunavailable__lede"
      }, this.props.message) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        className: "o-itemunavailable__lede"
      }, "This item has been withdrawn and is ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "no longer available"), ".")));
    }
  }]);

  return Withdrawn;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var Embargoed = /*#__PURE__*/function (_React$Component4) {
  _inherits(Embargoed, _React$Component4);

  var _super4 = _createSuper(Embargoed);

  function Embargoed() {
    _classCallCheck(this, Embargoed);

    return _super4.apply(this, arguments);
  }

  _createClass(Embargoed, [{
    key: "render",
    value: function render() {
      var eDate_formatted = this.props.formatDate(this.props.date);
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Main Content"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-itemunavailable__embargoed"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        className: "o-itemunavailable__lede"
      }, "This item is under embargo until", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, " ", eDate_formatted), "."), this.props.pub_web_loc && this.props.pub_web_loc.length > 0 && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "0"
      }, "You may have access to the publisher's version here:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        key: "1",
        href: this.props.pub_web_loc[0],
        className: "o-textlink__secondary"
      }, this.props.pub_web_loc[0]), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        key: "2",
        href: "",
        className: "o-textlink__secondary"
      }, "Notify me by email when this item becomes available")]));
    }
  }]);

  return Embargoed;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var NoContent = /*#__PURE__*/function (_React$Component5) {
  _inherits(NoContent, _React$Component5);

  var _super5 = _createSuper(NoContent);

  function NoContent() {
    _classCallCheck(this, NoContent);

    return _super5.apply(this, arguments);
  }

  _createClass(NoContent, [{
    key: "handleClick",
    value: function handleClick(e, tabName) {
      e.preventDefault();
      this.props.changeTab(tabName);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.props.pub_web_loc && this.props.pub_web_loc.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ViewExternalComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        pub_web_loc: this.props.pub_web_loc[0]
      }), this.props.supp_files && this.props.supp_files.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        style: {
          paddingLeft: '25px'
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), "All content for this item is under the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this2.handleClick(e, "supplemental");
        },
        className: "o-textlink__secondary"
      }, "Supplemental Material"), " tab."), !this.props.pub_web_loc && !this.props.supp_files && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        style: {
          paddingLeft: '25px'
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), "The text for this item is currently unavailable."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "\xA0"));
    }
  }]);

  return NoContent;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var TabMainComp = /*#__PURE__*/function (_React$Component6) {
  _inherits(TabMainComp, _React$Component6);

  var _super6 = _createSuper(TabMainComp);

  function TabMainComp() {
    _classCallCheck(this, TabMainComp);

    return _super6.apply(this, arguments);
  }

  _createClass(TabMainComp, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent"
      }, this.props.attrs["abstract"] && !/withdrawn/.test(this.props.status) && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        key: "0",
        name: "article_abstract"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Abstract, {
        key: "1",
        status: p.status,
        "abstract": p.attrs["abstract"],
        unit: p.unit
      })], /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MainContent, p));
    }
  }]);

  return TabMainComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (TabMainComp);

/***/ }),

/***/ "./app/jsx/components/TabMetaComp.jsx":
/*!********************************************!*\
  !*** ./app/jsx/components/TabMetaComp.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Tab Meta Component ##### //



var TabMetaComp = /*#__PURE__*/function (_React$Component) {
  _inherits(TabMetaComp, _React$Component);

  var _super = _createSuper(TabMetaComp);

  function TabMetaComp() {
    _classCallCheck(this, TabMetaComp);

    return _super.apply(this, arguments);
  }

  _createClass(TabMetaComp, [{
    key: "displayObject",
    value: function displayObject(k, v, i) {
      if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: k + v
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row"
        }, k), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, String(v)));
      } else {
        if (lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isEmpty(v)) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
            key: k + i
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
            scope: "row"
          }, k), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, "null"));
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
            key: k + i
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
            scope: "row"
          }, k), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("pre", null, JSON.stringify(v, null, 2))));
        }
      }
    }
  }, {
    key: "noUnit",
    value: function noUnit() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "None"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, "No unit associated with this item"));
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      var p = this.props;
      var item_properties = Object.keys(p).map(function (k, i) {
        if (lodash__WEBPACK_IMPORTED_MODULE_1___default.a.isFunction(p[k]) || k == 'attrs' || k == 'unit' || k == 'unit_attrs' || k == 'citation' || k == 'currentTab' || k == 'header' || k == 'sidebar' || k == 'usage') {// Things that aren't relevant (or are being included in the other properties used below)
        } else {
          return _this.displayObject(k, p[k], i);
        }
      });
      var itemattr_properties = Object.keys(p.attrs).map(function (k, i) {
        return _this.displayObject(k, p.attrs[k], i);
      });
      var unitattr_properties = p.unit_attrs ? Object.keys(p.unit_attrs).map(function (k, i) {
        return _this.displayObject(k, p.unit_attrs[k], i);
      }) : this.noUnit();
      var unit_properties = p.unit ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("pre", null, JSON.stringify(p.unit, null, 2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "ancestorID"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.ancestorID)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "ancestorName"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.ancestorName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "campusID"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.campusID)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "campusName"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.campusName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "directSubmit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.directSubmit)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "directSubmitURL"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.directSubmitURL)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "directManageURLauthor"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.directManageURLauthor)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "directManageURLeditor"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.header.directManageURLeditor))) : this.noUnit();
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "c-tabcontent__main-heading",
        tabIndex: "-1"
      }, "Metadata for item ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, p.id), "  (", "React.js version " + react__WEBPACK_IMPORTED_MODULE_0___default.a.version, ")"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable c-datatable-leftalign"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Item Props"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Description"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, item_properties)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Item Attrs"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Description"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, itemattr_properties)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Unit Props"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Description"))), unit_properties), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Unit Attrs"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Description"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, unitattr_properties))));
    }
  }]);

  return TabMetaComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (TabMetaComp);

/***/ }),

/***/ "./app/jsx/components/TabMetricsComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/TabMetricsComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.jsx */ "./app/jsx/utils.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Tab Metrics Component ##### //
// Usage data represented by an array like this:
// [
//    {month: '2016-01', hits: 2000, downloads: 20},
//    {month: '2016-02', hits: 2762, downloads: 24},
//    {month: '2016-03', hits: 2221, downloads: 29} ... ]





var TotalUsage = /*#__PURE__*/function (_React$Component) {
  _inherits(TotalUsage, _React$Component);

  var _super = _createSuper(TotalUsage);

  function TotalUsage() {
    _classCallCheck(this, TotalUsage);

    return _super.apply(this, arguments);
  }

  _createClass(TotalUsage, [{
    key: "render",
    value: function render() {
      var hitsTotal = _utils_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].sumValueTotals(this.props.usage, "hits"),
          hitsTotal_str = hitsTotal.toLocaleString(),
          hitsAvg = this.props.usage.length > 0 ? Math.round(hitsTotal / this.props.usage.length).toLocaleString() : 0,
          downloadsTotal = _utils_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].sumValueTotals(this.props.usage, "downloads"),
          downloadsTotal_str = downloadsTotal.toLocaleString(),
          downloadsAvg = this.props.usage.length > 0 ? Math.round(downloadsTotal / this.props.usage.length).toLocaleString() : 0;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("caption", null, "Total Usage"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Actions"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Monthly Average"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "Hits"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, hitsTotal_str), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, hitsAvg)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "row"
      }, "Downloads"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, downloadsTotal_str), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, downloadsAvg)))));
    }
  }]);

  return TotalUsage;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var MonthlyUsage = /*#__PURE__*/function (_React$Component2) {
  _inherits(MonthlyUsage, _React$Component2);

  var _super2 = _createSuper(MonthlyUsage);

  function MonthlyUsage() {
    var _this;

    _classCallCheck(this, MonthlyUsage);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "getMonth", function (rows, i) {
      var len = rows.length;
      if (len == 0) return '';
      if (i > len) i = len;
      var recent12 = len < 12 ? rows : rows.slice(-12);
      return recent12[i - 1].month;
    });

    _defineProperty(_assertThisInitialized(_this), "state", {
      from: _this.getMonth(_this.props.usage, 1),
      to: _this.getMonth(_this.props.usage, 12)
    });

    _defineProperty(_assertThisInitialized(_this), "changeFrom", function (e) {
      _this.setState({
        from: e.target.value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "changeTo", function (e) {
      _this.setState({
        to: e.target.value
      });
    });

    return _this;
  }

  _createClass(MonthlyUsage, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var months_all = this.props.usage.map(function (r) {
        return r.month;
      }),
          monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
          fullDate = function fullDate(ym) {
        var d = ym.split('-');
        var month = monthNames[parseInt(d[1]) - 1];
        return month + " " + d[0];
      },
          selector = months_all.map(function (m, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: i,
          value: m
        }, fullDate(m));
      }),
          selectedUsage = this.props.usage.map(function (r, i) {
        if (r.month >= _this2.state.from && r.month <= _this2.state.to) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
            key: i
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
            scope: "row"
          }, r.month), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, r.hits.toLocaleString()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, r.downloads.toLocaleString()));
        }
      });

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "o-heading3"
      }, "By Month"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-itemactions"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__droplist2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "o-input__droplist-label2"
      }, "From:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "",
        id: "o-input__droplist-label2",
        onChange: this.changeFrom,
        value: this.state.from
      }, selector)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__droplist2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "o-input__droplist-label2"
      }, "To:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "",
        id: "o-input__droplist-label2",
        onChange: this.changeTo,
        value: this.state.to
      }, selector))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Month"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Hits"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Downloads"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, selectedUsage))));
    }
  }]);

  return MonthlyUsage;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var TabMetricsComp = /*#__PURE__*/function (_React$Component3) {
  _inherits(TabMetricsComp, _React$Component3);

  var _super3 = _createSuper(TabMetricsComp);

  function TabMetricsComp() {
    var _this3;

    _classCallCheck(this, TabMetricsComp);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "state", {
      altmetrics_nodata: false,
      dimensions_nodata: false
    });

    _defineProperty(_assertThisInitialized(_this3), "scripts", ["https://badge.dimensions.ai/badge.js",
    /* Dimensions widget https://badge.dimensions.ai/ */
    "https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"
    /* Altmetric widget  https://api.altmetric.com/embeds.html */
    ]);

    return _this3;
  }

  _createClass(TabMetricsComp, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this4 = this;

      if (!(typeof document === "undefined")) {
        this.scripts.forEach(function (s) {
          var script = document.createElement("script");
          script.src = s;
          script.async = true;
          document.body.appendChild(script);
        });
        jquery__WEBPACK_IMPORTED_MODULE_3___default()('.altmetric-embed').on('altmetric:hide', function () {
          _this4.setState({
            altmetrics_nodata: true
          });
        });
        jquery__WEBPACK_IMPORTED_MODULE_3___default()('.__dimensions_badge_embed__').on('dimensions_embed:hide', function () {
          _this4.setState({
            dimensions_nodata: true
          });
        });
      }
    }
  }, {
    key: "componentWillUpdate",
    value: function componentWillUpdate() {
      if (window.__dimensions_embed) window.__dimensions_embed.addBadges();
    }
  }, {
    key: "render",
    value: function render() {
      var pmid; // Dimensions can also be used with a PubMed ID

      if (this.props.attrs['local_ids']) {
        _.each(this.props.attrs['local_ids'], function (node) {
          if (node.type == "pmid" && pmid === undefined) pmid = node.id;
        });
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "c-tabcontent__main-heading",
        tabIndex: "-1"
      }, "Metrics"), !this.props.altmetrics_ok && (!this.props.usage || this.props.usage && this.props.usage.length == 0) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-well-colored"
      }, "No usage data currently found for this item.") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent__divide2x"
      }, this.props.usage && this.props.usage.length > 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent__divide2x-child"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TotalUsage, {
        usage: this.props.usage
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MonthlyUsage, {
        usage: this.props.usage
      })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent__divide2x-child"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-well-colored"
      }, "No usage data currently found for this item.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent__divide2x-child"
      }, this.props.altmetrics_ok && (this.props.attrs.doi || pmid) && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        key: "0",
        className: "o-heading3"
      }, "Online Attention"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "altmetric-embed",
        "data-pmid": pmid,
        "data-doi": this.props.attrs.doi,
        "data-badge-type": "donut",
        "data-badge-details": "right",
        "data-hide-no-mentions": "true"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "2",
        className: this.state.altmetrics_nodata ? "c-tabcontent-reveal" : "c-tabcontent-hide"
      }, "AltMetric\xAE data is unavailable for this item."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "3"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))], (this.props.attrs.doi || pmid) && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        key: "0",
        className: "o-heading3"
      }, "Citations"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "__dimensions_badge_embed__",
        "data-pmid": pmid,
        "data-doi": this.props.attrs.doi,
        "data-hide-zero-citations": "true",
        "data-legend": "always",
        "data-style": "small_circle"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "2",
        className: this.state.dimensions_nodata ? "c-tabcontent-reveal" : "c-tabcontent-hide"
      }, "Citation data is unavailable for this item.")])));
    }
  }]);

  return TabMetricsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(TabMetricsComp, "propTypes", {
  usage: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    month: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    hits: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number,
    downloads: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number
  })).isRequired,
  altmetrics_ok: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,
  attrs: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    doi: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    local_ids: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array
  })
});

/* harmony default export */ __webpack_exports__["default"] = (TabMetricsComp);

/***/ }),

/***/ "./app/jsx/components/TabSupplementalComp.jsx":
/*!****************************************************!*\
  !*** ./app/jsx/components/TabSupplementalComp.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_MediaRefineComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/MediaRefineComp.jsx */ "./app/jsx/components/MediaRefineComp.jsx");
/* harmony import */ var _components_MediaFileGridComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/MediaFileGridComp.jsx */ "./app/jsx/components/MediaFileGridComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Tab Supplemental Material Component ##### //




var TabSupplementalComp = /*#__PURE__*/function (_React$Component) {
  _inherits(TabSupplementalComp, _React$Component);

  var _super = _createSuper(TabSupplementalComp);

  function TabSupplementalComp() {
    var _this;

    _classCallCheck(this, TabSupplementalComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      filterType: ""
    });

    _defineProperty(_assertThisInitialized(_this), "changeType", function (event) {
      _this.setState({
        filterType: event.target.value
      });
    });

    return _this;
  }

  _createClass(TabSupplementalComp, [{
    key: "render",
    value: function render() {
      var supp_files_orig = this.props.attrs.supp_files,
          supp_files = [],
          mimeTypes = [];

      if (supp_files_orig) {
        // mimeSimple = Normalized mimeType value to make filtering files easier
        var _iterator = _createForOfIteratorHelper(supp_files_orig),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var f = _step.value;

            // normalize the DOI to recommended best practice
            // -- only attempt this match if we actually have a doi
            if (f.doi && !f.doi.startsWith('http')) {
              f.doi = 'https://doi.org/' + f.doi;
            }

            var mimeSimple = "data";

            if (f.mimeType && f.mimeType != "unknown") {
              var s = f.mimeType.split('/');

              if (s[0] == "text" || s[0] == "application" && ["pdf", "msword", "postscript", "wordperfect", "pdf"].includes(s[1])) {
                mimeSimple = "doc";
              } else if (s[0] == "image" && ["jpeg", "jpg", "png", "gif"].includes(s[1])) {
                mimeSimple = "image";
              } else if (["music", "audio"].includes(s[0])) {
                mimeSimple = "audio";
              } else if (["video"].includes(s[0])) {
                mimeSimple = s[0];
              } else {
                mimeSimple = "data";
              }
            }

            f['mimeSimple'] = mimeSimple;
            f['doi'] = f.doi;
            supp_files.push(f);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }

        mimeTypes = _toConsumableArray(new Set(supp_files.map(function (f) {
          return f.mimeSimple;
        })));
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabcontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "c-tabcontent__main-heading",
        tabIndex: "-1"
      }, "Supplemental Material"), supp_files && supp_files.length > 1 && mimeTypes.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MediaRefineComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        mimeTypes: mimeTypes,
        filterType: this.state.filterType,
        changeType: this.changeType
      }), supp_files ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MediaFileGridComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        id: this.props.id,
        supp_files: supp_files,
        filterType: this.state.filterType,
        preview_key: this.props.preview_key
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, "No supplemental material included with this item"));
    }
  }]);

  return TabSupplementalComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (TabSupplementalComp);

/***/ }),

/***/ "./app/jsx/components/TabsComp.jsx":
/*!*****************************************!*\
  !*** ./app/jsx/components/TabsComp.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var _components_TabMainComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/TabMainComp.jsx */ "./app/jsx/components/TabMainComp.jsx");
/* harmony import */ var _components_TabSupplementalComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/TabSupplementalComp.jsx */ "./app/jsx/components/TabSupplementalComp.jsx");
/* harmony import */ var _components_TabMetricsComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/TabMetricsComp.jsx */ "./app/jsx/components/TabMetricsComp.jsx");
/* harmony import */ var _components_TabAuthorComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/TabAuthorComp.jsx */ "./app/jsx/components/TabAuthorComp.jsx");
/* harmony import */ var _components_TabMetaComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/TabMetaComp.jsx */ "./app/jsx/components/TabMetaComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Tabs Component ##### //









var TabsComp = /*#__PURE__*/function (_React$Component) {
  _inherits(TabsComp, _React$Component);

  var _super = _createSuper(TabsComp);

  function TabsComp() {
    var _this;

    _classCallCheck(this, TabsComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      moreTabs: false
    });

    return _this;
  }

  _createClass(TabsComp, [{
    key: "tabFocus",
    value: function tabFocus(tabName) {
      this.props.changeTab(tabName);
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.currentTab != nextProps.currentTab) {
        // For keyboard users, jump to heading within the tab.
        setTimeout(function () {
          return jquery__WEBPACK_IMPORTED_MODULE_1___default()(".c-tabcontent__main-heading").focus();
        }, 0);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var p = this.props; // "Multimedia Item" is a published item with no content type and no published web location,
      //  but with supplemental media. When the item is a Multimedia Item, we
      //  don't need to display the Supplemental Media tab

      var multimediaItem = p.status == 'published' && !p.content_type && !p.attrs.pub_web_loc && p.attrs.supp_files && p.attrs.supp_files.length > 0;
      var kind = p.genre == "monograph" ? "Book" : "Article";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabs"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.state.moreTabs ? "c-tabs__tabs--show-all" : "c-tabs__tabs"
      }, ["published", "empty"].includes(p.status) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-tabs__button-more",
        onClick: function onClick() {
          return _this2.setState({
            moreTabs: !_this2.state.moreTabs
          });
        },
        "aria-label": "Show all tabs"
      }, "..."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: p.currentTab == "main" ? "c-tabs__button--active" : "c-tabs__button",
        onClick: function onClick() {
          return _this2.tabFocus("main");
        }
      }, "Main Content"), ["published", "pending"].includes(p.status) && p.attrs.supp_files && !multimediaItem && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: p.currentTab == "supplemental" ? "c-tabs__button--active" : "c-tabs__button",
        onClick: function onClick() {
          return _this2.tabFocus("supplemental");
        }
      }, "Supplemental Material"), p.status == 'published' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: p.currentTab == "metrics" ? "c-tabs__button--active" : "c-tabs__button",
        onClick: function onClick() {
          return _this2.tabFocus("metrics");
        }
      }, "Metrics"), !/withdrawn/.test(p.status) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: p.currentTab == "author" ? "c-tabs__button--active" : "c-tabs__button",
        onClick: function onClick() {
          return _this2.tabFocus("author");
        }
      }, "Author & ", kind, " Info"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_2__["default"].CMS.Consumer, null, function (cms) {
        return cms.loggedIn && cms.permissions && cms.permissions["super"] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          className: p.currentTab == "meta" ? "c-tabs__button--active" : "c-tabs__button",
          onClick: function onClick() {
            return _this2.tabFocus("meta");
          }
        }, "Meta") : null;
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-tabs__content"
      }, p.currentTab == "main" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TabMainComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], p), p.currentTab == "supplemental" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TabSupplementalComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], p), p.currentTab == "metrics" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TabMetricsComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], p), p.currentTab == "author" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TabAuthorComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], p), p.currentTab == "meta" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_2__["default"].CMS.Consumer, null, function (cms) {
        return cms.loggedIn && cms.permissions && cms.permissions["super"] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TabMetaComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], p) : null;
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))));
    }
  }]);

  return TabsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (TabsComp);

/***/ }),

/***/ "./app/jsx/components/TeaserComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/TeaserComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Teaser Component ##### //



var TeaserComp = /*#__PURE__*/function (_React$Component) {
  _inherits(TeaserComp, _React$Component);

  var _super = _createSuper(TeaserComp);

  function TeaserComp() {
    _classCallCheck(this, TeaserComp);

    return _super.apply(this, arguments);
  }

  _createClass(TeaserComp, [{
    key: "handleClick",
    value: function handleClick(e, name) {
      e.preventDefault();
      this.props.changeAnchor(name);
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-teaser"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "eScholarship Publishing")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Open Access publishing for journals, monographs, conference proceedings and more."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this.handleClick(e, "home_publishing");
        }
      }, "Learn More")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "eScholarship Repository")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Open Access repository services for UC researchers to share their scholarly output."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "#",
        onClick: function onClick(e) {
          return _this.handleClick(e, "home_repository");
        }
      }, "Learn More")));
    }
  }]);

  return TeaserComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (TeaserComp);

/***/ }),

/***/ "./app/jsx/components/TestMessageComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/TestMessageComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Test Message Component ##### //



var TestMessageComp = /*#__PURE__*/function (_React$Component) {
  _inherits(TestMessageComp, _React$Component);

  var _super = _createSuper(TestMessageComp);

  function TestMessageComp() {
    var _this;

    _classCallCheck(this, TestMessageComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].CMS.Consumer, null, function (cms) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-testmessage",
          style: {
            display: "flex",
            justifyContent: "space-between",

            /* Total hack here to make the DrawerComp cooperate with the admin bar and test message */
            marginTop: cms.permissions && cms.permissions.admin && cms.modules ? "-20px" : "-10px",
            marginBottom: cms.permissions && cms.permissions.admin && cms.modules ? "20px" : "10px"
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", {
          className: "c-testmessage__main-text",
          style: {
            textTransform: "none",
            wordSpacing: 0
          }
        }, "This is a beta preview of the new eScholarship"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          style: {
            display: "flex",
            flexWrap: "wrap",
            marginLeft: "10px"
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          style: {
            color: "white"
          },
          href: "https://help.escholarship.org/support/discussions/9000052123"
        }, "Send us your feedback"), "\xA0\xA0\xA0", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          style: {
            color: "white"
          },
          href: "http://escholarship.org"
        }, "Return to current site")));
      });
    });

    return _this;
  }

  return _createClass(TestMessageComp);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (TestMessageComp);

/***/ }),

/***/ "./app/jsx/components/ToggleListComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/ToggleListComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_ToggleListSubComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ToggleListSubComp.jsx */ "./app/jsx/components/ToggleListSubComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Toggle List Component ##### //




var ToggleListComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ToggleListComp, _React$Component);

  var _super = _createSuper(ToggleListComp);

  function ToggleListComp(props) {
    var _this;

    _classCallCheck(this, ToggleListComp);

    _this = _super.call(this, props);
    _this.state = {
      override: {
        open: false,
        date: new Date()
      }
    };
    return _this;
  }

  _createClass(ToggleListComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-togglelist"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-togglelist__buttons"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "o-button__2",
        onClick: function onClick() {
          return _this2.setState({
            override: {
              open: true,
              date: new Date()
            }
          });
        }
      }, "Expand All"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "o-button__2",
        onClick: function onClick() {
          return _this2.setState({
            override: {
              open: false,
              date: new Date()
            }
          });
        }
      }, "Collapse All")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-togglelist__mainlist"
      }, this.props.depts.map(function (node) {
        return node.children ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: node.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + node.id
        }, node.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ToggleListSubComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          override: _this2.state.override
        }, node.children)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: node.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + node.id
        }, node.name));
      })));
    }
  }]);

  return ToggleListComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ToggleListComp);

/***/ }),

/***/ "./app/jsx/components/ToggleListSubComp.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/components/ToggleListSubComp.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Toggle List Sub Component ##### //



var ToggleListSubComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ToggleListSubComp, _React$Component);

  var _super = _createSuper(ToggleListSubComp);

  function ToggleListSubComp(props) {
    var _this;

    _classCallCheck(this, ToggleListSubComp);

    _this = _super.call(this, props);
    _this.state = {
      open: false,
      date: new Date()
    };
    return _this;
  }

  _createClass(ToggleListSubComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglelist__sublist",
        ref: function ref(dom) {
          return _this2.details = dom;
        },
        open: this.props.override.date > this.state.date ? this.props.override.open : this.state.open
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        onClick: function onClick(event) {
          _this2.setState({
            open: !_this2.details.open,
            date: new Date()
          });

          event.preventDefault();
        },
        "aria-label": "list of sub items"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, this.props.children.map(function (node) {
        return node.children ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: node.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + node.id
        }, node.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ToggleListSubComp, {
          override: _this2.props.override
        }, node.children)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: node.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + node.id
        }, node.name));
      })));
    }
  }]);

  return ToggleListSubComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ToggleListSubComp);

/***/ }),

/***/ "./app/jsx/components/UnitCarouselComp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/UnitCarouselComp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_CarouselComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/CarouselComp.jsx */ "./app/jsx/components/CarouselComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Unit Carousel Component ##### //







function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}

function genreToClassName(genre) {
  if (genre == 'article') return 'article';else if (genre == 'monograph') return 'book';else if (genre == 'dissertation' || genre == 'etd') return 'thesis';else if (genre == 'multimedia') return 'multimedia';else return 'article';
}

var UnitCarouselItem = /*#__PURE__*/function (_React$Component) {
  _inherits(UnitCarouselItem, _React$Component);

  var _super = _createSuper(UnitCarouselItem);

  function UnitCarouselItem() {
    _classCallCheck(this, UnitCarouselItem);

    return _super.apply(this, arguments);
  }

  _createClass(UnitCarouselItem, [{
    key: "render",
    value: function render() {
      var pr = this.props.result,
          itemLink = "/uc/item/" + pr.id.replace(/^qt/, "");
      var authorList;

      if (pr.authors) {
        // Joel's CSS handles inserting semicolons here.
        authorList = pr.authors.map(function (author, i) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: i
          }, author.name);
        });
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitcarousel__item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: itemLink
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        html: pr.title
      }))), authorList && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitcarousel__item-authorlist"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-authorlist"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-authorlist__list"
      }, authorList))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitcarousel__item-type--".concat(genreToClassName(pr.genre))
      }, capitalize(pr.genre)));
    }
  }]);

  return UnitCarouselItem;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitCarouselItem, "propTypes", {
  result: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
    title: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
    authors: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array,
    genre: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
  }).isRequired
});

var UnitCarouselComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(UnitCarouselComp, _React$Component2);

  var _super2 = _createSuper(UnitCarouselComp);

  function UnitCarouselComp() {
    var _this;

    _classCallCheck(this, UnitCarouselComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "scrollDown", function () {
      _this.scrollBox.scrollBy({
        top: 100,
        behavior: 'smooth'
      });

      _this.scrollBox.focus();
    });

    _defineProperty(_assertThisInitialized(_this), "scrollUp", function () {
      _this.scrollBox.scrollBy({
        top: -100,
        behavior: 'smooth'
      });

      _this.scrollBox.focus();
    });

    return _this;
  }

  _createClass(UnitCarouselComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var p = this.props;
      var pluralItems = p.item_count == 1 ? '' : 's';
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campuscarouselframe"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "c-campuscarouselframe__heading"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Link"], {
        to: "/uc/" + p.titleID
      }, p.titleName)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campuscarouselframe__carousel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitcarousel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-unitcarousel__button-up",
        onClick: this.scrollUp,
        "aria-label": "Scroll Up"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitcarousel__scrollbox",
        ref: function ref(el) {
          return _this2.scrollBox = el;
        },
        tabIndex: "-1"
      }, p.slides.map(function (result, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitCarouselItem, {
          key: i,
          result: result
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-unitcarousel__button-down",
        onClick: this.scrollDown,
        "aria-label": "Scroll Down"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-campuscarouselframe__stats"
      }, p.item_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--item"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_4__["Link"], {
        to: "/uc/" + p.titleID
      }, p.item_count.toLocaleString()), "Item", pluralItems), p.view_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-stat--view"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, p.view_count.toLocaleString()), "Views")));
    }
  }]);

  return UnitCarouselComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitCarouselComp, "propTypes", {
  titleID: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  // unit ID
  titleName: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  // unit Name
  slides: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
    title: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
    authors: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array,
    genre: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
  })).isRequired,
  item_count: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  view_count: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (UnitCarouselComp);

/***/ }),

/***/ "./app/jsx/components/ViewExternalComp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/ViewExternalComp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### View on External Site Component ##### //


var ViewExternalComp = /*#__PURE__*/function (_React$Component) {
  _inherits(ViewExternalComp, _React$Component);

  var _super = _createSuper(ViewExternalComp);

  function ViewExternalComp() {
    var _this;

    _classCallCheck(this, ViewExternalComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "view", function () {
      window.location = _this.props.pub_web_loc;
    });

    return _this;
  }

  _createClass(ViewExternalComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-viewexternal"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: function onClick() {
          _this2.view();
        },
        className: "c-viewexternal__action"
      }, "View on External Site"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-viewexternal__text"
      }, "Item not freely available? Link broken?"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/tickets/new",
        className: "c-viewexternal__report-link"
      }, "Report a problem accessing this item"));
    }
  }]);

  return ViewExternalComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (ViewExternalComp);

/***/ }),

/***/ "./app/jsx/components/WithdrawModalComp.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/components/WithdrawModalComp.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-modal */ "./node_modules/react-modal/lib/index.js");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Withdraw Modal Component ##### //




var WithdrawModalComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WithdrawModalComp, _React$Component);

  var _super = _createSuper(WithdrawModalComp);

  function WithdrawModalComp() {
    var _this;

    _classCallCheck(this, WithdrawModalComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      modalOpen: false,
      inProgress: false
    });

    _defineProperty(_assertThisInitialized(_this), "onClose", function () {
      return _this.setState({
        modalOpen: false,
        inProgress: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onOpen", function () {
      return _this.setState({
        modalOpen: true,
        message: null,
        redirectTo: null
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onOK", function () {
      _this.props.sendApiData('DELETE', "/api/item/qt".concat(_this.props.itemID), {
        publicMessage: _this.state.publicMessage,
        internalComment: _this.state.internalComment,
        redirectTo: _this.state.redirectTo
      });

      _this.onClose();
    });

    return _this;
  }

  _createClass(WithdrawModalComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_2__["default"].CMS.Consumer, null, function (cms) {
        return cms.loggedIn && cms.permissions && cms.permissions["super"] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          className: "o-button__3",
          onClick: _this2.onOpen
        }, "Withdraw"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-modal"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_modal__WEBPACK_IMPORTED_MODULE_1___default.a, {
          isOpen: _this2.state.modalOpen,
          contentLabel: "Withdraw Item",
          onRequestClose: _this2.onClose,
          className: "c-modal--open",
          overlayClassName: "c-modal__overlay"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "modal__header"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Withdraw Item"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          className: "c-modal__header-close",
          onClick: _this2.onClose
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "modal__content"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-withdrawmodal__warning"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "WARNING: "), " This item will be permanently withdrawn (and optionally redirected to another item)."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-withdrawmodal__label",
          htmlFor: "publicMessage"
        }, "Withdrawal reason (public):"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-withdrawmodal__public-message",
          id: "publicMessage",
          type: "text",
          onChange: function onChange(event) {
            return _this2.setState({
              publicMessage: event.target.value
            });
          }
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-withdrawmodal__label",
          htmlFor: "internalComment"
        }, "Internal comment (optional, e.g. ticket URL):"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-withdrawmodal__internal-comment",
          id: "internalComment",
          type: "text",
          onChange: function onChange(event) {
            return _this2.setState({
              internalComment: event.target.value
            });
          }
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-withdrawmodal__label",
          htmlFor: "redirectTo"
        }, "Identifier of item to redirect to (optional, form of 'qtxxxxxxxx'):"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-withdrawmodal__redirect-to",
          id: "redirectTo",
          type: "text",
          onChange: function onChange(event) {
            return _this2.setState({
              redirectTo: event.target.value
            });
          }
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-modal__footer"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          className: "c-modal__button-close",
          onClick: _this2.onClose
        }, "Cancel, back to safety"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          className: "o-button__3",
          onClick: _this2.onOK
        }, "Yes, withdraw this item")))))) : null;
      });
    }
  }]);

  return WithdrawModalComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (WithdrawModalComp);

/***/ }),

/***/ "./app/jsx/components/WizardCampusComp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/WizardCampusComp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Deposit Wizard - [2] Campus Component ##### //




var WizardCampusComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WizardCampusComp, _React$Component);

  var _super = _createSuper(WizardCampusComp);

  function WizardCampusComp() {
    _classCallCheck(this, WizardCampusComp);

    return _super.apply(this, arguments);
  }

  _createClass(WizardCampusComp, [{
    key: "campusList",
    value: function campusList(campuses, next) {
      var _this = this;

      return campuses.map(function (c) {
        if (c.id == "lbnl") {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: c.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: "https://oapolicy.universityofcalifornia.edu"
          }, c.name));
        } else if (c.id == "anrcs") {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: c.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: _this.props.subi_link + c.id
          }, c.name));
        } else if (c.id != "") {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: c.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            onClick: function onClick(event) {
              event.preventDefault();

              _this.props.goForward(next, {
                'campusID': c.id
              });
            },
            href: ""
          }, c.name));
        }
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].Wiz.Consumer, null, function (wiz) {
        // Student is not asked to select type of material (skip step 3)
        var nextStep = wiz.arg == "2_student" ? 4 : 3;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__step"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
          tabIndex: "-1"
        }, "eScholarship Deposit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this2.props.goBackward();
          },
          href: ""
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Go back")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: _this2.props.closeModal
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__heading"
        }, "Which UC Campus are you affiliated with?"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
          className: "c-wizard__list"
        }, _this2.campusList(_this2.props.campuses, nextStep)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null, "We use these questions to direct you to the right place to deposit your materials."));
      });
    }
  }]);

  return WizardCampusComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(WizardCampusComp, "propTypes", {
  campusID: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  // Not used here
  arg: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  goBackward: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any.isRequired,
  goForward: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any.isRequired,
  campuses: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array
});

/* harmony default export */ __webpack_exports__["default"] = (WizardCampusComp);

/***/ }),

/***/ "./app/jsx/components/WizardComp.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/components/WizardComp.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _WizardCampusComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./WizardCampusComp.jsx */ "./app/jsx/components/WizardCampusComp.jsx");
/* harmony import */ var _WizardLinkComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WizardLinkComp.jsx */ "./app/jsx/components/WizardLinkComp.jsx");
/* harmony import */ var _WizardRoleComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./WizardRoleComp.jsx */ "./app/jsx/components/WizardRoleComp.jsx");
/* harmony import */ var _WizardSeriesComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WizardSeriesComp.jsx */ "./app/jsx/components/WizardSeriesComp.jsx");
/* harmony import */ var _WizardTypeComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WizardTypeComp.jsx */ "./app/jsx/components/WizardTypeComp.jsx");
/* harmony import */ var _WizardUnitComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WizardUnitComp.jsx */ "./app/jsx/components/WizardUnitComp.jsx");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-modal */ "./node_modules/react-modal/lib/index.js");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_9__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Deposit Wizard Component ##### //










var SUBI_LINK = "https://submit.escholarship.org/subi/directSubmit?target=";

var WizModal = /*#__PURE__*/function (_React$Component) {
  _inherits(WizModal, _React$Component);

  var _super = _createSuper(WizModal);

  function WizModal() {
    var _this;

    _classCallCheck(this, WizModal);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_modal__WEBPACK_IMPORTED_MODULE_9___default.a, {
        closeTimeoutMS: 1000,
        isOpen: _this.props.isOpen,
        parentSelector: _this.props.parentSelector,
        onRequestClose: _this.props.onRequestClose,
        className: "c-wizard__modal",
        portalClassName: "c-wiz-modal__portal",
        overlayClassName: "c-modal__overlay"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard"
      }, _this.props.children));
    });

    return _this;
  }

  return _createClass(WizModal);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var WizardComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(WizardComp, _React$Component2);

  var _super2 = _createSuper(WizardComp);

  function WizardComp() {
    var _this2;

    _classCallCheck(this, WizardComp);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "init", function () {
      return {
        wizardStep: _this2.props.data.unitID ? 5 : 1,
        // If UnitID passed in on init, go direct to WizardSeriesComp
        wizardDir: 'fwd',
        campuses: _this2.props.campuses,
        campusID: _this2.props.data.campusID,
        campusName: _this2.props.data.campusName,
        // Unit info either passed in from an ORU landing page, or to be chosen within WizardUnitComp
        unitID: _this2.props.data.unitID,
        unitName: _this2.props.data.unitName,
        seriesName: null,
        arg: null,
        // An arbitary field used to pass logic between steps
        type: null // Used for distinguishing disabled/moribund units and series for last step

      };
    });

    _defineProperty(_assertThisInitialized(_this2), "state", {
      showModal: _this2.props.showModal,
      launchedFromRoot: !_this2.props.data.campusID || _this2.props.data.campusID == 'root',
      data: _this2.init()
    });

    _defineProperty(_assertThisInitialized(_this2), "basicCampuses", function (campuses) {
      var newlist = [];
      campuses.forEach(function (c) {
        if (!["lbnl", "anrcs"].includes(c.id)) {
          newlist.push(c);
        }
      });
      return newlist;
    });

    _defineProperty(_assertThisInitialized(_this2), "getCampusName", function (campusID) {
      if (!campusID || campusID == 'root') return "eScholarship";

      var h = _.find(_this2.props.campuses, {
        'id': campusID
      });

      return h ? h["name"] : _this2.state.data.campusName;
    });

    _defineProperty(_assertThisInitialized(_this2), "goForward", function (step, h) {
      setTimeout(function () {
        return _this2.tabFocus();
      }, 0);
      var campusID = h && h['campusID'] ? h['campusID'] : _this2.state.data.campusID;

      _this2.setState({
        data: {
          wizardStep: step,
          wizardDir: 'fwd',
          campuses: h && /_student/.test(h['arg']) ? _this2.basicCampuses(_this2.props.campuses) : _this2.props.campuses,
          prevStep: _this2.state.data.wizardStep,
          campusID: campusID,
          campusName: _this2.getCampusName(campusID),
          unitID: h && h['unitID'] ? h['unitID'] : _this2.state.data.unitID,
          unitName: h && h['unitName'] ? h['unitName'] : _this2.state.data.unitName,
          seriesName: h && h['seriesName'] ? h['seriesName'] : _this2.state.data.seriesName,
          arg: h && h['arg'] ? h['arg'] : _this2.state.data.arg,
          type: h && h['type'] ? h['type'] : _this2.state.data.type
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "goBackward", function (prevStep) {
      setTimeout(function () {
        return _this2.tabFocus();
      }, 0);
      var wizardStep;

      if (prevStep) {
        wizardStep = prevStep;
      } else if (_this2.state.data.prevStep) wizardStep = _this2.state.data.prevStep;else wizardStep = _this2.state.data.wizardStep - 1; // Strip campus info from state if user is starting over and didn't come originally from a campus


      var resetCampus = wizardStep == 1 && _this2.state.launchedFromRoot;

      _this2.setState({
        data: {
          wizardStep: wizardStep,
          wizardDir: 'bkw',
          campuses: _this2.state.data.campuses,
          prevStep: null,
          campusID: resetCampus ? null : _this2.state.data.campusID,
          campusName: resetCampus ? null : _this2.state.data.campusName,
          unitID: _this2.state.data.unitID,
          unitName: _this2.state.data.unitName,
          arg: _this2.state.data.arg
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this2), "tabFocus", function () {
      var tabHead = document.querySelector('.c-wizard__current-fwd h1, .c-wizard__current-bkw h1');
      if (tabHead) tabHead.focus();
    });

    _defineProperty(_assertThisInitialized(_this2), "handleCloseModal", function () {
      _this2.setState({
        showModal: false
      });

      _this2.setState({
        data: _this2.init()
      });

      _this2.props.onCancel();
    });

    return _this2;
  }

  _createClass(WizardComp, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!_.isEqual(this.props.showModal, nextProps.showModal)) this.setState({
        showModal: nextProps.showModal
      });
    }
  }, {
    key: "render",
    value: function render() {
      var d = this.state.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-modal"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].Wiz.Provider, {
        value: {
          launchedFromRoot: this.state.launchedFromRoot,
          campusName: d.campusName ? d.campusName : "eScholarship",
          campusID: d.campusID,
          unitID: d.unitID,
          unitName: d.unitName,
          seriesName: d.seriesName,
          arg: d.arg,
          type: d.type
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WizModal, {
        isOpen: this.state.showModal && d.wizardStep === 1,
        onRequestClose: this.handleCloseModal,
        parentSelector: this.props.parentSelector
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: d.wizardStep === 1 ? "c-wizard__current-".concat(d.wizardDir) : "c-wizard__standby-".concat(d.wizardDir),
        "aria-hidden": d.wizardStep === 1 ? null : true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardRoleComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        goForward: this.goForward,
        closeModal: this.handleCloseModal
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WizModal, {
        isOpen: this.state.showModal && d.wizardStep === 2,
        onRequestClose: this.handleCloseModal,
        parentSelector: this.props.parentSelector
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: d.wizardStep === 2 ? "c-wizard__current-".concat(d.wizardDir) : "c-wizard__standby-".concat(d.wizardDir),
        "aria-hidden": d.wizardStep === 2 ? null : true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardCampusComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        goForward: this.goForward,
        goBackward: this.goBackward,
        closeModal: this.handleCloseModal,
        campuses: d.campuses,
        subi_link: SUBI_LINK
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WizModal, {
        isOpen: this.state.showModal && d.wizardStep === 3,
        onRequestClose: this.handleCloseModal,
        parentSelector: this.props.parentSelector
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: d.wizardStep === 3 ? "c-wizard__current-".concat(d.wizardDir) : "c-wizard__standby-".concat(d.wizardDir),
        "aria-hidden": d.wizardStep === 3 ? null : true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardTypeComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        goForward: this.goForward,
        goBackward: this.goBackward,
        closeModal: this.handleCloseModal,
        subi_link: SUBI_LINK
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WizModal, {
        isOpen: this.state.showModal && d.wizardStep === 4,
        onRequestClose: this.handleCloseModal,
        parentSelector: this.props.parentSelector
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: d.wizardStep === 4 ? "c-wizard__current-".concat(d.wizardDir) : "c-wizard__standby-".concat(d.wizardDir),
        "aria-hidden": d.wizardStep === 4 ? null : true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardUnitComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        goForward: this.goForward,
        goBackward: this.goBackward,
        closeModal: this.handleCloseModal
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WizModal, {
        isOpen: this.state.showModal && d.wizardStep === 5,
        onRequestClose: this.handleCloseModal,
        parentSelector: this.props.parentSelector
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: d.wizardStep === 5 ? "c-wizard__current-".concat(d.wizardDir) : "c-wizard__standby-".concat(d.wizardDir),
        "aria-hidden": d.wizardStep === 5 ? null : true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardSeriesComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        goForward: this.goForward,
        goBackward: this.goBackward,
        closeModal: this.handleCloseModal,
        subi_link: SUBI_LINK
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WizModal, {
        isOpen: this.state.showModal && d.wizardStep === 6,
        onRequestClose: this.handleCloseModal,
        parentSelector: this.props.parentSelector
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: d.wizardStep === 6 ? "c-wizard__current-".concat(d.wizardDir) : "c-wizard__standby-".concat(d.wizardDir),
        "aria-hidden": d.wizardStep === 6 ? null : true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_WizardLinkComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        goBackward: this.goBackward,
        closeModal: this.handleCloseModal
      })))));
    }
  }]);

  return WizardComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(WizardComp, "propTypes", {
  showModal: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  onCancel: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any,
  campuses: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  data: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    campusID: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    campusName: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    unitID: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    unitName: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
  })
});

/* harmony default export */ __webpack_exports__["default"] = (WizardComp);

/***/ }),

/***/ "./app/jsx/components/WizardInertComp.jsx":
/*!************************************************!*\
  !*** ./app/jsx/components/WizardInertComp.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-modal */ "./node_modules/react-modal/lib/index.js");
/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### INERT Wizard Component (not wizard-like, just a basic modal)         //
//       To direct user to Manage Submissions                                 //
//      -OR-                                                                  //
//        Used for DEPOSITING                                                 //
//        - from journals                                                     //
//        - OR for units with directSubmitURL assigned                        //
//        - OR for campuses, ORUs or series that are disabled/moribund #####  //




var HeaderComp = /*#__PURE__*/function (_React$Component) {
  _inherits(HeaderComp, _React$Component);

  var _super = _createSuper(HeaderComp);

  function HeaderComp() {
    _classCallCheck(this, HeaderComp);

    return _super.apply(this, arguments);
  }

  _createClass(HeaderComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        tabIndex: "-1"
      }, this.props.header), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "\xA0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: this.props.closeModal
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close")));
    }
  }]);

  return HeaderComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var ManageSubmissionsComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(ManageSubmissionsComp, _React$Component2);

  var _super2 = _createSuper(ManageSubmissionsComp);

  function ManageSubmissionsComp() {
    _classCallCheck(this, ManageSubmissionsComp);

    return _super2.apply(this, arguments);
  }

  _createClass(ManageSubmissionsComp, [{
    key: "render",
    value: function render() {
      var submit_url = "https://submit.escholarship.org";
      var default_editor_url = this.props.type == 'campus' ? submit_url : submit_url + "/subi/directAdmin?target=" + this.props.unit_id;
      var default_author_url = this.props.directSubmitURL_manage;
      var author_url = this.props.directManageURLauthor ? this.props.directManageURLauthor : default_author_url; // use the directManageURLauthor if we have one, otherwise use the default

      var editor_url = this.props.directManageURLeditor ? this.props.directManageURLeditor : default_editor_url; // use the directManageURLeditor if we have one, otherwise use the default

      var editor_text = this.props.directSubmitURL_manage ? "Editor Login" : "Log in to manage your submissions";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__step"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderComp, {
        header: this.props.header,
        closeModal: this.props.closeModal
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__heading"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__message"
      }, this.props.directSubmitURL_manage && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", {
        key: "0"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "1",
        className: "c-wizard__centered"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-wizard__external-link",
        href: author_url
      }, "Author Login"))], /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__centered"
      }, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-wizard__external-link",
        href: editor_url
      }, editor_text)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null));
    }
  }]);

  return ManageSubmissionsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var ElementsComp = /*#__PURE__*/function (_React$Component3) {
  _inherits(ElementsComp, _React$Component3);

  var _super3 = _createSuper(ElementsComp);

  function ElementsComp() {
    _classCallCheck(this, ElementsComp);

    return _super3.apply(this, arguments);
  }

  _createClass(ElementsComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__step"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderComp, {
        header: this.props.header,
        closeModal: this.props.closeModal
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__heading"
      }, "UC Publication Management"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Faculty use the UC Publication Management system for all eScholarship deposits\u2013 including to claim and deposit publications in compliance with the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "http://osc.universityofcalifornia.edu/open-access-policy"
      }, "UC Academic Senate faculty Open Access Policy"), "."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-wizard__external-link",
        href: "https://oapolicy.universityofcalifornia.edu"
      }, "Go to UC Publication Management")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null, "Alternately, you may choose to wait for the system to automatically detect your new publication and send you a deposit link via email."));
    }
  }]);

  return ElementsComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var DisabledComp = /*#__PURE__*/function (_React$Component4) {
  _inherits(DisabledComp, _React$Component4);

  var _super4 = _createSuper(DisabledComp);

  function DisabledComp() {
    _classCallCheck(this, DisabledComp);

    return _super4.apply(this, arguments);
  }

  _createClass(DisabledComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__step"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderComp, {
        header: this.props.header,
        closeModal: this.props.closeModal
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__heading"
      }, "We\u2019re sorry..."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "This ", this.props.type, " is ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "not currently accepting"), " new submissions.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null));
    }
  }]);

  return DisabledComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var MoribundComp = /*#__PURE__*/function (_React$Component5) {
  _inherits(MoribundComp, _React$Component5);

  var _super5 = _createSuper(MoribundComp);

  function MoribundComp() {
    _classCallCheck(this, MoribundComp);

    return _super5.apply(this, arguments);
  }

  _createClass(MoribundComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__step"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderComp, {
        header: this.props.header,
        closeModal: this.props.closeModal
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__heading"
      }, "We\u2019re sorry..."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "This ", this.props.type, " is no longer active and is ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "not accepting"), " new submissions")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null, "If you are affiliated with this ", this.props.type, " and interested in re-activating it, ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/tickets/new"
      }, "contact eScholarship support"), "."));
    }
  }]);

  return MoribundComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var DirectSubmissionComp = /*#__PURE__*/function (_React$Component6) {
  _inherits(DirectSubmissionComp, _React$Component6);

  var _super6 = _createSuper(DirectSubmissionComp);

  function DirectSubmissionComp() {
    _classCallCheck(this, DirectSubmissionComp);

    return _super6.apply(this, arguments);
  }

  _createClass(DirectSubmissionComp, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__step"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderComp, {
        header: this.props.header,
        closeModal: this.props.closeModal
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__heading"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__message"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Please review the ", this.props.type, "'s Policies and Submission Guidelines pages before continuing."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        className: "c-wizard__external-link",
        href: this.props.directSubmitURL
      }, "Submit your material")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null));
    }
  }]);

  return DirectSubmissionComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var WizardInertComp = /*#__PURE__*/function (_React$Component7) {
  _inherits(WizardInertComp, _React$Component7);

  var _super7 = _createSuper(WizardInertComp);

  function WizardInertComp() {
    var _this;

    _classCallCheck(this, WizardInertComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super7.call.apply(_super7, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      showModal: _this.props.showModal
    });

    _defineProperty(_assertThisInitialized(_this), "openModal", function () {
      _this.setState({
        showModal: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "closeModal", function () {
      _this.setState({
        showModal: false
      });

      _this.props.onCancel();
    });

    return _this;
  }

  _createClass(WizardInertComp, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!_.isEqual(this.props.showModal, nextProps.showModal)) this.setState({
        showModal: nextProps.showModal
      });
    }
  }, {
    key: "render",
    value: function render() {
      var type = this.props.type == 'oru' ? 'unit' : this.props.type;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-modal"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_modal__WEBPACK_IMPORTED_MODULE_2___default.a, {
        parentSelector: this.props.parentSelector,
        isOpen: this.state.showModal,
        contentLabel: "onRequestClose Example",
        onRequestClose: this.handleCloseModal,
        className: "c-wizard__modal",
        overlayClassName: "c-modal__overlay"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard"
      }, this.props.header == "Manage Submissions" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ManageSubmissionsComp, {
        header: this.props.header,
        type: type,
        unit_id: this.props.unit_id,
        closeModal: this.closeModal,
        directManageURLauthor: this.props.directManageURLauthor,
        directManageURLeditor: this.props.directManageURLeditor,
        directSubmitURL_manage: this.props.directSubmitURL_manage
      }) : this.props.directSubmit == "disabled" ? // Single use case here for lbnl
      type == 'campus' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ElementsComp, {
        header: this.props.header,
        closeModal: this.closeModal
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DisabledComp, {
        header: this.props.header,
        type: type,
        closeModal: this.closeModal
      }) : this.props.directSubmit == "moribund" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MoribundComp, {
        header: this.props.header,
        type: type,
        closeModal: this.closeModal
      }) :
      /*#__PURE__*/
      // this.props.directSubmit == "enabled" ?
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DirectSubmissionComp, {
        header: this.props.header,
        type: type,
        directSubmitURL: this.props.directSubmitURL,
        closeModal: this.closeModal
      }))));
    }
  }]);

  return WizardInertComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(WizardInertComp, "propTypes", {
  showModal: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  onCancel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
  type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  directSubmit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  directSubmitURL: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  // called from Deposit/Submit button
  directSubmitURL_manage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  // called from Manage Submissions button
  header: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
});

/* harmony default export */ __webpack_exports__["default"] = (WizardInertComp);

/***/ }),

/***/ "./app/jsx/components/WizardLinkComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/WizardLinkComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Deposit Wizard - [6] Link Component ##### //


var SUPPORT_LINK = "https://help.escholarship.org/support/tickets/new";

var WrapperComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WrapperComp, _React$Component);

  var _super = _createSuper(WrapperComp);

  function WrapperComp() {
    var _this;

    _classCallCheck(this, WrapperComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-wizard__step"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        tabIndex: "-1"
      }, _this.props.campusName, " Deposit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        onClick: function onClick(event) {
          event.preventDefault();

          _this.props.goBackward();
        },
        href: ""
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Go back")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: _this.props.closeModal
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), _this.props.children ? _this.props.children : [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "0"
      }, "Template variable does not compute"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "1"
      }, "Please ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: SUPPORT_LINK
      }, "contact eScholarship"), " and report this error, thank you."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
        key: "2"
      })]);
    });

    return _this;
  }

  return _createClass(WrapperComp);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var WizardLinkComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(WizardLinkComp, _React$Component2);

  var _super2 = _createSuper(WizardLinkComp);

  function WizardLinkComp() {
    _classCallCheck(this, WizardLinkComp);

    return _super2.apply(this, arguments);
  }

  _createClass(WizardLinkComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      // 'arg' property used to define user logic, or it will be the DASH link
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].Wiz.Consumer, null, function (wiz) {
        var name = wiz.type == "series" ? wiz.seriesName : wiz.unitName;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrapperComp, {
          campusName: wiz.campusName,
          goBackward: _this2.props.goBackward,
          closeModal: _this2.props.closeModal
        }, wiz.arg == "6_senate" && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "0",
          className: "c-wizard__heading"
        }, "UC Publication Management"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "1",
          className: "c-wizard__message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Faculty use the UC Publication Management system for all eScholarship deposits\u2013 including to claim and deposit publications in compliance with the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "http://osc.universityofcalifornia.edu/open-access-policy"
        }, "UC Academic Senate faculty Open Access Policy"), "."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          className: "c-wizard__external-link",
          href: "https://oapolicy.universityofcalifornia.edu"
        }, "Go to UC Publication Management")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
          key: "2"
        }, "Alternately, you may choose to wait for the system to automatically detect your new publication and send you a deposit link via email.")], /https/.test(wiz.arg) && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "0",
          className: "c-wizard__heading"
        }, "Deposit your data in Dryad"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "1",
          className: "c-wizard__message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, wiz.campusName, " faculty, students and staff can take advantage of Dryad, a specialized data publication and preservation service."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          className: "c-wizard__external-link",
          href: wiz.arg
        }, "Go to ", wiz.campusName, " Dryad")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
          key: "2"
        })], wiz.arg == "6_sorry" && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "0",
          className: "c-wizard__heading"
        }, "We\u2019re sorry..."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "1",
          className: "c-wizard__message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "eScholarship currently accepts deposits from University of California affiliated faculty, researchers, staff and students only."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Check the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "http://www.opendoar.org/"
        }, "Directory of Open Access Repositories"), " to find out if an Open Access repository is available at your institution.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
          key: "2"
        })], wiz.arg == "6_moribund" && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "0",
          className: "c-wizard__heading"
        }, "We\u2019re sorry..."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "1",
          className: "c-wizard__message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "This ", wiz.type, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "(", name, ")"), " is no longer active and is not accepting new deposits."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Check the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "http://www.opendoar.org/"
        }, "Directory of Open Access Repositories"), " to find out if an Open Access repository is available at your institution.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
          key: "2"
        }, "If you are affiliated with this unit and interested in re-activating this series ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: SUPPORT_LINK
        }, "contact eScholarship support"), ".")], wiz.arg == "6_disabled" && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "0",
          className: "c-wizard__heading"
        }, "We\u2019re sorry..."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "1",
          className: "c-wizard__message"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "This ", wiz.type, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, "(", name, ")"), " is not currently accepting new deposits."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "You may find more information on the ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "/uc/" + wiz.unitID
        }, "unit\u2019s page"), ".")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
          key: "2"
        })]);
      });
    }
  }]);

  return WizardLinkComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (WizardLinkComp);

/***/ }),

/***/ "./app/jsx/components/WizardRoleComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/WizardRoleComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Deposit Wizard - [1] Role Component ##### //




var WizardRoleComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WizardRoleComp, _React$Component);

  var _super = _createSuper(WizardRoleComp);

  function WizardRoleComp() {
    _classCallCheck(this, WizardRoleComp);

    return _super.apply(this, arguments);
  }

  _createClass(WizardRoleComp, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].Wiz.Consumer, null, function (wiz) {
        var name = wiz.campusName,
            _ref = wiz.launchedFromRoot ? ["eScholarship", "University of California", 2, 2] // Depositing from a global page
        : [name, name, 3, 4],
            _ref2 = _slicedToArray(_ref, 4),
            campusName = _ref2[0],
            affiliation = _ref2[1],
            facNext = _ref2[2],
            studNext = _ref2[3]; // Depositing from a unit page


        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__step"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
          tabIndex: "-1"
        }, campusName, " Deposit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: _this.props.closeModal
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__heading"
        }, "How are you affiliated with ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, affiliation), "?"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
          className: "c-wizard__list"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this.props.goForward(6, {
              "arg": "6_senate"
            });
          },
          href: ""
        }, "Senate-represented faculty")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this.props.goForward(facNext, {
              "arg": facNext + "_faculty"
            });
          },
          href: ""
        }, "Other faculty or staff")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this.props.goForward(studNext, {
              "arg": studNext + "_student"
            });
          },
          href: ""
        }, "Student")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this.props.goForward(6, {
              "arg": "6_sorry"
            });
          },
          href: ""
        }, "Not affiliated"))), campusName && campusName != "eScholarship" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null, "We use these questions to direct you to the right place to deposit your materials.") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null, "Affiliated with a different UC campus?", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/campuses"
        }, "Find your campus here.")));
      });
    }
  }]);

  return WizardRoleComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (WizardRoleComp);

/***/ }),

/***/ "./app/jsx/components/WizardSeriesComp.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/components/WizardSeriesComp.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Deposit Wizard - [5] Series Component ##### //



var WizardSeriesComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WizardSeriesComp, _React$Component);

  var _super = _createSuper(WizardSeriesComp);

  function WizardSeriesComp() {
    var _this;

    _classCallCheck(this, WizardSeriesComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      fetchingData: true,
      series: null
    });

    _defineProperty(_assertThisInitialized(_this), "currentSeries", null);

    _defineProperty(_assertThisInitialized(_this), "fetchSeries", function (unitID) {
      if (unitID && unitID != _this.currentSeries && !["eScholarship", "root"].includes(unitID)) {
        _this.currentSeries = unitID;
        $.getJSON("/api/wizardlySeries/".concat(unitID)).done(function (series) {
          _this.setState({
            series: series,
            fetchingData: false
          });
        }).fail(function (jqxhr, textStatus, err) {
          // ToDo: Create an error field to display any errors
          _this.setState({
            fetchingData: false
          });
        });
      }
    });

    return _this;
  }

  _createClass(WizardSeriesComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var seriesList = this.state.series && this.state.series.length > 0 ? this.state.series.map(function (u) {
        if (u.directSubmit && u.directSubmit == "moribund") {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: u.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            onClick: function onClick(event) {
              event.preventDefault();

              _this2.props.goForward(6, {
                'arg': '6_moribund',
                'type': 'series',
                'seriesName': u.name
              });
            },
            href: ""
          }, u.name));
        } else if (u.directSubmit && ["hide", "disabled"].includes(u.directSubmit)) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: u.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            onClick: function onClick(event) {
              event.preventDefault();

              _this2.props.goForward(6, {
                'arg': '6_disabled',
                'type': 'series',
                'seriesName': u.name
              });
            },
            href: ""
          }, u.name));
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: u.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            href: _this2.props.subi_link + u.id
          }, u.name));
        }
      }) : null; // Deal with series list of zero or one 

      if (!this.state.fetchingData && this.state.series) {
        if (this.state.series.length == 1) {
          // Bypass this component and just go direct to subi
          this.props.closeModal();
          window.location = this.props.subi_link + this.state.series[0].id;
        }

        if (this.state.series.length == 0) {
          // HACK: This screen should never come cuz any units with zero series should
          //       themselves should be tagged as 'disabled', but keeping this here as a backup
          seriesList = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            onClick: function onClick(event) {
              event.preventDefault();

              _this2.props.goForward(6, {
                'arg': '6_disabled',
                'seriesName': "NONE"
              });
            },
            href: ""
          }, "...No Series Found..."));
        }
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].Wiz.Consumer, null, function (wiz) {
        _this2.fetchSeries(wiz.unitID);

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__step"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
          tabIndex: "-1"
        }, wiz.campusName, " Deposit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this2.props.goBackward();
          },
          href: ""
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Go back")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: _this2.props.closeModal
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), _this2.state.fetchingData ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__heading"
        }, "Loading...") : [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "0",
          className: "c-wizard__heading"
        }, "Into which ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, wiz.unitName), " series would you like to deposit your work?"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
          key: "1",
          className: "c-wizard__list"
        }, seriesList), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
          key: "2"
        }, "We use these questions to direct you to the right place to deposit your materials.")]);
      });
    }
  }]);

  return WizardSeriesComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (WizardSeriesComp);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/components/WizardTypeComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/WizardTypeComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Deposit Wizard - [3] Type Component ##### //


var DASH_LIST = {
  'ucb': 'https://datadryad.org',
  'uci': 'https://datadryad.org',
  'ucm': 'https://datadryad.org',
  'ucop': 'https://datadryad.org',
  'ucr': 'https://datadryad.org',
  'ucsc': 'https://datadryad.org',
  'ucsf': 'https://datadryad.org'
};

var WizardTypeComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WizardTypeComp, _React$Component);

  var _super = _createSuper(WizardTypeComp);

  function WizardTypeComp() {
    _classCallCheck(this, WizardTypeComp);

    return _super.apply(this, arguments);
  }

  _createClass(WizardTypeComp, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].Wiz.Consumer, null, function (wiz) {
        // If logged in as campus, prevStep should send you back to WizardRoleComp
        var prevStep = wiz.launchedFromRoot ? 2 : 1;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__step"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
          tabIndex: "-1"
        }, wiz.campusName, " Deposit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this.props.goBackward(prevStep);
          },
          href: ""
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Go back")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: _this.props.closeModal
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__heading"
        }, "What kind of material are you depositing?"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
          className: "c-wizard__list"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: _this.props.subi_link + wiz.campusID + "_postprints"
        }, "A published (or accepted) scholarly article, book or chapter")), Object.keys(DASH_LIST).includes(wiz.campusID) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this.props.goForward(6, {
              "arg": DASH_LIST[wiz.campusID]
            });
          },
          href: ""
        }, "Data (independent or associated with a publication)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this.props.goForward(4);
          },
          href: ""
        }, "Any other material (e.g., working paper, multimedia)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", null, "We use these questions to direct you to the right place to deposit your materials."));
      });
    }
  }]);

  return WizardTypeComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (WizardTypeComp);

/***/ }),

/***/ "./app/jsx/components/WizardUnitComp.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/components/WizardUnitComp.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Deposit Wizard - [4] Unit (ORU) Component ##### //



var WizardUnitComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WizardUnitComp, _React$Component);

  var _super = _createSuper(WizardUnitComp);

  function WizardUnitComp() {
    var _this;

    _classCallCheck(this, WizardUnitComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      fetchingData: true,
      units: null
    });

    _defineProperty(_assertThisInitialized(_this), "currentCampus", null);

    _defineProperty(_assertThisInitialized(_this), "fetchUnits", function (campusID) {
      if (campusID && campusID != _this.currentCampus && !["eScholarship", "root"].includes(campusID)) {
        _this.currentCampus = campusID;
        $.getJSON("/api/wizardlyORUs/".concat(campusID)).done(function (units) {
          _this.setState({
            units: units,
            fetchingData: false
          });
        }).fail(function (jqxhr, textStatus, err) {
          // ToDo: Create an error field to display any errors
          _this.setState({
            fetchingData: false
          });
        });
      }
    });

    return _this;
  }

  _createClass(WizardUnitComp, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var unitList = this.state.units && this.state.units.length > 0 ? this.state.units.map(function (u) {
        if (u.directSubmit && u.directSubmit == "moribund") {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: u.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            onClick: function onClick(event) {
              event.preventDefault();

              _this2.props.goForward(6, {
                'arg': '6_moribund',
                'type': 'unit',
                'unitID': u.id,
                'unitName': u.name
              });
            },
            href: ""
          }, u.name));
        } else if (u.directSubmit && ["hide", "disabled"].includes(u.directSubmit)) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: u.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            onClick: function onClick(event) {
              event.preventDefault();

              _this2.props.goForward(6, {
                'arg': '6_disabled',
                'type': 'unit',
                'unitID': u.id,
                'unitName': u.name
              });
            },
            href: ""
          }, u.name));
        } else {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
            key: u.id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
            onClick: function onClick(event) {
              event.preventDefault();

              _this2.props.goForward(5, {
                "unitID": u.id,
                "unitName": u.name
              });
            },
            href: ""
          }, u.name));
        }
      }) : null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_1__["default"].Wiz.Consumer, null, function (wiz) {
        _this2.fetchUnits(wiz.campusID);

        var prevStep = 3; // where other faculty go
        // Student is not asked to select type of material (always skips step 3)

        if (wiz.arg && wiz.arg.includes("student")) {
          // If launched from a campus, go back to step one
          prevStep = wiz.launchedFromRoot ? 2 : 1;
        }

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__step"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
          tabIndex: "-1"
        }, wiz.campusName, " Deposit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          onClick: function onClick(event) {
            event.preventDefault();

            _this2.props.goBackward(prevStep);
          },
          href: ""
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Go back")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: _this2.props.closeModal
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Close"))), _this2.state.fetchingData ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-wizard__heading"
        }, "Loading...") : [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "0",
          className: "c-wizard__heading"
        }, "What is your departmental affiliation?"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
          key: "1",
          className: "c-wizard__list"
        }, unitList), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
          key: "2"
        }, "Don't see your department? ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "https://help.escholarship.org/support/solutions/articles/9000131086-request-a-new-unit"
        }, "Add it to eScholarship here"), ".")]);
      });
    }
  }]);

  return WizardUnitComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (WizardUnitComp);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/components/WysiwygEditorComp.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/components/WysiwygEditorComp.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WysiwygEditorComp; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Wrapper Component for the Trumbo WYSIWIG editor ##### //


 // Formatting buttons to display in the Trumbowyg editor

var TRUMBO_BUTTONS = [['strong', 'em', 'underline'], ['formatting'], ['fancyCreateLink', 'unlink'], ['image-upload', 'file-upload'], ['unorderedList', 'orderedList'], ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'], ['horizontalRule'], ['table'], ['superscript', 'subscript', 'strikethrough'], ['fancyRemoveFormat']];

var WysiwygEditorComp = /*#__PURE__*/function (_React$Component) {
  _inherits(WysiwygEditorComp, _React$Component);

  var _super = _createSuper(WysiwygEditorComp);

  function WysiwygEditorComp() {
    _classCallCheck(this, WysiwygEditorComp);

    return _super.apply(this, arguments);
  }

  _createClass(WysiwygEditorComp, [{
    key: "componentWillMount",
    value: function componentWillMount() {
      this.id = this.props.id ? this.props.id : "trumbo-" + new Date().getTime();
      this.initialHTML = this.props.html;
      this.props.onChange(this.props.html); // initialize newText
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      var buttons = this.props.buttons ? this.props.buttons : TRUMBO_BUTTONS;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_2__["default"].CMS.Consumer, null, function (cms) {
        return cms.modules && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(cms.modules.Trumbowyg, {
          id: _this.id,
          buttons: buttons,
          data: _this.initialHTML,
          shouldInjectSvgIcons: false,
          svgIconsPath: "/node_modules/trumbowyg/dist/ui/icons.svg",
          onChange: function onChange(e) {
            return _this.props.onChange(e.target.innerHTML);
          },
          disabled: _this.props.disabled,
          tabToIndent: true,
          plugins: {
            // Add parameters to uploadImage plugin
            uploadImage: {
              serverPath: "/api/unit/".concat(_this.props.unit, "/uploadEditorImg?username=").concat(cms.username, "&token=").concat(cms.token, "&context=").concat(_this.props.imageContext),
              fileFieldName: 'image',
              urlPropertyName: 'link'
            },
            // Add parameters to uploadFile plugin
            uploadFile: {
              serverPath: "/api/unit/".concat(_this.props.unit, "/uploadEditorFile?username=").concat(cms.username, "&token=").concat(cms.token),
              fileFieldName: 'file',
              urlPropertyName: 'link'
            }
          }
        });
      });
    }
  }]);

  return WysiwygEditorComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(WysiwygEditorComp, "propTypes", {
  html: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  imageContext: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  buttons: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
});



/***/ }),

/***/ "./app/jsx/contexts.jsx":
/*!******************************!*\
  !*** ./app/jsx/contexts.jsx ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _default; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Utilities Component ##### //
// Global contexts shared using React's context API


var _default = /*#__PURE__*/_createClass(function _default() {
  _classCallCheck(this, _default);
});

_defineProperty(_default, "CMS", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext({}));

_defineProperty(_default, "Wiz", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext({}));



/***/ }),

/***/ "./app/jsx/layouts/AuthorSearchLayout.jsx":
/*!************************************************!*\
  !*** ./app/jsx/layouts/AuthorSearchLayout.jsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AuthorSearchLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var AuthorSearchLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(AuthorSearchLayout, _React$Component);

  var _super = _createSuper(AuthorSearchLayout);

  function AuthorSearchLayout() {
    _classCallCheck(this, AuthorSearchLayout);

    return _super.apply(this, arguments);
  }

  _createClass(AuthorSearchLayout, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "Author/User Search")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        to: p.location.pathname,
        method: "GET"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "authSearchBox"
      }, "Search for (email or name, partial ok): "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "text",
        size: "40",
        name: "q",
        id: "authorSearchBox",
        defaultValue: p.data.search_str
      }), "\xA0", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Go")), p.data.authors && p.data.authors.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable-nomaxheight"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Author matches"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Stats link"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Name(s)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Email(s)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(p.data.authors, function (row) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: row.person_id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/uc/author/".concat(row.person_id, "/stats")
        }, row.person_id)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(row.names, function (name) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            key: name
          }, name);
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(row.emails, function (email) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            key: email
          }, email);
        })));
      })))), p.data.accounts && p.data.accounts.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable-nomaxheight"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "User account matches"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Email / account link"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Name"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Unit(s)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(p.data.accounts, function (row) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: row.email
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/userAccount/".concat(row.user_id)
        }, row.email)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, row.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(row.units.slice(0, 5), function (unit) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            key: unit
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
            to: "/uc/".concat(unit)
          }, unit));
        }), row.units.length > 5 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: "..."
        }, "...")));
      })))), p.data.forwards && p.data.forwards.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable-nomaxheight"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Forwarded email matches"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Current email / acct link"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Previous email addr(s)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(p.data.forwards, function (row) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: row.user_id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/userAccount/".concat(row.user_id)
        }, row.cur_email)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(row.prev_emails, function (pe) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
            key: pe
          }, pe);
        })));
      })))))));
    }
  }]);

  return AuthorSearchLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(AuthorSearchLayout, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    search_str: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    authors: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
  }).isRequired,
  sendApiData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
});



/***/ }),

/***/ "./app/jsx/layouts/CampusLayout.jsx":
/*!******************************************!*\
  !*** ./app/jsx/layouts/CampusLayout.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_CampusSearchComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/CampusSearchComp.jsx */ "./app/jsx/components/CampusSearchComp.jsx");
/* harmony import */ var _components_CampusHeroComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/CampusHeroComp.jsx */ "./app/jsx/components/CampusHeroComp.jsx");
/* harmony import */ var _components_StatCarouselComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/StatCarouselComp.jsx */ "./app/jsx/components/StatCarouselComp.jsx");
/* harmony import */ var _components_UnitCarouselComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/UnitCarouselComp.jsx */ "./app/jsx/components/UnitCarouselComp.jsx");
/* harmony import */ var _components_JournalCarouselComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/JournalCarouselComp.jsx */ "./app/jsx/components/JournalCarouselComp.jsx");
/* harmony import */ var _components_NotYetLink_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/NotYetLink.jsx */ "./app/jsx/components/NotYetLink.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











var CampusLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(CampusLayout, _React$Component);

  var _super = _createSuper(CampusLayout);

  function CampusLayout() {
    _classCallCheck(this, CampusLayout);

    return _super.apply(this, arguments);
  }

  _createClass(CampusLayout, [{
    key: "renderCampusCarousel",
    value: function renderCampusCarousel(contentCarousel) {
      // Most recent 10 articles for chosen unit (configured by admin)
      if (contentCarousel.mode == 'unit') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_UnitCarouselComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], contentCarousel.data); // Most recent 10 journals for this campus
      else if (contentCarousel.mode == 'journals') return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_JournalCarouselComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], contentCarousel.data);
    }
  }, {
    key: "render",
    value: function render() {
      var data = this.props.data,
          unit = this.props.unit;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CampusHeroComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        hero: data.hero,
        campusID: unit.id
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_StatCarouselComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        campusName: unit.name,
        campusID: unit.id,
        campusStats: data.campusStats,
        allStats: data.allStats
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CampusSearchComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        campusID: unit.id,
        campusName: unit.name
      }), data.contentCar1 && data.contentCar1.mode && data.contentCar1.mode != 'disabled' && data.contentCar1.data && this.renderCampusCarousel(data.contentCar1), data.contentCar2 && data.contentCar2.mode && data.contentCar2.mode != 'disabled' && data.contentCar2.data && this.renderCampusCarousel(data.contentCar2)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, this.props.sidebar)));
    }
  }]);

  return CampusLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(CampusLayout, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    hero: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
    }),
    campusStats: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      item_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      view_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      // opened_count: PropTypes.number,
      journal_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      oru_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
    }).isRequired,
    allStats: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      all_item_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      all_view_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      // all_opened_count: PropTypes.number,
      all_journal_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      all_oru_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
    }).isRequired,
    contentCar1: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      mode: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
        titleID: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
        titleName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
        slides: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
        // slide data for JournalCarousel:
        //          unit_id: PropTypes.string,
        //          name: PropTypes.string,
        //          cover: PropTypes.shape({
        //            width: PropTypes.number,
        //            height: PropTypes.number,
        //            asset_id: PropTypes.string,
        //          }),
        // slide data for UnitCarousel:
        //          id: PropTypes.string,
        //          title: PropTypes.string,
        //          authors: PropTypes.array,
        //          genre: PropTypes.string,
        item_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
        view_count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
      })
    }) // contentCar2: // Same as above

  })
});

/* harmony default export */ __webpack_exports__["default"] = (CampusLayout);

/***/ }),

/***/ "./app/jsx/layouts/DepartmentLayout.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/layouts/DepartmentLayout.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_MarqueeComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/MarqueeComp.jsx */ "./app/jsx/components/MarqueeComp.jsx");
/* harmony import */ var _components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ShareComp.jsx */ "./app/jsx/components/ShareComp.jsx");
/* harmony import */ var _components_PubComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/PubComp.jsx */ "./app/jsx/components/PubComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var SeriesComp = /*#__PURE__*/function (_React$Component) {
  _inherits(SeriesComp, _React$Component);

  var _super = _createSuper(SeriesComp);

  function SeriesComp() {
    _classCallCheck(this, SeriesComp);

    return _super.apply(this, arguments);
  }

  _createClass(SeriesComp, [{
    key: "render",
    value: function render() {
      var data = this.props.data,
          plural = data.count == data.previewLimit + 1 ? '' : 's';
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent c-unitseries"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/uc/" + data.unit_id
      }, data.name, " (", data.count, ")")), data.items.map(function (item) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PubComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
          key: item.id,
          result: item,
          h: "h3"
        });
      }), data.count > data.previewLimit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitseries__publications2"
      }, data.count - data.previewLimit, " more work", plural, " \u2014 ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
        to: "/uc/" + data.unit_id
      }, "show all")));
    }
  }]);

  return SeriesComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(SeriesComp, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    previewLimit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    items: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      "abstract": prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      authors: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
      content_type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      supp_files: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
    })).isRequired
  })
});

var DepartmentLayout = /*#__PURE__*/function (_React$Component2) {
  _inherits(DepartmentLayout, _React$Component2);

  var _super2 = _createSuper(DepartmentLayout);

  function DepartmentLayout() {
    var _this;

    _classCallCheck(this, DepartmentLayout);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "seriesCompListMaker", function (data) {
      var compList = [];

      for (var s in data) {
        if (data[s].items.length > 0) {
          compList.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SeriesComp, {
            key: data[s].unit_id,
            data: data[s]
          }));
        }
      }

      return compList;
    });

    return _this;
  }

  _createClass(DepartmentLayout, [{
    key: "render",
    value: function render() {
      var data = this.props.data,
          seriesList = this.seriesCompListMaker(data.series),
          monographSeriesList = this.seriesCompListMaker(data.monograph_series);
      var marquee = this.props.marquee;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, (marquee.carousel && marquee.slides || marquee.about) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MarqueeComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        marquee: marquee
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, this.props.unit.name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-itemactions"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        type: "unit",
        id: this.props.unit.id
      })), this.props.unit.extent.count == 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitseries__publications1"
      }, "There are currently no publications in this collection.") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitseries__publications1"
      }, "There are ", this.props.unit.extent.count, " publications in this collection, published between ", this.props.unit.extent.pub_year.start, " and ", this.props.unit.extent.pub_year.end, "."), seriesList.length > 0 && seriesList, monographSeriesList.length > 0 && monographSeriesList, data.journals.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitlist"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Journals"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, data.journals.map(function (child) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: child.unit_id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/uc/" + child.unit_id
        }, child.name));
      }), " ")), data.related_orus.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-unitlist"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Related Research Centers & Groups"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, data.related_orus.map(function (child) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: child.unit_id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/uc/" + child.unit_id
        }, child.name));
      }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, this.props.sidebar)));
    }
  }]);

  return DepartmentLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(DepartmentLayout, "propTypes", {
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    extent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
  }).isRequired,
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    series: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
    //See SeriesComp directly above for Array element structure
    monograph_series: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
    //See SeriesComp directly above for Array element structure
    journals: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    })),
    related_orus: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    }))
  }).isRequired,
  marquee: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    carousel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
    about: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.about
  })
});

/* harmony default export */ __webpack_exports__["default"] = (DepartmentLayout);

/***/ }),

/***/ "./app/jsx/layouts/JournalLayout.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/layouts/JournalLayout.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_MarqueeComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/MarqueeComp.jsx */ "./app/jsx/components/MarqueeComp.jsx");
/* harmony import */ var _components_JournalInfoComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/JournalInfoComp.jsx */ "./app/jsx/components/JournalInfoComp.jsx");
/* harmony import */ var _components_IssueComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/IssueComp.jsx */ "./app/jsx/components/IssueComp.jsx");
/* harmony import */ var _components_PubComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/PubComp.jsx */ "./app/jsx/components/PubComp.jsx");
/* harmony import */ var _components_IssueActionsComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/IssueActionsComp.jsx */ "./app/jsx/components/IssueActionsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










var VolumeSelector = /*#__PURE__*/function (_React$Component) {
  _inherits(VolumeSelector, _React$Component);

  var _super = _createSuper(VolumeSelector);

  function VolumeSelector() {
    var _this;

    _classCallCheck(this, VolumeSelector);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "getIssuePath", function (unit_id, v, i) {
      return "/uc/".concat(unit_id, "/").concat(v, "/").concat(i);
    });

    _defineProperty(_assertThisInitialized(_this), "getPubYear", function (date) {
      return date.match(/\d{4}/);
    });

    return _this;
  }

  _createClass(VolumeSelector, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "o-customselector__heading"
      }, p.current_issue_title ? p.current_issue_title : "This Issue"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "o-customselector__selector"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        "aria-label": "Select a different issue"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector__menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "o-customselector__items"
      }, p.issues.map(function (i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: i.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: _this2.getIssuePath(i.unit_id, i.volume, i.issue)
        }, i.name));
      })))));
    }
  }]);

  return VolumeSelector;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(VolumeSelector, "propTypes", {
  current_issue_title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  issues: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired // [ {:id=>-1, :name=>"Volume 14, Issue 0, 2017",
  // :volume=>"1", :issue=>"2", :published=>#<Date: ...}, ... ]

});

var IssueWrapperComp = /*#__PURE__*/function (_React$Component2) {
  _inherits(IssueWrapperComp, _React$Component2);

  var _super2 = _createSuper(IssueWrapperComp);

  function IssueWrapperComp() {
    _classCallCheck(this, IssueWrapperComp);

    return _super2.apply(this, arguments);
  }

  _createClass(IssueWrapperComp, [{
    key: "render",
    value: function render() {
      var pi = this.props.issue,
          pi_title = this.props.issues.find(function (x) {
        return x.issue_id === pi.id;
      }).name;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_IssueActionsComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        unit_id: pi.unit_id,
        buy_link: pi.buy_link
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(VolumeSelector, {
        current_issue_title: pi_title,
        issues: this.props.issues
      }), (pi.cover || pi.title || pi.description) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_IssueComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        cover: pi.cover,
        title: pi.title,
        description: pi.description
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.props.display == "magazine" ? pi.sections.map(function (section) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: section.name
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
          className: "o-heading1a"
        }, section.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "o-dividecontent2x--ruled"
        }, section.articles.map(function (article) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PubComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
            h: "h4",
            key: article.id,
            result: article
          });
        })));
      }) : pi.sections.map(function (section) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          key: section.name
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
          className: "o-heading1a"
        }, section.name), section.articles.map(function (article) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PubComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
            h: "h4",
            key: article.id,
            result: article
          });
        }));
      })));
    }
  }]);

  return IssueWrapperComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(IssueWrapperComp, "propTypes", {
  display: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  issue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    volume: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    issue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    numbering: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    published: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    cover: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      asset_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
      image_type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      caption: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    }),
    rights: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    sections: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      articles: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array,
      id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      issue_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    })).isRequired
  }).isRequired,
  issues: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired // Array of issue hashes

});

var JournalLayout = /*#__PURE__*/function (_React$Component3) {
  _inherits(JournalLayout, _React$Component3);

  var _super3 = _createSuper(JournalLayout);

  function JournalLayout() {
    _classCallCheck(this, JournalLayout);

    return _super3.apply(this, arguments);
  }

  _createClass(JournalLayout, [{
    key: "render",
    value: function render() {
      var data = this.props.data;
      var marquee = this.props.marquee;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, (marquee.carousel && marquee.slides || marquee.about) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MarqueeComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        marquee: marquee
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, this.props.data.issue ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IssueWrapperComp, {
        issue: data.issue,
        issues: data.issuesSubNav,
        display: data.display
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "This journal's first issue is coming soon.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), " "))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, (data.doaj || data.issue && data.issue.rights || data.issn || data.eissn) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Journal Information")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_JournalInfoComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        doaj: data.doaj,
        rights: data.issue && data.issue.rights,
        issn: data.issn,
        eissn: data.eissn
      })), this.props.sidebar)));
    }
  }]);

  return JournalLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(JournalLayout, "propTypes", {
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    extent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
  }).isRequired,
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    display: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    doaj: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
    issn: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    eissn: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    issue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,
    // See IssueWrapperComp prop types directly above
    issuesSubNav: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
  }).isRequired,
  marquee: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    carousel: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
    about: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.about
  })
});

/* harmony default export */ __webpack_exports__["default"] = (JournalLayout);

/***/ }),

/***/ "./app/jsx/layouts/RedirectConfigLayout.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/layouts/RedirectConfigLayout.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RedirectConfigLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var RedirRow = /*#__PURE__*/function (_React$Component) {
  _inherits(RedirRow, _React$Component);

  var _super = _createSuper(RedirRow);

  function RedirRow() {
    var _this;

    _classCallCheck(this, RedirRow);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onSave", function (event) {
      var id = parseInt(event.target.dataset.id);

      _this.props.sendApiData("PUT", "/api/redirect/".concat(_this.props.kind, "/").concat(id), {
        from_path: jquery__WEBPACK_IMPORTED_MODULE_3___default()("#from-".concat(id))[0].value,
        to_path: jquery__WEBPACK_IMPORTED_MODULE_3___default()("#to-".concat(id))[0].value,
        descrip: jquery__WEBPACK_IMPORTED_MODULE_3___default()("#descrip-".concat(id))[0].value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDelete", function (event) {
      if (!confirm("Delete redirect?")) return;
      var id = parseInt(event.target.dataset.id);

      _this.props.sendApiData("DELETE", "/api/redirect/".concat(_this.props.kind, "/").concat(id), {});
    });

    return _this;
  }

  _createClass(RedirRow, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "text",
        id: "from-".concat(p.id),
        defaultValue: p.from_path
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "text",
        id: "to-".concat(p.id),
        defaultValue: p.to_path
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "text",
        id: "descrip-".concat(p.id),
        defaultValue: p.descrip
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: this.onSave,
        "data-id": p.id
      }, "save"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: this.onDelete,
        "data-id": p.id
      }, "delete")));
    }
  }]);

  return RedirRow;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var RedirectConfigLayout = /*#__PURE__*/function (_React$Component2) {
  _inherits(RedirectConfigLayout, _React$Component2);

  var _super2 = _createSuper(RedirectConfigLayout);

  function RedirectConfigLayout() {
    var _this2;

    _classCallCheck(this, RedirectConfigLayout);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onAdd", function (event) {
      var id = parseInt(event.target.dataset.id);

      _this2.props.sendApiData("POST", "/api/redirect/".concat(_this2.props.data.kind), {
        from_path: jquery__WEBPACK_IMPORTED_MODULE_3___default()('#from-new')[0].value,
        to_path: jquery__WEBPACK_IMPORTED_MODULE_3___default()('#to-new')[0].value,
        descrip: jquery__WEBPACK_IMPORTED_MODULE_3___default()('#descrip-new')[0].value
      });
    });

    return _this2;
  }

  _createClass(RedirectConfigLayout, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "Sitewide Redirects")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Categories:", ['static', 'item', 'unit'].map(function (otherKind) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
          key: otherKind
        }, "\xA0", p.data.kind == otherKind ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, otherKind) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/uc/root/redirects/" + otherKind
        }, otherKind), "\xA0|");
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, p.data.kind[0].toUpperCase() + p.data.kind.substring(1), " Redirects"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        className: "c-redirectTable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "From"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "To"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "Descrip"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "Action"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, p.data.redirects.map(function (row) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RedirRow, _extends({
          key: row.id,
          kind: p.data.kind,
          sendApiData: p.sendApiData
        }, row));
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
        key: "new"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "text",
        id: "from-new"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "text",
        id: "to-new"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "text",
        id: "descrip-new"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: this.onAdd
      }, "add"))))))));
    }
  }]);

  return RedirectConfigLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(RedirectConfigLayout, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    kind: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    redirects: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired
  }).isRequired,
  sendApiData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
});



/***/ }),

/***/ "./app/jsx/layouts/SeriesLayout.jsx":
/*!******************************************!*\
  !*** ./app/jsx/layouts/SeriesLayout.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_PubPreviewComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/PubPreviewComp.jsx */ "./app/jsx/components/PubPreviewComp.jsx");
/* harmony import */ var _components_SortPaginationComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SortPaginationComp.jsx */ "./app/jsx/components/SortPaginationComp.jsx");
/* harmony import */ var _components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/PaginationComp.jsx */ "./app/jsx/components/PaginationComp.jsx");
/* harmony import */ var _components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/ShareComp.jsx */ "./app/jsx/components/ShareComp.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }









 // [********** AJM - 7/03/17 **********]
// TODO: If UnitSearchLayout is going to be resuscitated, should this layout be wrapped into it?

var SeriesSelector = /*#__PURE__*/function (_React$Component) {
  _inherits(SeriesSelector, _React$Component);

  var _super = _createSuper(SeriesSelector);

  function SeriesSelector() {
    var _this;

    _classCallCheck(this, SeriesSelector);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      isOpen: false
    });

    return _this;
  }

  _createClass(SeriesSelector, [{
    key: "closeSelector",
    value: function closeSelector() {
      this.setState({
        isOpen: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "o-customselector__heading"
      }, p.unit.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        open: this.state.isOpen,
        ref: function ref(domElement) {
          return _this2.details = domElement;
        },
        className: "o-customselector__selector"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        "aria-label": "Select a different series",
        onClick: function onClick(event) {
          _this2.setState({
            isOpen: !_this2.details.open
          });

          event.preventDefault();
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-customselector__menu"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "o-customselector__items",
        role: "list"
      }, p.series.map(function (s, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Link"], {
          to: "/uc/" + s.unit_id,
          onClick: function onClick() {
            return _this2.closeSelector();
          }
        }, s.name));
      })))));
    }
  }]);

  return SeriesSelector;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(SeriesSelector, "propTypes", {
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    extent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
  }).isRequired,
  series: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired // unit_id: PropTypes.string.isRequired,
  // name: PropTypes.string.isRequired

});

var SeriesLayout = /*#__PURE__*/function (_React$Component2) {
  _inherits(SeriesLayout, _React$Component2);

  var _super2 = _createSuper(SeriesLayout);

  function SeriesLayout() {
    var _this3;

    _classCallCheck(this, SeriesLayout);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "handleSubmit", function (event, formData) {
      for (var key in formData) {
        if (formData[key] == "" || key === 'sort' && formData[key] === 'rel' || key === 'rows' && formData[key] === '10' || key === 'start' && formData[key] === '0') {
          delete formData[key];
        }
      } // Handy for debugging
      // console.log(JSON.stringify(formData))


      return true;
    });

    return _this3;
  }

  _createClass(SeriesLayout, [{
    key: "render",
    value: function render() {
      var data = this.props.data,
          unit = this.props.unit,
          selectorList = data.series.filter(function (s) {
        return s.unit_id != unit.id;
      }),
          formName = "seriesForm",
          formButton = "series-form-submit";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-itemactions"
      }, data.series.length > 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SeriesSelector, {
        unit: unit,
        series: selectorList
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        className: "o-heading3"
      }, unit.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        type: "unit",
        id: unit.id
      })), this.props.marquee.about && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        html: this.props.marquee.about,
        h1Level: 2
      }), this.props.data.count == 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), "There are currently no publications in this series \"", unit.name, "\".")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        id: formName,
        to: "/uc/" + this.props.unit.id + "/search",
        method: "GET",
        onSubmit: this.handleSubmit
      }, this.props.data.count > 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SortPaginationComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        formName: formName,
        formButton: formButton,
        query: data.query,
        count: data.count,
        relQueryOff: true
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, data.searchResults.map(function (result) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PubPreviewComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
          h: "h2",
          key: result.id,
          result: result
        });
      })), data.count > data.query.rows && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        formName: formName,
        formButton: formButton,
        query: data.query,
        count: data.count
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        id: formButton,
        style: {
          display: "none"
        }
      }, "Search")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, this.props.sidebar));
    }
  }]);

  return SeriesLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(SeriesLayout, "propTypes", {
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    extent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
  }).isRequired,
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    query: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      q: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      rows: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      sort: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      start: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
    }).isRequired,
    searchResults: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
    series: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
  }).isRequired,
  marquee: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    about: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  })
});

/* harmony default export */ __webpack_exports__["default"] = (SeriesLayout);

/***/ }),

/***/ "./app/jsx/layouts/UnitBuilderLayout.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/layouts/UnitBuilderLayout.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UnitBuilderLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var UNIT_TYPE_TO_LABEL = {
  series: "paper series",
  monograph_series: "monograph series",
  oru: "ORU",
  journal: "journal"
};

var SortableUnitList = /*#__PURE__*/function (_React$Component) {
  _inherits(SortableUnitList, _React$Component);

  var _super = _createSuper(SortableUnitList);

  function SortableUnitList() {
    var _this;

    _classCallCheck(this, SortableUnitList);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", _this.setupState(_this.props));

    return _this;
  }

  _createClass(SortableUnitList, [{
    key: "setupState",
    value: function setupState(props) {
      return {
        data: this.generateData(props.subUnits)
      };
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!nextProps.fetchingData && !_.isEqual(this.props, nextProps)) this.setState(this.setupState(nextProps));
    }
  }, {
    key: "generateData",
    value: function generateData(subUnits) {
      if (!subUnits) return undefined;
      return subUnits.map(function (unit) {
        return {
          id: unit.id,
          title: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Link"], {
            to: "/uc/".concat(unit.id)
          }, unit.name),
          subtitle: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, unit.id, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "(", UNIT_TYPE_TO_LABEL[unit.type], ")"))
        };
      });
    }
  }, {
    key: "travOrder",
    value: function travOrder(treeData) {
      return treeData.map(function (item) {
        return item.id;
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var SortableTree = this.props.cms.modules.SortableTree;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SortableTree, {
        treeData: this.state.data,
        isVirtualized: false,
        maxDepth: 1,
        onChange: function onChange(treeData) {
          return _this2.setState({
            data: treeData
          });
        },
        onMoveNode: function onMoveNode() {
          return _this2.props.onChangeOrder(_this2.travOrder(_this2.state.data));
        }
      });
    }
  }]);

  return SortableUnitList;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitBuilderLayout = /*#__PURE__*/function (_React$Component2) {
  _inherits(UnitBuilderLayout, _React$Component2);

  var _super2 = _createSuper(UnitBuilderLayout);

  function UnitBuilderLayout() {
    var _this3;

    _classCallCheck(this, UnitBuilderLayout);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this3 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "reorderUnits", function (newOrder) {
      _this3.props.sendApiData('PUT', "/api/unit/".concat(_this3.props.unit.id, "/unitOrder"), {
        order: JSON.stringify(newOrder)
      });
    });

    return _this3;
  }

  _createClass(UnitBuilderLayout, [{
    key: "render",
    value: function render() {
      var _this4 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "Unit Builder")), p.data.sub_units.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent",
        open: true
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Arrange sub-units"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_4__["default"].CMS.Consumer, null, function (cms) {
        return cms && cms.modules && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(SortableUnitList, {
          cms: cms,
          unit: p.unit.id,
          subUnits: p.data.sub_units,
          onChangeOrder: _this4.reorderUnits
        });
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "List parent unit(s)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, p.data.parent_units.map(function (u) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: u.id
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "/uc/" + u.id
        }, u.name));
      }))), /oru|campus/.test(p.unit.type) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Add new sub-unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onSubmit: function onSubmit(event, data) {
          event.preventDefault();
          p.sendApiData("PUT", "/api/unit/".concat(p.unit.id, "/unitBuilder"), data);
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "Make sure you are accessing this page from the desired parent unit.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "newUnitID"
      }, "Unit URL: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Must consist of lower-case numbers/letters or underscores only. No spaces."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "newUnitID",
        name: "newUnitID",
        type: "text"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "name"
      }, "Name: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "name",
        name: "name",
        type: "text"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "type"
      }, "Unit type: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "type"
      }, ["oru", "journal", "series", "monograph_series"].map(function (unitType) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: unitType,
          value: unitType
        }, UNIT_TYPE_TO_LABEL[unitType]);
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "hidden"
      }, "Hidden: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "hidden",
        name: "hidden",
        defaultChecked: true
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Create Unit"))), /oru|campus/.test(p.unit.type) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Adopt existing unit as sub-unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onSubmit: function onSubmit(event, data) {
          event.preventDefault();
          p.sendApiData("PUT", "/api/unit/".concat(p.unit.id, "/adoptUnit"), data);
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "Make sure you are accessing this page from the desired parent unit.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "existingUnitID"
      }, "Existing unit URL to adopt: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "existingUnitID",
        name: "existingUnitID",
        type: "text"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Adopt Unit"))), /oru|campus/.test(p.unit.type) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Disown sub-unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onSubmit: function onSubmit(event, data) {
          event.preventDefault();
          p.sendApiData("PUT", "/api/unit/".concat(p.unit.id, "/disownUnit"), data);
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "This option will only work for child units that have at least one other parent, to avoid orphans. You can use Delete Unit for units that only have one parent.")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "existingUnitID"
      }, "Child unit URL to disown: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "existingUnitID",
        name: "existingUnitID",
        type: "text"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Disown Unit"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Move this unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onSubmit: function onSubmit(event, data) {
          event.preventDefault();
          p.sendApiData("PUT", "/api/unit/".concat(p.unit.id, "/moveUnit"), data);
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "targetUnitID"
      }, "Destination parent unit: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "targetUnitID",
        name: "targetUnitID",
        type: "text"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Move Unit '", p.unit.id, "'"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Copy unit content"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onSubmit: function onSubmit(event, data) {
          event.preventDefault();
          p.sendApiData("PUT", "/api/unit/".concat(p.unit.id, "/copyUnit"), data);
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "targetParentID"
      }, "Destination parent unit: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "targetParentID",
        name: "targetParentID",
        type: "text"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "newUnitID"
      }, "Name for copied unit: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "newUnitID",
        name: "newUnitID",
        type: "text"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Copy unit '", p.unit.id, "'"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-togglecontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, "Delete this unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        onSubmit: function onSubmit(event, data) {
          event.preventDefault();
          p.sendApiData("PUT", "/api/unit/".concat(p.unit.id, "/deleteUnit"), data);
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "Note:"), " This will fail (harmlessly) if the unit has any items or sub-units."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        className: "o-button__3"
      }, "Delete unit '", p.unit.id, "'"))))));
    }
  }]);

  return UnitBuilderLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitBuilderLayout, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    sub_units: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
      type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
    }))
  }).isRequired,
  sendApiData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
});



/***/ }),

/***/ "./app/jsx/layouts/UnitCarouselConfigLayout.jsx":
/*!******************************************************!*\
  !*** ./app/jsx/layouts/UnitCarouselConfigLayout.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
/* harmony import */ var _components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/WysiwygEditorComp.jsx */ "./app/jsx/components/WysiwygEditorComp.jsx");
/* harmony import */ var _components_MarqueeComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/MarqueeComp.jsx */ "./app/jsx/components/MarqueeComp.jsx");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }









var HeroCarouselLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(HeroCarouselLayout, _React$Component);

  var _super = _createSuper(HeroCarouselLayout);

  function HeroCarouselLayout() {
    var _this;

    _classCallCheck(this, HeroCarouselLayout);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      newData: _this.props.data
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event, data) {
      event.preventDefault(); // adds input type="file" fields to FormData

      var binaryFormData = new FormData();
      var binaryFormFields = [];

      for (var fieldName in data) {
        if (data[fieldName] instanceof File) {
          binaryFormData.append(fieldName, data[fieldName]);
          binaryFormFields.push(fieldName);
        }
      } // removes input type="file" fields from 'data' parameter


      if (binaryFormFields.length !== 0) {
        for (var field in binaryFormFields) {
          delete data[binaryFormFields[field]];
        }

        _this.props.sendBinaryFileData("POST", "/api/unit/" + _this.props.unit.id + "/upload", binaryFormData);
      }

      if (!$.isEmptyObject(data)) {
        _this.props.sendApiData("PUT", event.target.action, {
          data: data
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "handleImageChange", function (event) {
      event.preventDefault();
      var reader = new FileReader();
      var file = event.target.files[0];
      var imgObj = {};
      var fieldName = event.target.name;

      reader.onloadend = function () {
        imgObj[fieldName] = {
          imagePreviewUrl: reader.result
        };

        _this.setData(imgObj);
      };

      reader.readAsDataURL(file);
    });

    _defineProperty(_assertThisInitialized(_this), "removeImage", function (event) {
      event.preventDefault();
      var imgObj = {};
      imgObj[event.target.dataset.input] = {
        imagePreviewUrl: "http://placehold.it/400x100?text=No+logo"
      };

      _this.setData(imgObj);

      var binaryFormData = new FormData();
      binaryFormData.append(event.target.dataset.input, '');

      _this.props.sendBinaryFileData("POST", "/api/unit/" + _this.props.unit.id + "/upload", binaryFormData);
    });

    _defineProperty(_assertThisInitialized(_this), "setData", function (newStuff) {
      // console.log("newStuff = ", newStuff)
      _this.setState({
        newData: Object.assign(lodash__WEBPACK_IMPORTED_MODULE_5___default.a.cloneDeep(_this.state.newData), newStuff)
      });
    });

    _defineProperty(_assertThisInitialized(_this), "setSlideData", function (newStuff, i) {
      //  console.log("Setting slide data = ", newStuff)
      var slides = _this.state.newData.marquee.slides;
      slides[i] = Object.assign(lodash__WEBPACK_IMPORTED_MODULE_5___default.a.cloneDeep(slides[i]), newStuff);

      _this.setMarqueeData({
        slides: slides
      });
    });

    _defineProperty(_assertThisInitialized(_this), "removeImagePreview", function (i) {
      var slides = lodash__WEBPACK_IMPORTED_MODULE_5___default.a.cloneDeep(_this.state.newData.marquee.slides);

      delete slides[i].imagePreviewUrl;
      document.getElementById("slideImage").value = "";

      _this.setMarqueeData({
        slides: slides
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSlideImageChange", function (event, i) {
      event.preventDefault();
      var reader = new FileReader();
      var file = event.target.files[0];

      reader.onloadend = function () {
        _this.setSlideData({
          imagePreviewUrl: reader.result
        }, i);
      };

      reader.readAsDataURL(file);
    });

    _defineProperty(_assertThisInitialized(_this), "setMarqueeData", function (newStuff) {
      var marquee = Object.assign(lodash__WEBPACK_IMPORTED_MODULE_5___default.a.cloneDeep(_this.state.newData.marquee), newStuff);

      _this.setData({
        marquee: marquee
      });
    });

    _defineProperty(_assertThisInitialized(_this), "addSlide", function () {
      var slides = lodash__WEBPACK_IMPORTED_MODULE_5___default.a.cloneDeep(_this.state.newData.marquee.slides) || [];
      slides.push({
        header: 'Sample header',
        text: '<p>sample text</p>',
        image: 'https://static.pexels.com/photos/40797/wild-flowers-flowers-plant-macro-40797.jpeg'
      });

      _this.setMarqueeData({
        slides: slides
      });
    });

    _defineProperty(_assertThisInitialized(_this), "addSlideHandler", function (event) {
      event.preventDefault();

      _this.addSlide();
    });

    _defineProperty(_assertThisInitialized(_this), "removeSlide", function (i) {
      _this.props.sendApiData("DELETE", "/api/unit/" + _this.props.unit.id + "/removeCarouselSlide/" + i);
    });

    return _this;
  }

  _createClass(HeroCarouselLayout, [{
    key: "componentWillMount",
    value: function componentWillMount() {
      !this.props.data.marquee.slides && this.addSlide();
    }
  }, {
    key: "renderSlideConfig",
    value: function renderSlideConfig(slideData) {
      var _this2 = this;

      return slideData.map(function (slide, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          style: {
            padding: "10px",
            border: "1px solid black"
          },
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "header" + i
        }, "Header:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-editable-page__input",
          id: "header" + i,
          name: "header" + i,
          type: "text",
          defaultValue: slide.header,
          onChange: function onChange(event) {
            return _this2.setSlideData({
              header: event.target.value
            }, i);
          }
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "text" + i
        }, "Text:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          className: "c-editable-page__input",
          name: "text" + i,
          id: "text" + i,
          html: slide.text,
          unit: _this2.props.unit.id,
          onChange: function onChange(newText) {
            return _this2.setSlideData({
              text: newText
            }, i);
          },
          buttons: [['strong', 'em', 'underline', 'link']]
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "slideImage-" + i
        }, "Image: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          style: {
            marginBottom: '20px',
            color: '#555',
            width: '100%'
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "file",
          id: "slideImage" + i,
          name: "slideImage" + i,
          onChange: function onChange(event) {
            return _this2.handleSlideImageChange(event, i);
          }
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          disabled: slideData.length == 1,
          onClick: function onClick() {
            return _this2.removeSlide(i);
          }
        }, "Remove Slide"));
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var data = this.state.newData;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        id: "marquee"
      }, "Landing Page Carousel"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MarqueeComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        marquee: data.marquee,
        forceOn: true
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        to: "/api/unit/".concat(this.props.unit.id, "/carouselConfig"),
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "can-toggle can-toggle--size-small"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "displayCarousel",
        name: "carouselFlag",
        type: "checkbox",
        defaultChecked: data.marquee.carousel,
        onChange: function onChange(event) {
          return _this3.setMarqueeData({
            carousel: event.target.checked
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "displayCarousel"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "can-toggle__label-text"
      }, "Publish Carousel"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "can-toggle__switch",
        "data-checked": "Enabled",
        "data-unchecked": "Disabled"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-floatright"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/solutions/articles/9000124100-using-the-site-editing-tool"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "c-editable-help__icon",
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_6__["default"] + 'icon_help.svg',
        alt: "Get help on landing page carousel"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, data.marquee.slides && this.renderSlideConfig(data.marquee.slides), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: function onClick(event) {
          return _this3.addSlideHandler(event);
        }
      }, "Add slide"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-floatright"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Save Changes"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))))));
    }
  }]);

  return HeroCarouselLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var ConfigSettings = /*#__PURE__*/function (_React$Component2) {
  _inherits(ConfigSettings, _React$Component2);

  var _super2 = _createSuper(ConfigSettings);

  function ConfigSettings() {
    _classCallCheck(this, ConfigSettings);

    return _super2.apply(this, arguments);
  }

  _createClass(ConfigSettings, [{
    key: "renderUnitsDropdown",
    value: function renderUnitsDropdown() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "unit_id" + this.props.index,
        defaultValue: this.props.contentCarousel.unit_id
      }, this.props.campusUnits.map(function (u) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: u.id,
          value: u.id
        }, u.name);
      }));
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props,
          disabledId = "disabled" + p.index,
          journalsId = "journals" + p.index,
          featuredUnitId = "featuredUnit" + p.index;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__radio-vertical",
        type: "radio",
        id: disabledId,
        name: "mode" + p.index,
        value: "disabled",
        defaultChecked: p.contentCarousel.mode == "disabled"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__radio-label",
        htmlFor: disabledId
      }, "Disabled"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__radio-vertical",
        type: "radio",
        id: journalsId,
        name: "mode" + p.index,
        value: "journals",
        defaultChecked: p.contentCarousel.mode == "journals"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__radio-label",
        htmlFor: journalsId
      }, "Campus Journal Covers"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__radio-vertical",
        type: "radio",
        id: featuredUnitId,
        name: "mode" + p.index,
        value: "unit",
        defaultChecked: p.contentCarousel.mode == "unit"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__radio-label",
        htmlFor: featuredUnitId
      }, "Featured Unit"), this.renderUnitsDropdown());
    }
  }]);

  return ConfigSettings;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var CampusCarouselConfig = /*#__PURE__*/function (_React$Component3) {
  _inherits(CampusCarouselConfig, _React$Component3);

  var _super3 = _createSuper(CampusCarouselConfig);

  function CampusCarouselConfig() {
    var _this4;

    _classCallCheck(this, CampusCarouselConfig);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this4 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "handleSubmit", function (event, data) {
      event.preventDefault();

      _this4.props.sendApiData("PUT", event.target.action, {
        data: data
      });
    });

    return _this4;
  }

  _createClass(CampusCarouselConfig, [{
    key: "render",
    value: function render() {
      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        className: "c-editable-h3"
      }, "Content Carousel(s)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-floatright"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/solutions/articles/9000124100-using-the-site-editing-tool"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "c-editable-help__icon",
        src: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_6__["default"] + 'icon_help.svg',
        alt: "Get help on content carousels"
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
        to: "/api/unit/".concat(this.props.unit.id, "/campusCarouselConfig"),
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Content carousels may be used to feature content collections on your campus landing pages."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-page__label"
      }, "Content Carousel 1"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConfigSettings, {
        unit: this.props.unit,
        contentCarousel: data.contentCar1,
        index: 1,
        campusUnits: data.campusUnits
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-page__label"
      }, "Content Carousel 2"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ConfigSettings, {
        unit: this.props.unit,
        contentCarousel: data.contentCar2,
        index: 2,
        campusUnits: data.campusUnits
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Save Changes"))))));
    }
  }]);

  return CampusCarouselConfig;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitCarouselConfigLayout = /*#__PURE__*/function (_React$Component4) {
  _inherits(UnitCarouselConfigLayout, _React$Component4);

  var _super4 = _createSuper(UnitCarouselConfigLayout);

  function UnitCarouselConfigLayout() {
    _classCallCheck(this, UnitCarouselConfigLayout);

    return _super4.apply(this, arguments);
  }

  _createClass(UnitCarouselConfigLayout, [{
    key: "render",
    value: function render() {
      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.props.unit.type != 'campus' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeroCarouselLayout, this.props), this.props.unit.type == 'campus' && (data.contentCar1 || data.contentCar2) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CampusCarouselConfig, {
        data: data,
        unit: this.props.unit,
        sendApiData: this.props.sendApiData
      }));
    }
  }]);

  return UnitCarouselConfigLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitCarouselConfigLayout, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    // --- BEGIN --- properties used strictly for Campus Landing page config
    contentCar1: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      mode: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
      unit_id: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
    }),
    contentCar2: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      mode: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
      unit_id: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
    }),
    campusUnits: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      id: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
      name: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
    })),
    // --- END --- properties used strictly for Campus Landing page config
    marquee: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
      about: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
      carousel: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool //      slides: PropTypes.arrayOf(PropTypes.shape({
      //        header: PropTypes.string,
      //        image: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),
      //        text: PropTypes.string,
      //        imagePreviewUrl: PropTypes.string
      //      }))

    })
  }),
  unit: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
    type: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
  }).isRequired,
  sendApiData: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any,
  sendBinaryFileData: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any
});

/* harmony default export */ __webpack_exports__["default"] = (UnitCarouselConfigLayout);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/layouts/UnitIssueConfigLayout.jsx":
/*!***************************************************!*\
  !*** ./app/jsx/layouts/UnitIssueConfigLayout.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UnitIssueConfigLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var RightsDropdown = /*#__PURE__*/function (_React$Component) {
  _inherits(RightsDropdown, _React$Component);

  var _super = _createSuper(RightsDropdown);

  function RightsDropdown() {
    var _this;

    _classCallCheck(this, RightsDropdown);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        disabled: _this.props.disableEdit,
        name: "rights-".concat(_this.props.voliss),
        defaultValue: _this.props.rights || "none"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "none"
      }, "None"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by/4.0/"
      }, "CC BY v4.0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nc/4.0/"
      }, "CC BY-NC v4.0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nc-nd/4.0/"
      }, "CC BY-NC-ND v4.0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nc-sa/4.0/"
      }, "CC BY-NC-SA v4.0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nd/4.0/"
      }, "CC BY-ND v4.0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-sa/4.0/"
      }, "CC BY-SA v4.0"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by/3.0/"
      }, "(old CC BY v3.0)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nc/3.0/"
      }, "(old CC BY-NC v3.0)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nc-nd/3.0/"
      }, "(old CC BY-NC-ND v3.0)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nc-sa/3.0/"
      }, "(old CC BY-NC-SA v3.0)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-nd/3.0/"
      }, "(old CC BY-ND v3.0)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "https://creativecommons.org/licenses/by-sa/3.0/"
      }, "(old CC BY-SA v3.0)"));
    });

    return _this;
  }

  return _createClass(RightsDropdown);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var NumberingRadio = /*#__PURE__*/function (_React$Component2) {
  _inherits(NumberingRadio, _React$Component2);

  var _super2 = _createSuper(NumberingRadio);

  function NumberingRadio() {
    var _this2;

    _classCallCheck(this, NumberingRadio);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map({
        volume_only: "volume",
        issue_only: "issue",
        both: "both"
      }, function (v, k) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          key: k
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: _this2.props.disableEdit,
          type: "radio",
          name: "numbering-".concat(_this2.props.voliss),
          value: k,
          defaultChecked: _this2.props.numbering == k
        }), v);
      }));
    });

    return _this2;
  }

  return _createClass(NumberingRadio);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var IssueRow = /*#__PURE__*/function (_React$Component3) {
  _inherits(IssueRow, _React$Component3);

  var _super3 = _createSuper(IssueRow);

  function IssueRow() {
    _classCallCheck(this, IssueRow);

    return _super3.apply(this, arguments);
  }

  _createClass(IssueRow, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, !p.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, p.voliss), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RightsDropdown, p)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NumberingRadio, p)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        disabled: p.disableEdit,
        type: "text",
        name: "buy_link-".concat(p.voliss),
        defaultValue: p.buy_link
      })));
    }
  }]);

  return IssueRow;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var IssueTable = /*#__PURE__*/function (_React$Component4) {
  _inherits(IssueTable, _React$Component4);

  var _super4 = _createSuper(IssueTable);

  function IssueTable() {
    var _this3;

    _classCallCheck(this, IssueTable);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this3 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this3), "handleSubmit", function (event, data) {
      event.preventDefault();

      _this3.props.sendApiData("PUT", event.target.action, {
        data: data
      });
    });

    return _this3;
  }

  _createClass(IssueTable, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
        to: "/api/unit/".concat(p.unit.id, "/issueConfig"),
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        className: "c-issueTable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, !p.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "Issue"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "License"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "Numbering"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", null, "Buy Link"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, p.data.map(function (row) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IssueRow, _extends({
          key: row.voliss,
          isDefault: p.isDefault,
          disableEdit: p.disableEdit
        }, row));
      }))), p.disableEdit ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Only eScholarship staff may change this information.") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Save Changes"));
    }
  }]);

  return IssueTable;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitIssueConfigLayout = /*#__PURE__*/function (_React$Component5) {
  _inherits(UnitIssueConfigLayout, _React$Component5);

  var _super5 = _createSuper(UnitIssueConfigLayout);

  function UnitIssueConfigLayout() {
    var _this4;

    _classCallCheck(this, UnitIssueConfigLayout);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this4 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this4), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_4__["default"].CMS.Consumer, null, function (cms) {
        var p = _this4.props;
        var tableProps = {
          unit: p.unit,
          sendApiData: p.sendApiData,
          disableEdit: !(cms.permissions && cms.permissions["super"])
        };
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Issue Configuration"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-columns"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
          className: "o-columnbox1"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", null, "Defaults for Future Issues"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IssueTable, _extends({
          isDefault: true,
          data: p.data.slice(0, 1)
        }, tableProps)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h4", null, "Past Issues"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IssueTable, _extends({
          isDefault: false,
          data: p.data.slice(1)
        }, tableProps))))));
      });
    });

    return _this4;
  }

  return _createClass(UnitIssueConfigLayout);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),

/***/ "./app/jsx/layouts/UnitNavConfigLayout.jsx":
/*!*************************************************!*\
  !*** ./app/jsx/layouts/UnitNavConfigLayout.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UnitNavConfigLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/WysiwygEditorComp.jsx */ "./app/jsx/components/WysiwygEditorComp.jsx");
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var EditableNavContentComp = /*#__PURE__*/function (_React$Component) {
  _inherits(EditableNavContentComp, _React$Component);

  var _super = _createSuper(EditableNavContentComp);

  function EditableNavContentComp() {
    var _this;

    _classCallCheck(this, EditableNavContentComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      newData: _this.props.data
    });

    _defineProperty(_assertThisInitialized(_this), "onSave", function () {
      return _this.props.sendApiData('PUT', "/api/unit/".concat(_this.props.unit.id, "/nav/").concat(_this.props.data.id), _this.state.newData);
    });

    _defineProperty(_assertThisInitialized(_this), "onDelete", function () {
      return _this.props.sendApiData('DELETE', "/api/unit/".concat(_this.props.unit.id, "/nav/").concat(_this.props.data.id), {});
    });

    _defineProperty(_assertThisInitialized(_this), "setData", function (newStuff) {
      _this.setState({
        newData: Object.assign(lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(_this.state.newData), newStuff)
      });
    });

    return _this;
  }

  _createClass(EditableNavContentComp, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(this.props, nextProps)) this.setState({
        newData: nextProps.data
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var data = this.props.data;

      var dataIsSame = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(data, this.state.newData);

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_5__["default"].CMS.Consumer, null, function (cms) {
        var navPerms = cms.permissions && cms.permissions.nav_perms[data.slug] || {};
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, data.type == "page" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "slug"
        }, "Page URL", !navPerms.change_slug && " (restricted)"), cms.permissions && cms.permissions["super"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Must consist of numbers and/or letters only. No spaces."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: !navPerms.change_slug,
          className: "c-editable-page__input",
          id: "slug",
          type: "text",
          defaultValue: data.slug,
          onChange: function onChange(event) {
            return _this2.setData({
              slug: event.target.value
            });
          }
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "name"
        }, "Navigation Bar Label"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "For optimal display, use fewer than 25 characters"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-editable-page__input",
          id: "name",
          type: "text",
          defaultValue: data.name,
          onChange: function onChange(event) {
            return _this2.setData({
              name: event.target.value
            });
          }
        }), data.type == "page" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, navPerms.remove ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          htmlFor: "hidden"
        }, "Hidden (select checkbox to omit this from the navigation bar)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-editable-page__input",
          type: "checkbox",
          id: "hidden",
          name: "hidden",
          defaultChecked: data.hidden,
          onChange: function onChange(event) {
            return _this2.setData({
              hidden: event.target.checked
            });
          }
        })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-editable-page__label"
        }, "Hidden (restricted)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "Page is ".concat(data.hidden ? "" : "not ", "hidden."))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "title"
        }, "Page Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Generally the same as Navigation Bar Label, but in some cases longer and more descriptive."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-editable-page__input",
          id: "title",
          type: "text",
          defaultValue: data.title,
          onChange: function onChange(event) {
            return _this2.setData({
              title: event.target.value
            });
          }
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "text"
        }, "Text", !navPerms.change_text && " (restricted)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
          id: "text",
          html: data.attrs.html,
          unit: _this2.props.unit.id,
          imageContext: "content",
          disabled: !navPerms.change_text,
          onChange: function onChange(newText) {
            return _this2.setData({
              attrs: {
                html: newText
              }
            });
          }
        })), data.type == "link" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "url"
        }, "External Link URL"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-editable-page__input",
          id: "url",
          type: "text",
          defaultValue: data.url,
          onChange: function onChange(event) {
            return _this2.setData({
              url: event.target.value
            });
          }
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          className: "c-editable-page__button",
          onClick: _this2.onSave,
          disabled: dataIsSame
        }, "Save"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          className: "c-editable-page__button",
          onClick: _this2.onDelete
        }, "Delete")));
      });
    }
  }]);

  return EditableNavContentComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(EditableNavContentComp, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  })
});

var UnitNavConfigLayout = /*#__PURE__*/function (_React$Component2) {
  _inherits(UnitNavConfigLayout, _React$Component2);

  var _super2 = _createSuper(UnitNavConfigLayout);

  function UnitNavConfigLayout() {
    _classCallCheck(this, UnitNavConfigLayout);

    return _super2.apply(this, arguments);
  }

  _createClass(UnitNavConfigLayout, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, p.data.title ? p.data.title : p.data.name + " (" + p.data.type + ")")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditableNavContentComp, {
        unit: p.unit,
        data: p.data,
        sendApiData: p.sendApiData
      }))));
    }
  }]);

  return UnitNavConfigLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitNavConfigLayout, "propTypes", {
  sendApiData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  }).isRequired,
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  })
});



/***/ }),

/***/ "./app/jsx/layouts/UnitProfileLayout.jsx":
/*!***********************************************!*\
  !*** ./app/jsx/layouts/UnitProfileLayout.jsx ***!
  \***********************************************/
/*! exports provided: contentOptions, indexOptions, disciplineOptions, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "contentOptions", function() { return contentOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "indexOptions", function() { return indexOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disciplineOptions", function() { return disciplineOptions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_BackgroundColorPickerComp_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/BackgroundColorPickerComp.jsx */ "./app/jsx/components/BackgroundColorPickerComp.jsx");
/* harmony import */ var _components_ElementColorPickerComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ElementColorPickerComp.jsx */ "./app/jsx/components/ElementColorPickerComp.jsx");
/* harmony import */ var _components_CheckContrastComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/CheckContrastComp.jsx */ "./app/jsx/components/CheckContrastComp.jsx");
/* harmony import */ var _components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SubheaderComp.jsx */ "./app/jsx/components/SubheaderComp.jsx");
/* harmony import */ var _components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/WysiwygEditorComp.jsx */ "./app/jsx/components/WysiwygEditorComp.jsx");
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react_datetime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-datetime */ "./node_modules/react-datetime/dist/react-datetime.cjs.js");
/* harmony import */ var react_datetime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_datetime__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-select */ "./node_modules/react-select/dist/react-select.esm.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }












var contentOptions = [{
  value: "faculty",
  label: "Faculty"
}, {
  value: "researcher",
  label: "Researchers"
}, {
  value: "grad",
  label: "Graduate Students"
}, {
  value: "undergrad",
  label: "Undergraduate Students"
}];
var indexOptions = [{
  value: "clarivate",
  label: "Clarivate"
}, {
  value: "doaj",
  label: "DOAJ"
}, {
  value: "ebsco",
  label: "EBSCO"
}, {
  value: "pubmed",
  label: "PubMed"
}, {
  value: "road",
  label: "ROAD"
}, {
  value: "scopus",
  label: "SCOPUS"
}];
var disciplineOptions = [{
  value: "arch",
  label: "Architecture"
}, {
  value: "art",
  label: "Arts and Humanities"
}, {
  value: "bus",
  label: "Business"
}, {
  value: "edu",
  label: "Education"
}, {
  value: "eng",
  label: "Engineering"
}, {
  value: "law",
  label: "Law"
}, {
  value: "life",
  label: "Life Sciences"
}, {
  value: "medicine",
  label: "Medicine and Health Sciences"
}, {
  value: "physical",
  label: "Physical Sciences and Mathematics"
}, {
  value: "social",
  label: "Social and Behavioral Sciences"
}];

var UnitProfileLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(UnitProfileLayout, _React$Component);

  var _super = _createSuper(UnitProfileLayout);

  function UnitProfileLayout() {
    var _this;

    _classCallCheck(this, UnitProfileLayout);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      newData: _this.props.data,
      banner_flag_visible: _this.props.data.logo,
      tos: _this.props.data.tos,
      indexed: "indexed" in _this.props.data ? indexOptions.filter(function (p) {
        return _this.props.data["indexed"].includes(p.value);
      }) : "",
      disciplines: "disciplines" in _this.props.data ? disciplineOptions.filter(function (p) {
        return _this.props.data["disciplines"].includes(p.value);
      }) : "",
      contentby: "contentby" in _this.props.data ? contentOptions.filter(function (p) {
        return _this.props.data["contentby"].includes(p.value);
      }) : ""
    });

    _defineProperty(_assertThisInitialized(_this), "updatetos", function (value) {
      _this.setState({
        tos: value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateIndexed", function (value) {
      _this.setState({
        indexed: value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateDisciplines", function (value) {
      _this.setState({
        disciplines: value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "updateContentby", function (value) {
      _this.setState({
        contentby: value
      });
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event, data) {
      event.preventDefault(); // adds input type="file" fields to FormData

      var binaryFormData = new FormData();
      var binaryFormFields = [];

      for (var fieldName in data) {
        if (data[fieldName] instanceof File) {
          binaryFormData.append(fieldName, data[fieldName]);
          binaryFormFields.push(fieldName);
        }
      } // removes input type="file" fields from 'data' parameter


      if (binaryFormFields.length !== 0) {
        for (var field in binaryFormFields) {
          delete data[binaryFormFields[field]];
        }

        _this.props.sendBinaryFileData("POST", "/api/unit/" + _this.props.unit.id + "/upload", binaryFormData);
      } // add tos datetime value from state


      if (_this.state.tos instanceof Object) {
        data.tos = _this.state.tos.format('L');
      }

      if (!$.isEmptyObject(data)) {
        _this.props.sendApiData("PUT", event.target.action, {
          data: data
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "handleImageChange", function (event) {
      event.preventDefault();
      var reader = new FileReader();
      var file = event.target.files[0];
      var imgObj = {};
      var fieldName = event.target.name;

      reader.onloadend = function () {
        imgObj[fieldName] = {
          imagePreviewUrl: reader.result
        };

        _this.setData(imgObj);
      };

      reader.readAsDataURL(file);

      _this.setState({
        banner_flag_visible: true
      });
    });

    _defineProperty(_assertThisInitialized(_this), "setData", function (newStuff) {
      _this.setState({
        newData: Object.assign(lodash__WEBPACK_IMPORTED_MODULE_8___default.a.cloneDeep(_this.state.newData), newStuff)
      });
    });

    _defineProperty(_assertThisInitialized(_this), "setMarqueeData", function (newStuff) {
      var marquee = Object.assign(lodash__WEBPACK_IMPORTED_MODULE_8___default.a.cloneDeep(_this.state.newData.marquee), newStuff);

      _this.setData({
        marquee: marquee
      });
    });

    return _this;
  }

  _createClass(UnitProfileLayout, [{
    key: "renderUnitConfig",
    value: function renderUnitConfig() {
      var _this2 = this;

      var data = this.props.data;
      var logoUrl = this.state.newData.logo && this.state.newData.logo.imagePreviewUrl ? this.state.newData.logo.imagePreviewUrl : data.logo ? "/cms-assets/" + data.logo.asset_id : "http://placehold.it/400x100?text=No+logo";
      var heroUrl = this.state.newData.hero && this.state.newData.hero.imagePreviewUrl ? this.state.newData.hero.imagePreviewUrl : data.hero ? "/cms-assets/" + data.hero.asset_id : "http://placehold.it/500x200?text=No+hero+image";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_6__["default"].CMS.Consumer, null, function (cms) {
        var disableEdit = !(cms.permissions && cms.permissions["super"]);
        var disableLogo = _this2.props.unit.type.indexOf("series") >= 0 || _this2.props.unit.type == "campus" && disableEdit;
        var newHeader = Object.assign({}, _this2.props.header);

        var bgColor = _this2.state.newData.bgColor || data.bgColor,
            setBgColor = function setBgColor(color) {
          _this2.setData({
            bgColor: color
          });
        };

        var elColor = _this2.state.newData.elColor || data.elColor,
            setElColor = function setElColor(color) {
          _this2.setData({
            elColor: color
          });
        };

        var bgColorToCheck = bgColor.replace('#', '');
        var elColorToCheck = elColor === 'black' ? '000000' : 'ffffff';
        newHeader['bgColor'] = bgColor;
        newHeader['elColor'] = elColor;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Unit Configuration"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-columns"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
          className: "o-columnbox1"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
          to: "/api/unit/".concat(_this2.props.unit.id, "/profileContentConfig"),
          onSubmit: _this2.handleSubmit
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "hidden",
          name: "unitConfigSection",
          defaultValue: "yes"
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "unitName"
        }, "Name: ", disableEdit ? "(restricted)" : ""), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          className: "c-editable-page__input",
          id: "unitName",
          type: "text",
          defaultValue: data.name,
          onChange: function onChange(event) {
            return _this2.setData({
              name: event.target.value
            });
          }
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "logoImage"
        }, "Logo image", disableLogo ? "(restricted)" : ""), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          src: logoUrl,
          alt: "Logo"
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), !disableLogo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "file",
          id: "logoImage",
          name: "logo",
          onChange: _this2.handleImageChange
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), _this2.state.banner_flag_visible && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          key: "0",
          className: "c-editable-page__label",
          htmlFor: "logoIsBanner"
        }, "Suppress typeset site name next to logo: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
          key: "1"
        }, "Check the box below if your logo image contains the full, legible title of your site."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          key: "2",
          type: "checkbox",
          id: "logoIsBanner",
          name: "logoIsBanner",
          defaultChecked: data.logo && data.logo.is_banner
        })], _this2.props.unit.type == 'campus' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "heroImage"
        }, "Hero image", disableLogo ? "(restricted)" : ""), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
          src: heroUrl,
          alt: "Hero Image"
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "file",
          id: "heroImage",
          name: "hero",
          onChange: _this2.handleImageChange
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), cms.permissions && cms.permissions["super"] && !disableLogo && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-subheadercontrols"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null, "Subheader Color Controls"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_BackgroundColorPickerComp_jsx__WEBPACK_IMPORTED_MODULE_1__["default"], {
          textLabel: "Subheader Background Color",
          backgroundColor: bgColor,
          onBackgroundColorChange: setBgColor
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ElementColorPickerComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          fieldsetLabel: "Subheader Element Color",
          onElementColorChange: setElColor,
          isDefault: elColor
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_CheckContrastComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
          checkForeground: elColorToCheck,
          checkBackground: bgColorToCheck
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Sample Banner"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
          unit: _this2.props.unit,
          header: newHeader
        })), cms.permissions && cms.permissions["super"] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "status"
        }, "Unit status: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
          name: "status",
          defaultValue: data.status
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "active"
        }, "Active"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "hidden"
        }, "Hidden"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "archived"
        }, "Archived")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "directSubmit"
        }, "Direct submit: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
          name: "directSubmit",
          defaultValue: data.directSubmit
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "enabled"
        }, "Enabled"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "disabled"
        }, "Disabled"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "moribund"
        }, "Archived")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "directSubmitURL"
        }, "Direct submit URL (for external submission management): "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          className: "c-editable-page__input",
          id: "directSubmitURL",
          type: "text",
          defaultValue: data.directSubmitURL,
          onChange: function onChange(event) {
            return _this2.setData({
              directSubmitURL: event.target.value
            });
          }
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "directManageURLauthor"
        }, "Direct manage URL for Authors (for external submission management): "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          className: "c-editable-page__input",
          id: "directManageURLauthor",
          type: "text",
          defaultValue: data.directManageURLauthor,
          onChange: function onChange(event) {
            return _this2.setData({
              directManageURLauthor: event.target.value
            });
          }
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "directManageURLeditor"
        }, "Direct manage URL for Editors (for external submission management): "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          className: "c-editable-page__input",
          id: "directManageURLeditor",
          type: "text",
          defaultValue: data.directManageURLeditor,
          onChange: function onChange(event) {
            return _this2.setData({
              directManageURLeditor: event.target.value
            });
          }
        }), _this2.props.unit.type.indexOf("series") >= 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "elementsID"
        }, "Elements numeric group ID (for secondary association on deposit): "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          className: "c-editable-page__input",
          id: "elementsID",
          type: "text",
          defaultValue: data.elementsID,
          onChange: function onChange(event) {
            return _this2.setData({
              elementsID: event.target.value
            });
          }
        }))), _this2.props.unit.type == 'journal' && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), disableEdit ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, "DOAJ Seal (restricted):"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, data.doaj ? "Seal displayed" : "No seal displayed")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "doajSeal"
        }, "DOAJ Seal: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          type: "checkbox",
          id: "doajSeal",
          name: "doajSeal",
          defaultChecked: data.doaj
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "issn"
        }, "ISSN: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          className: "c-editable-page__input",
          id: "issn",
          type: "text",
          defaultValue: data.issn
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "eissn"
        }, "E-ISSN: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          className: "c-editable-page__input",
          id: "eissn",
          type: "text",
          defaultValue: data.eissn
        }), disableEdit ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, "Altmetric\u2122 (restricted):"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
          id: "altmetrics_ok"
        }, data.altmetrics_ok ? "Altmetric data provided in articles" : "No Altmetric data provided in articles")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "altmetrics_ok"
        }, "Altmetric\u2122: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          disabled: disableEdit,
          type: "checkbox",
          id: "altmetrics_ok",
          name: "altmetrics_ok",
          defaultChecked: data.altmetrics_ok
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "indexed"
        }, "Indexed by: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_select__WEBPACK_IMPORTED_MODULE_10__["default"], {
          name: "indexed",
          value: _this2.state.indexed,
          options: indexOptions,
          onChange: _this2.updateIndexed,
          isMulti: true
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "tos"
        }, "eScholarship TOS Version on File: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_datetime__WEBPACK_IMPORTED_MODULE_9___default.a, {
          id: "tos",
          name: "tos",
          timeFormat: false,
          value: _this2.state.tos,
          onChange: _this2.updatetos
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "disciplines"
        }, "Relevant Discipline(s): "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_select__WEBPACK_IMPORTED_MODULE_10__["default"], {
          name: "disciplines",
          value: _this2.state.disciplines,
          options: disciplineOptions,
          onChange: _this2.updateDisciplines,
          isMulti: true
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "pub_freq"
        }, "Target publication frequency: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
          name: "pub_freq",
          defaultValue: data.pub_freq
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "incremental"
        }, "Incremental"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "fortnightly"
        }, "Fortnightly"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "monthly"
        }, "Monthly"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "quarterly"
        }, "Quarterly"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "yearly"
        }, "Yearly"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "twoyearly"
        }, "2-years"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "oaspa"
        }, "OASPA Status: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
          name: "oaspa",
          defaultValue: data.oaspa
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "notSubmitted"
        }, "Not Submitted"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "submitted"
        }, "Submitted"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "accepted"
        }, "Accepted"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          value: "rejected"
        }, "Rejected"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "apc"
        }, "APC Amount: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          className: "c-editable-page__input",
          id: "apc",
          type: "text",
          defaultValue: data.apc
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "contentby"
        }, "Journal content primarily by: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_select__WEBPACK_IMPORTED_MODULE_10__["default"], {
          name: "contentby",
          value: _this2.state.contentby,
          options: contentOptions,
          onChange: _this2.updateContentby,
          isMulti: true
        }))), /series|journal/.test(_this2.props.unit.type) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, disableEdit ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, "Commenting enabled in hypothes.is (restricted): "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, data.commenting_ok ? "Yes" : "No")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
          className: "c-editable-page__label",
          htmlFor: "commenting_ok"
        }, "Commenting enabled in hypothes.is: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "checkbox",
          id: "commenting_ok",
          name: "commenting_ok",
          defaultChecked: data.commenting_ok
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          type: "submit"
        }, "Save Changes"))))));
      });
    }
  }, {
    key: "renderSocialConfig",
    value: function renderSocialConfig() {
      var _this3 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Social Media Links"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        to: "/api/unit/".concat(this.props.unit.id, "/profileContentConfig"),
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "You may provide links to your social media page(s). These will appear as icons in your site's navigation bar."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "facebook"
      }, "Facebook Page Name: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "The portion of your Facebook page's URL that appears after: http://www.facebook.com/_____"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "facebook",
        name: "facebook",
        type: "text",
        defaultValue: data.facebook,
        onChange: function onChange(event) {
          return _this3.setData({
            facebook: event.target.value
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "twitter"
      }, "Twitter Username: "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "The portion of your Twitter page's URL that appears after: http://www.twitter.com/_____"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "twitter",
        name: "twitter",
        type: "text",
        defaultValue: data.twitter,
        onChange: function onChange(event) {
          return _this3.setData({
            twitter: event.target.value
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Save Changes")))))));
    }
  }, {
    key: "renderAboutConfig",
    value: function renderAboutConfig() {
      var _this4 = this;

      var data = this.state.newData;
      var aboutText = data.marquee.about ? data.marquee.about : "";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        id: "marquee"
      }, "About Text"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        to: "/api/unit/".concat(this.props.unit.id, "/profileContentConfig"),
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "aboutText"
      }, "About Text"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "About text will appear at the top of your site's landing page. It should be fewer than 400 characters in length."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        className: "c-editable-page__input",
        name: "about",
        id: "about",
        html: aboutText,
        unit: this.props.unit.id,
        onChange: function onChange(newText) {
          return _this4.setMarqueeData({
            about: newText
          });
        },
        buttons: [['strong', 'em', 'underline', 'link', 'superscript', 'subscript']]
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit"
      }, "Save Changes"))))));
    }
  }, {
    key: "renderJournalConfig",
    value: function renderJournalConfig() {
      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", {
        id: "main-content-config"
      }, "Main Content Configuration"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        to: "/api/unit/".concat(this.props.unit.id, "/profileContentConfig"),
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "hidden",
        name: "journalConfigSection",
        defaultValue: "yes"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "magazine_layout"
      }, "Magazine layout?"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "magazine_layout",
        name: "magazine_layout",
        defaultChecked: data.magazine_layout
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "(leave this unchecked for simple layout)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Display Issue Rule:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__radio",
        type: "radio",
        id: "issueRuleFirstMostRecent",
        name: "issue_rule",
        value: "firstMostRecent",
        defaultChecked: data.issue_rule != "secondMostRecent"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__radio-label",
        htmlFor: "issueRuleFirstMostRecent"
      }, "Most recent issue"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__radio",
        type: "radio",
        id: "issueRuleSecondMostRecent",
        name: "issue_rule",
        value: "secondMostRecent",
        defaultChecked: data.issue_rule == "secondMostRecent"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__radio-label",
        htmlFor: "issueRuleSecondMostRecent"
      }, "Second-most recent issue"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", null, "Save Changes"))))));
    }
  }, {
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.renderUnitConfig(), this.renderSocialConfig(), this.renderAboutConfig(), this.props.unit.type == 'journal' && this.renderJournalConfig());
    }
  }]);

  return UnitProfileLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (UnitProfileLayout);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/layouts/UnitSearchLayout.jsx":
/*!**********************************************!*\
  !*** ./app/jsx/layouts/UnitSearchLayout.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_ScholWorksComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ScholWorksComp.jsx */ "./app/jsx/components/ScholWorksComp.jsx");
/* harmony import */ var _components_SortPaginationComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/SortPaginationComp.jsx */ "./app/jsx/components/SortPaginationComp.jsx");
/* harmony import */ var _components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ShareComp.jsx */ "./app/jsx/components/ShareComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






 // [********** AW - 3/15/17 **********]
// TODO: this is basically a copy of the Series Landing page layout without the header content
// probably should just be the same component, curious how search within a series differs from
// the landing page - does the header content go away? 
// ie: what happens on pagination on the landing page? on search within pages? 
// TODO: UX - we need counts someplace! they never made it into the wireframes for this page
// TODO: make the forms actually functional - in standard search there is a facet form and 
// all the sort, pagination, and number of results per page form elements tie into it
// either create a new 'facetForm' or make a new form and change the components
// going here: http://0.0.0.0:4001/unit/uclalaw/search?q=equality&rows=20 displays 'show: 20' correctly, 
// but clicking 'show: 10' doesn't do anything. also where does 'equality' show in the UI? 

var UnitSearchLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(UnitSearchLayout, _React$Component);

  var _super = _createSuper(UnitSearchLayout);

  function UnitSearchLayout() {
    _classCallCheck(this, UnitSearchLayout);

    return _super.apply(this, arguments);
  }

  _createClass(UnitSearchLayout, [{
    key: "render",
    value: function render() {
      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SortPaginationComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        query: data.query,
        count: data.count
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, data.searchResults.map(function (result) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScholWorksComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
          h: "h2",
          key: result.id,
          result: result
        });
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox2"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ShareComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], null)), this.props.sidebar));
    }
  }]);

  return UnitSearchLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitSearchLayout, "propTypes", {
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    type: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  }).isRequired,
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    searchResults: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
    query: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      q: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      rows: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      sort: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      start: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      filters: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
        departments: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
          display: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
          fieldName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
          filters: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
        })
      })
    }).isRequired
  })
});

/* harmony default export */ __webpack_exports__["default"] = (UnitSearchLayout);

/***/ }),

/***/ "./app/jsx/layouts/UnitSidebarConfigLayout.jsx":
/*!*****************************************************!*\
  !*** ./app/jsx/layouts/UnitSidebarConfigLayout.jsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UnitSidebarConfigLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/WysiwygEditorComp.jsx */ "./app/jsx/components/WysiwygEditorComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var EditableSidebarContentComp = /*#__PURE__*/function (_React$Component) {
  _inherits(EditableSidebarContentComp, _React$Component);

  var _super = _createSuper(EditableSidebarContentComp);

  function EditableSidebarContentComp() {
    var _this;

    _classCallCheck(this, EditableSidebarContentComp);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      newData: _this.props.data
    });

    _defineProperty(_assertThisInitialized(_this), "onSave", function () {
      return _this.props.sendApiData('PUT', "/api/unit/".concat(_this.props.unit.id, "/sidebar/").concat(_this.props.data.id), _this.state.newData);
    });

    _defineProperty(_assertThisInitialized(_this), "onDelete", function () {
      return _this.props.sendApiData('DELETE', "/api/unit/".concat(_this.props.unit.id, "/sidebar/").concat(_this.props.data.id), {});
    });

    _defineProperty(_assertThisInitialized(_this), "setData", function (newStuff) {
      _this.setState({
        newData: lodash__WEBPACK_IMPORTED_MODULE_3___default.a.merge(lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(_this.state.newData), newStuff)
      });
    });

    return _this;
  }

  _createClass(EditableSidebarContentComp, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(this.props, nextProps)) this.setState({
        newData: nextProps.data
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var data = this.props.data;

      var dataIsSame = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(data, this.state.newData);

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, data.kind == "Text" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "title"
      }, "Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "title",
        type: "text",
        defaultValue: data.attrs.title,
        onChange: function onChange(event) {
          return _this2.setData({
            attrs: {
              title: event.target.value
            }
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "text"
      }, "Text"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_WysiwygEditorComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        id: "text",
        html: data.attrs.html,
        unit: this.props.unit.id,
        imageContext: "sidebar",
        onChange: function onChange(newText) {
          return _this2.setData({
            attrs: {
              html: newText
            }
          });
        }
      })), data.kind == "TwitterFeed" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "title"
      }, "Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "title",
        type: "text",
        defaultValue: data.attrs.title,
        onChange: function onChange(event) {
          return _this2.setData({
            attrs: {
              title: event.target.value
            }
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "c-editable-page__label",
        htmlFor: "twitter_handle"
      }, "Twitter Handle"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "The portion of your Twitter page's URL that appears after: http://www.twitter.com/_____"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        className: "c-editable-page__input",
        id: "twitter_handle",
        type: "text",
        defaultValue: data.attrs.twitter_handle,
        onChange: function onChange(event) {
          return _this2.setData({
            attrs: {
              twitter_handle: event.target.value
            }
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-editable-page__button",
        onClick: this.onSave,
        disabled: dataIsSame
      }, "Save"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-editable-page__button",
        onClick: this.onDelete
      }, "Delete")));
    }
  }]);

  return EditableSidebarContentComp;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(EditableSidebarContentComp, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    kind: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    attrs: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
  })
});

var UnitSidebarConfigLayout = /*#__PURE__*/function (_React$Component2) {
  _inherits(UnitSidebarConfigLayout, _React$Component2);

  var _super2 = _createSuper(UnitSidebarConfigLayout);

  function UnitSidebarConfigLayout() {
    _classCallCheck(this, UnitSidebarConfigLayout);

    return _super2.apply(this, arguments);
  }

  _createClass(UnitSidebarConfigLayout, [{
    key: "render",
    value: function render() {
      var p = this.props;
      var title = p.data.kind == "Text" && p.data.attrs.title ? p.data.attrs.title : p.data.kind.replace(/([a-z])([A-Z][a-z])/g, "$1 $2");
      var kindStr = p.data.kind == "Text" ? "text widget" : "built-in widget";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "".concat(title, " (").concat(kindStr, ")"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditableSidebarContentComp, {
        unit: p.unit,
        data: p.data,
        sendApiData: p.sendApiData
      }))));
    }
  }]);

  return UnitSidebarConfigLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitSidebarConfigLayout, "propTypes", {
  sendApiData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  unit: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  }).isRequired,
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    kind: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    attrs: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
  })
});



/***/ }),

/***/ "./app/jsx/layouts/UnitStaticPageLayout.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/layouts/UnitStaticPageLayout.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }






var UnitStaticPageLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(UnitStaticPageLayout, _React$Component);

  var _super = _createSuper(UnitStaticPageLayout);

  function UnitStaticPageLayout() {
    _classCallCheck(this, UnitStaticPageLayout);

    return _super.apply(this, arguments);
  }

  _createClass(UnitStaticPageLayout, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, this.props.data.title)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        html: this.props.data.attrs.html,
        h1Level: 2
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, this.props.sidebar));
    }
  }]);

  return UnitStaticPageLayout;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(UnitStaticPageLayout, "propTypes", {
  data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    slug: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    attrs: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      html: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
    })
  }),
  sidebar: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (UnitStaticPageLayout);

/***/ }),

/***/ "./app/jsx/layouts/UnitUserConfigLayout.jsx":
/*!**************************************************!*\
  !*** ./app/jsx/layouts/UnitUserConfigLayout.jsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UnitUserConfigLayout; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }







var UnitUserConfigLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(UnitUserConfigLayout, _React$Component);

  var _super = _createSuper(UnitUserConfigLayout);

  function UnitUserConfigLayout() {
    var _this;

    _classCallCheck(this, UnitUserConfigLayout);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "state", {
      anyChanges: false
    });

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event, data, sendApiData) {
      event.preventDefault();
      sendApiData("PUT", event.target.action, {
        data: data
      });
    });

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_4__["default"].CMS.Consumer, null, function (cms) {
        var p = _this.props,
            sendApiData = p.sendApiData,
            disableEdit = !(cms.permissions && cms.permissions["super"]);
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "User Configuration"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-columns"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
          className: "o-columnbox1"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
          to: "/api/unit/".concat(p.unit.id, "/userConfig"),
          onSubmit: function onSubmit(event, data) {
            return _this.handleSubmit(event, data, p.sendApiData);
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-datatable-nomaxheight"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col"
        }, "Name"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col"
        }, "Account"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col"
        }, "Admin"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col"
        }, "Stats"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col"
        }, "Submit"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_3___default.a.map(p.data.user_roles, function (row) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
            key: row.user_id
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            className: "c-editable-tableCell"
          }, row.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            className: "c-editable-tableCell"
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
            to: "/userAccount/".concat(row.user_id)
          }, row.email)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            className: "c-editable-tableCell"
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
            type: "checkbox",
            name: "admin-".concat(row.user_id),
            defaultChecked: row.roles.admin,
            disabled: disableEdit,
            onChange: function onChange() {
              return _this.setState({
                anyChanges: true
              });
            }
          })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            className: "c-editable-tableCell"
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
            type: "checkbox",
            name: "stats-".concat(row.user_id),
            defaultChecked: row.roles.stats,
            disabled: disableEdit,
            onChange: function onChange() {
              return _this.setState({
                anyChanges: true
              });
            }
          })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            className: "c-editable-tableCell"
          }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
            type: "checkbox",
            name: "submit-".concat(row.user_id),
            defaultChecked: row.roles.submit,
            disabled: disableEdit,
            onChange: function onChange() {
              return _this.setState({
                anyChanges: true
              });
            }
          })));
        }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: "newuser"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "(add role for user)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "email",
          name: "email-newuser",
          disabled: disableEdit,
          placeholder: "existing email"
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "checkbox",
          name: "admin-newuser",
          disabled: disableEdit,
          onChange: function onChange() {
            return _this.setState({
              anyChanges: true
            });
          }
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "checkbox",
          name: "stats-newuser",
          disabled: disableEdit,
          onChange: function onChange() {
            return _this.setState({
              anyChanges: true
            });
          }
        })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
          type: "checkbox",
          name: "submit-newuser",
          disabled: disableEdit,
          onChange: function onChange() {
            return _this.setState({
              anyChanges: true
            });
          }
        })))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          type: "submit",
          disabled: !_this.state.anyChanges,
          className: "c-editable-pCell"
        }, "Save changes"))))));
      });
    });

    return _this;
  }

  return _createClass(UnitUserConfigLayout);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);



/***/ }),

/***/ "./app/jsx/objects/MediaFeatureObj.jsx":
/*!*********************************************!*\
  !*** ./app/jsx/objects/MediaFeatureObj.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js/MediaPath.js */ "./app/js/MediaPath.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Media Feature Object ##### //
// # Combines functionality of all the individual Media feature Objects   //
// #  that were created by Joel: (Audio, Data, Image, Video)         //



var MediaFeatureObj = /*#__PURE__*/function (_React$Component) {
  _inherits(MediaFeatureObj, _React$Component);

  var _super = _createSuper(MediaFeatureObj);

  function MediaFeatureObj() {
    _classCallCheck(this, MediaFeatureObj);

    return _super.apply(this, arguments);
  }

  _createClass(MediaFeatureObj, [{
    key: "render",
    value: function render() {
      var _this = this;

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafeature--" + this.props.type
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, this.props.title), function () {
        switch (_this.props.type) {
          case "image":
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
              className: "o-mediafeature__item"
            }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
              src: _this.props.url,
              alt: _this.props.title
            }));

          case "video":
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
              className: "o-mediafeature__item"
            }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("video", {
              src: _this.props.url,
              controls: true,
              poster: _js_MediaPath_js__WEBPACK_IMPORTED_MODULE_1__["default"] + 'logo_eschol-media-thumbnail.png'
            }));

          case "audio":
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
              className: "o-mediafeature__item"
            }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("audio", {
              src: _this.props.url,
              controls: true
            }));

          default:
            // data
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
              className: "o-mediafeature__item"
            }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, "No preview available"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
              className: "o-textlink__left-icon",
              href: _this.props.url,
              download: _this.props.file
            }, "Download ", _this.props.title));
        }
      }(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafeature__description"
      }, this.props.description), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "{this.props.doi}",
        className: "o-mediafeature__doi"
      }, this.props.doi));
    }
  }]);

  return MediaFeatureObj;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (MediaFeatureObj);

/***/ }),

/***/ "./app/jsx/objects/MediaViewerObj.jsx":
/*!********************************************!*\
  !*** ./app/jsx/objects/MediaViewerObj.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Media Viewer Object ##### //
// # Combines functionality of all the individual Media Viewer Objects   //
// #  that were created by Joel: (Audio, Data, Image, Video)         //




var MediaViewerObj = /*#__PURE__*/function (_React$Component) {
  _inherits(MediaViewerObj, _React$Component);

  var _super = _createSuper(MediaViewerObj);

  function MediaViewerObj() {
    _classCallCheck(this, MediaViewerObj);

    return _super.apply(this, arguments);
  }

  _createClass(MediaViewerObj, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('.o-mediafile__heading, .o-mediafile__description').dotdotdot({
        watch: 'window'
      });
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props,
          m = {
        "audio": "play audio file",
        "image": "view larger",
        "video": "play video file"
      },
          fileLabel = m[p.mimeSimple] ? m[p.mimeSimple] : p.file;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: p.isSelected ? "o-mediafile--" + p.mimeSimple + "--selected" : "o-mediafile--" + p.mimeSimple
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "o-mediafile__heading"
      }, p.title), p.mimeSimple == "image" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafile__preview",
        href: p.url,
        onClick: p.openViewer
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        src: p.url,
        alt: p.title
      })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafile__preview",
        href: p.url,
        "aria-label": fileLabel,
        onClick: p.openViewer
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-mediafile__description"
      }, p.description), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "o-mediafile__view",
        onClick: p.openViewer
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "View Media")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: p.url,
        className: "o-mediafile__download",
        download: p.file
      }, "Download"));
    }
  }]);

  return MediaViewerObj;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(MediaViewerObj, "propTypes", {
  mimeSimple: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  file: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  description: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  url: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  isSelected: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  openViewer: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any.isRequired
});

/* harmony default export */ __webpack_exports__["default"] = (MediaViewerObj);

/***/ }),

/***/ "./app/jsx/objects/TruncationObj.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/objects/TruncationObj.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TruncationObj; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom/server */ "./node_modules/react-dom/server.browser.js");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_3__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Dotdotdot Truncation Object ##### //



 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}
/**
  Well, jquery.dotdotdot is awesome, but takes time to process (doubly so on Firefox).
  So, we need to init dotdotdot in the background as time allows, to keep the page
  responsive for the user. That's what the queue below is all about.
*/


var JobQueue = /*#__PURE__*/function () {
  function JobQueue() {
    var _this = this;

    _classCallCheck(this, JobQueue);

    _defineProperty(this, "queue", []);

    _defineProperty(this, "service", function () {
      var start = new Date();
      var n = 0;

      while (_this.queue.length > 0 && new Date() - start < 100) {
        var job = _this.queue.shift();

        job();
        n++;
      }

      setTimeout(_this.service, 10);
    });

    setTimeout(this.service, 10);
  }

  _createClass(JobQueue, [{
    key: "append",
    value: function append(job) {
      this.queue.push(job);
    }
  }]);

  return JobQueue;
}();

var job_queue = null;

if (!(typeof document === "undefined")) {
  job_queue = new JobQueue(10); // timeslice of 10ms per iteration
}

var TruncationObj = /*#__PURE__*/function (_React$Component) {
  _inherits(TruncationObj, _React$Component);

  var _super = _createSuper(TruncationObj);

  function TruncationObj() {
    var _this2;

    _classCallCheck(this, TruncationObj);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this2 = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "render", function () {
      var content = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default.a.renderToStaticMarkup( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, _this2.props.children)).replace(/^<div>/, '').replace(/<\/div>$/, ''); // do NOT truncate if we detect MathJax, delimiters can be \\(  \\[  $$
      // only use test here... a match is slow/has a negative impact on performance

      if (/\\\(|\\\[|\$\$/.test(content)) {
        // heuristic to detect MathJax
        _this2.truncate = false;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_this2.props.element, {
          className: _this2.props.className,
          ref: function ref(el) {
            return _this2.domEl = el;
          }
        }, _this2.props.children);
      } else {
        _this2.truncate = true;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_this2.props.element, {
          className: _this2.props.className,
          ref: function ref(el) {
            return _this2.domEl = el;
          },
          dangerouslySetInnerHTML: {
            __html: content
          }
        });
      }
    });

    return _this2;
  }

  _createClass(TruncationObj, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this3 = this;

      // Don't do truncation on scripted tests (too hard to wait for completion)
      if (navigator.userAgent != "puppeteer" && this.truncate) {
        job_queue.append(function () {
          if (_this3.domEl) {
            jquery__WEBPACK_IMPORTED_MODULE_2___default()(_this3.domEl).dotdotdot(_this3.props.options ? _this3.props.options : {
              watch: "window"
            });
            job_queue.append(function () {
              return _this3.domEl && jquery__WEBPACK_IMPORTED_MODULE_2___default()(_this3.domEl).trigger("update");
            });
          }
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.domEl = null;
    }
  }]);

  return TruncationObj;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

_defineProperty(TruncationObj, "propTypes", {
  element: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  options: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
});



/***/ }),

/***/ "./app/jsx/pages/BrowsePage.jsx":
/*!**************************************!*\
  !*** ./app/jsx/pages/BrowsePage.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Header2Comp.jsx */ "./app/jsx/components/Header2Comp.jsx");
/* harmony import */ var _components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/SubheaderComp.jsx */ "./app/jsx/components/SubheaderComp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/BreadcrumbComp.jsx */ "./app/jsx/components/BreadcrumbComp.jsx");
/* harmony import */ var _components_DescriptionListComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/DescriptionListComp.jsx */ "./app/jsx/components/DescriptionListComp.jsx");
/* harmony import */ var _components_ToggleListComp_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/ToggleListComp.jsx */ "./app/jsx/components/ToggleListComp.jsx");
/* harmony import */ var _components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/SidebarComp.jsx */ "./app/jsx/components/SidebarComp.jsx");
/* harmony import */ var _components_NotYetLink_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/NotYetLink.jsx */ "./app/jsx/components/NotYetLink.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Browse Page ##### // 














var BrowsePage = /*#__PURE__*/function (_PageBase) {
  _inherits(BrowsePage, _PageBase);

  var _super = _createSuper(BrowsePage);

  function BrowsePage() {
    _classCallCheck(this, BrowsePage);

    return _super.apply(this, arguments);
  }

  _createClass(BrowsePage, [{
    key: "pagePermissionsUnit",
    value: function pagePermissionsUnit() {
      return this.props.match.params.campusID ? this.props.match.params.campusID : "root";
    }
  }, {
    key: "renderData",
    value: function renderData(data) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, ["campuses", "all_journals"].includes(data.browse_type) ?
      /*#__PURE__*/
      // Global browse page
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        data: data.header.nav_bar
      }))) :
      /*#__PURE__*/
      // Campus-specific browse page
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        type: "campus",
        unitID: data.campusID
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        unit: data.unit,
        header: data.header
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        data: data.header.nav_bar
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        array: data.breadcrumb
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Content, data));
    }
  }]);

  return BrowsePage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__["default"]);

var Content = /*#__PURE__*/function (_React$Component) {
  _inherits(Content, _React$Component);

  var _super2 = _createSuper(Content);

  function Content() {
    _classCallCheck(this, Content);

    return _super2.apply(this, arguments);
  }

  _createClass(Content, [{
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, p.browse_type == "campuses" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AllCampuses, {
        campusesStats: p.campusesStats,
        otherStats: p.otherStats
      }), p.browse_type == "all_journals" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AllJournals, {
        journals: p.journals,
        archived: p.archived,
        campuses: p.campuses
      }), p.browse_type == "units" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CampusUnits, {
        campus: p.unit,
        units: p.campusUnits,
        pageTitle: p.pageTitle
      }), p.browse_type == "journals" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CampusJournals, {
        campus: p.unit,
        journals: p.campusJournals,
        archived: p.campusJournalsArchived,
        pageTitle: p.pageTitle
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        data: this.props.sidebar
      })));
    }
  }]);

  return Content;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var AllCampuses = /*#__PURE__*/function (_React$Component2) {
  _inherits(AllCampuses, _React$Component2);

  var _super3 = _createSuper(AllCampuses);

  function AllCampuses() {
    _classCallCheck(this, AllCampuses);

    return _super3.apply(this, arguments);
  }

  _createClass(AllCampuses, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
        title: "Campuses"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Campuses and Other Locations")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DescriptionListComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        campusesStats: this.props.campusesStats,
        otherStats: this.props.otherStats
      }));
    }
  }]);

  return AllCampuses;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var AllJournals = /*#__PURE__*/function (_React$Component3) {
  _inherits(AllJournals, _React$Component3);

  var _super4 = _createSuper(AllJournals);

  function AllJournals(props) {
    var _this;

    _classCallCheck(this, AllJournals);

    _this = _super4.call(this, props);
    _this.state = {
      campusID: "",
      isActive: props.isActive
    };
    _this.changeCampus = _this.changeCampus.bind(_assertThisInitialized(_this));
    return _this;
  }

  _createClass(AllJournals, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.setState({
        campusID: ""
      });
    } // 'journals' property (JSON)
    // i.e. {:id=>"ao4elt4",
    //       :name=> "Adaptive Optics ...",
    //       :ancestor_unit=>["ucla", "ucsc"],
    //       :status=>"active"}

  }, {
    key: "getVisibleJournals",
    value: function getVisibleJournals(journals, campusID) {
      var foundOne = false;
      var r = journals.map(function (j, i) {
        var p = (campusID == "" || j['ancestor_unit'].includes(campusID)) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + j["id"]
        }, j["name"]));

        if (p) {
          foundOne = true;
        }

        return p;
      });
      return foundOne ? r : false;
    }
  }, {
    key: "changeCampus",
    value: function changeCampus(event) {
      this.setState({
        campusID: event.target.value
      });
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props,
          visibleJournals = this.getVisibleJournals(p.journals, this.state.campusID),
          visibleArchived = this.getVisibleJournals(p.archived, this.state.campusID),
          campusSelector = p.campuses.map(function (c, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: i,
          value: c['id']
        }, c['name']);
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
        title: "Journals"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Journals")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-well-colored"
      }, "Are you a UC-affiliated faculty member, researcher, or student interested in publishing a journal on eScholarship? ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/solutions/articles/9000127857-starting-a-new-journal-on-escholarship"
      }, "Learn more about the journal proposal process"), "."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__inline"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        className: "o-input__label--hidden",
        htmlFor: "o-input__droplist-label2"
      }, "Campus"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        name: "campusID",
        id: "o-input__droplist-label2",
        onChange: this.changeCampus,
        value: this.state.campusID
      }, campusSelector))), visibleJournals && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "o-textlist2"
      }, visibleJournals), visibleArchived && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Archived Journals"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "o-textlist2"
      }, visibleArchived)), !(visibleJournals || visibleArchived) && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "1"
      }, "No journals found matching that criteria", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))], /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null));
    }
  }]);

  return AllJournals;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var CampusUnits = /*#__PURE__*/function (_React$Component4) {
  _inherits(CampusUnits, _React$Component4);

  var _super5 = _createSuper(CampusUnits);

  function CampusUnits() {
    _classCallCheck(this, CampusUnits);

    return _super5.apply(this, arguments);
  }

  _createClass(CampusUnits, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
        title: this.props.pageTitle + " - " + this.props.campus.name
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, this.props.pageTitle)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-well-colored"
      }, "Looking for an academic or research unit that's not listed? ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "https://help.escholarship.org/support/solutions/articles/9000131086-request-a-new-unit"
      }, "Learn how to add yours"), "."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ToggleListComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
        depts: this.props.units
      }));
    }
  }]);

  return CampusUnits;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var CampusJournals = /*#__PURE__*/function (_React$Component5) {
  _inherits(CampusJournals, _React$Component5);

  var _super6 = _createSuper(CampusJournals);

  function CampusJournals() {
    _classCallCheck(this, CampusJournals);

    return _super6.apply(this, arguments);
  }

  _createClass(CampusJournals, [{
    key: "getVisibleJournals",
    value: function getVisibleJournals(journals) {
      return journals.map(function (j, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: i
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/" + j["id"]
        }, j["name"]));
      });
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props,
          visibleJournals = p.journals.length > 0 ? this.getVisibleJournals(p.journals) : null,
          visibleArchived = p.archived.length > 0 ? this.getVisibleJournals(p.archived) : null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
        title: this.props.pageTitle + " - " + this.props.campus.name
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, this.props.pageTitle)), visibleJournals && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "o-textlist2"
      }, visibleJournals), visibleArchived && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Archived Journals"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "o-textlist2"
      }, visibleArchived)), !(visibleJournals || visibleArchived) && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "0"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        key: "1"
      }, "No journals currently listed.", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null))]);
    }
  }]);

  return CampusJournals;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (BrowsePage);

/***/ }),

/***/ "./app/jsx/pages/GlobalStaticPage.jsx":
/*!********************************************!*\
  !*** ./app/jsx/pages/GlobalStaticPage.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GlobalStaticPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ServerErrorComp.jsx */ "./app/jsx/components/ServerErrorComp.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/NavBarComp.jsx */ "./app/jsx/components/NavBarComp.jsx");
/* harmony import */ var _components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/BreadcrumbComp.jsx */ "./app/jsx/components/BreadcrumbComp.jsx");
/* harmony import */ var _components_WizardComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/WizardComp.jsx */ "./app/jsx/components/WizardComp.jsx");
/* harmony import */ var _components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/SidebarComp.jsx */ "./app/jsx/components/SidebarComp.jsx");
/* harmony import */ var _layouts_UnitStaticPageLayout_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../layouts/UnitStaticPageLayout.jsx */ "./app/jsx/layouts/UnitStaticPageLayout.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }













var NotFoundLayout = /*#__PURE__*/function (_React$Component) {
  _inherits(NotFoundLayout, _React$Component);

  var _super = _createSuper(NotFoundLayout);

  function NotFoundLayout() {
    var _this;

    _classCallCheck(this, NotFoundLayout);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        error: "Not Found"
      }))));
    });

    return _this;
  }

  return _createClass(NotFoundLayout);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var GlobalStaticPage = /*#__PURE__*/function (_PageBase) {
  _inherits(GlobalStaticPage, _PageBase);

  var _super2 = _createSuper(GlobalStaticPage);

  function GlobalStaticPage() {
    var _this2;

    _classCallCheck(this, GlobalStaticPage);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "state", {
      modalOpen: false
    });

    _defineProperty(_assertThisInitialized(_this2), "closeWizardModal", function (e) {
      _this2.setState({
        modalOpen: false
      });
    });

    return _this2;
  }

  _createClass(GlobalStaticPage, [{
    key: "pagePermissionsUnit",
    value: // Unit ID for permissions checking
    function pagePermissionsUnit() {
      return "root";
    }
  }, {
    key: "renderData",
    value: function renderData(data) {
      var _this3 = this;

      var sidebar = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        data: data.sidebar
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        navBar: data.header.nav_bar,
        unit: data.unit,
        socialProps: data.header.social
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        title: data.pageNotFound ? "Not Found" : data.content && data.content.title ? data.content.title : "eScholarship"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("link", {
        rel: "canonical",
        href: "https://escholarship.org" + this.props.location.pathname
      })), data.pageNotFound ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NotFoundLayout, null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "wizardModalBase"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        array: data.header.breadcrumb
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        style: {
          display: 'none'
        },
        id: "wizardlyDeposit",
        onClick: function onClick(event) {
          _this3.setState({
            modalOpen: true
          });

          event.preventDefault();
        }
      }, "Deposit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_WizardComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        showModal: this.state.modalOpen,
        parentSelector: function parentSelector() {
          return $('#wizardModalBase')[0];
        },
        onCancel: function onCancel(e) {
          return _this3.closeWizardModal(e);
        },
        campuses: data.header.campuses,
        data: {
          campusID: null,
          campusName: null,
          unitID: null,
          unitName: null
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitStaticPageLayout_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
        unit: data.unit,
        data: data.content,
        sidebar: sidebar,
        fetchPageData: this.fetchPageData
      })));
    }
  }]);

  return GlobalStaticPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__["default"]);


/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")))

/***/ }),

/***/ "./app/jsx/pages/HomePage.jsx":
/*!************************************!*\
  !*** ./app/jsx/pages/HomePage.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json");
var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json", 1);
/* harmony import */ var _components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/ScrollingAnchorComp.jsx */ "./app/jsx/components/ScrollingAnchorComp.jsx");
/* harmony import */ var _components_HeroComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/HeroComp.jsx */ "./app/jsx/components/HeroComp.jsx");
/* harmony import */ var _components_PromoComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/PromoComp.jsx */ "./app/jsx/components/PromoComp.jsx");
/* harmony import */ var _components_TeaserComp_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/TeaserComp.jsx */ "./app/jsx/components/TeaserComp.jsx");
/* harmony import */ var _components_HomeSection1Comp_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/HomeSection1Comp.jsx */ "./app/jsx/components/HomeSection1Comp.jsx");
/* harmony import */ var _components_HomeSection2Comp_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/HomeSection2Comp.jsx */ "./app/jsx/components/HomeSection2Comp.jsx");
/* harmony import */ var _components_HomeSection3Comp_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/HomeSection3Comp.jsx */ "./app/jsx/components/HomeSection3Comp.jsx");
/* harmony import */ var _components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/FooterComp.jsx */ "./app/jsx/components/FooterComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Home ##### //
















var HomePage = /*#__PURE__*/function (_PageBase) {
  _inherits(HomePage, _PageBase);

  var _super = _createSuper(HomePage);

  function HomePage() {
    var _this;

    _classCallCheck(this, HomePage);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "changeAnchor", function (name) {
      // Set hash based on what was clicked.
      window.location.hash = name;
    });

    return _this;
  }

  _createClass(HomePage, [{
    key: "renderData",
    value: function renderData(data) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
        title: "eScholarship",
        descrip: "Open Access Publications from the University of California"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "og-url",
        property: "og:url",
        content: "https://escholarship.org"
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        data: data.header.nav_bar
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PromoComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HeroComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        hero_data: data.hero_data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TeaserComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
        changeAnchor: this.changeAnchor
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "c-homesection"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Why Open Access with eScholarship?")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HomeSection1Comp_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        stats: data.stats
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        name: "home_publishing"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "c-homesection"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "eScholarship is an open access publishing platform")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HomeSection3Comp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
        count_journals: data.stats.statsCountEscholJournals
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScrollingAnchorComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        name: "home_repository"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "c-homesection"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "eScholarship is the institutional repository for the UC system")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_HomeSection2Comp_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
        stats: data.stats,
        campuses: data.header.campuses
      }))));
    }
  }]);

  return HomePage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__["default"]);

_defineProperty(HomePage, "propTypes", {
  hero_data: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    unit_id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    unit_name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    hero: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
      url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
      width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
      height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
    })
  }),
  stats: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    statsCountItems: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    statsCountViews: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    // statsCountOpenItems: PropTypes.number.isRequired,
    statsCountEscholJournals: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    statsCountOrus: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    statsCountArticles: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    statsCountThesesDiss: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    statsCountBooks: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
  })
});

/* harmony default export */ __webpack_exports__["default"] = (HomePage);

/***/ }),

/***/ "./app/jsx/pages/ItemPage.jsx":
/*!************************************!*\
  !*** ./app/jsx/pages/ItemPage.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Header2Comp.jsx */ "./app/jsx/components/Header2Comp.jsx");
/* harmony import */ var _components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/SubheaderComp.jsx */ "./app/jsx/components/SubheaderComp.jsx");
/* harmony import */ var _components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/NavBarComp.jsx */ "./app/jsx/components/NavBarComp.jsx");
/* harmony import */ var _components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/BreadcrumbComp.jsx */ "./app/jsx/components/BreadcrumbComp.jsx");
/* harmony import */ var _components_ItemActionsComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/ItemActionsComp.jsx */ "./app/jsx/components/ItemActionsComp.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/AuthorListComp.jsx */ "./app/jsx/components/AuthorListComp.jsx");
/* harmony import */ var _components_PubInfoComp_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/PubInfoComp.jsx */ "./app/jsx/components/PubInfoComp.jsx");
/* harmony import */ var _components_TabsComp_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/TabsComp.jsx */ "./app/jsx/components/TabsComp.jsx");
/* harmony import */ var _components_JumpComp_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/JumpComp.jsx */ "./app/jsx/components/JumpComp.jsx");
/* harmony import */ var _components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/SidebarComp.jsx */ "./app/jsx/components/SidebarComp.jsx");
/* harmony import */ var _components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/FooterComp.jsx */ "./app/jsx/components/FooterComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// ##### Item Page ##### //
















 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var tab_anchors = ['main', 'supplemental', 'metrics', 'author', 'meta'];
var anchors = tab_anchors.concat(['article_abstract', 'article_main', 'article_references']);
var MONTHS = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

var ItemPage = /*#__PURE__*/function (_PageBase) {
  _inherits(ItemPage, _PageBase);

  var _super = _createSuper(ItemPage);

  function ItemPage() {
    var _this;

    _classCallCheck(this, ItemPage);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "articleHashHandler", function (h, toc) {
      if (/^article|^$/.test(h)) return "main";

      if (toc) {
        for (var i in toc.divs) {
          if (h == toc.divs[i].anchor) return "main";
        }
      }

      return h;
    });

    _defineProperty(_assertThisInitialized(_this), "state", {
      currentTab: "main"
    });

    _defineProperty(_assertThisInitialized(_this), "formatDate", function (d) {
      if (d) {
        // The Javascript API for the Date object is incredibly horrible:
        // 1. It assumes UTC at strange times
        // 2. Months are numbered starting from 0. Who ever heard of 0=January?
        // 3. getDay() returns day *of the week*. getDate() is day-of-month.
        // It's just so crazy. So, let's just parse and format manually.
        var m = /^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(d);
        if (m == null) return d; // fall back if we can't parse it

        var year = parseInt(m[1]);
        var month = parseInt(m[2]);
        var day = parseInt(m[3]);
        return "".concat(MONTHS[month - 1], " ").concat(day, ", ").concat(year);
      } else {
        return new Date().toLocaleString("en-us", {
          year: "numeric",
          month: "long",
          day: "numeric"
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "changeTab", function (tabName) {
      var toc = _this.state.pageData && _this.state.pageData.attrs && _this.state.pageData.attrs.toc;

      var newTab = _this.articleHashHandler(tabName.toLowerCase().replace(/^#/, ""), toc);

      if (newTab != _this.state.currentTab) {
        _this.setState({
          currentTab: _this.articleHashHandler(tabName, toc)
        }); // Set hash based on what was clicked. Since we are switching tabs,
        // delay a little for the render so the target anchor will be available.


        setTimeout(function () {
          return window.location.hash = tabName;
        }, 200);
      } else window.location.hash = tabName;
    });

    _defineProperty(_assertThisInitialized(_this), "renderData", function (data) {
      var currentTab = tab_anchors.includes(_this.state.currentTab) ? _this.state.currentTab : "main";
      var d = data;
      var a = d.attrs;
      var meta_authors = a.author_hide ? null : d.authors.slice(0, 85).map(function (author, i) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          key: i,
          id: "meta-author" + i,
          name: "citation_author",
          content: author.name
        });
      });
      var descr_authors = a.author_hide ? "" : d.authors.length > 0 ? "Author(s): " + d.authors.slice(0, 85).map(function (author) {
        return author.name;
      }).join('; ') : "";
      var descr_editors = d.editors ? "Editor(s): " + d.editors.slice(0, 85).map(function (editor) {
        return editor.name;
      }).join('; ') : "";
      var descr_advisors = d.advisors ? "Advisor(s): " + d.advisors.slice(0, 85).map(function (advisor) {
        return advisor.name;
      }).join('; ') : "";
      var contribs = [descr_authors, descr_editors, descr_advisors].filter(function (e) {
        return e !== '';
      }).join(' | ');
      var journal_title = d.unit && d.unit.type == 'journal' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-journal_title",
        name: "citation_journal_title",
        content: d.unit.name
      }) : null;
      var issn = null,
          volume = null,
          issue = null,
          firstpage = null,
          lastpage = null;

      if (a['ext_journal']) {
        var extj = a['ext_journal'];
        journal_title = extj['name'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-journal_title",
          name: "citation_journal_title",
          content: extj['name']
        });
        issn = extj['issn'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-issn",
          name: "citation_issn",
          content: extj['issn']
        });
        volume = extj['volume'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-volume",
          name: "citation_volume",
          content: extj['volume']
        });
        issue = extj['issue'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-issue",
          name: "citation_issue",
          content: extj['issue']
        });
        firstpage = extj['fpage'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-firstpage",
          name: "citation_firstpage",
          content: extj['fpage']
        });
        lastpage = extj['lpage'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-lastpage",
          name: "citation_lastpage",
          content: extj['lpage']
        });
      } else if (d.citation) {
        var c = d.citation;
        issn = c['issn'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-issn",
          name: "citation_issn",
          content: c['issn']
        });
        volume = c['volume'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-volume",
          name: "citation_volume",
          content: c['volume']
        });
        issue = c['issue'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
          id: "meta-issue",
          name: "citation_issue",
          content: c['issue']
        });
      }

      var keywords = a.disciplines ? a.disciplines.join('; ') : null;
      var isWithdrawn = /withdrawn/.test(d.status);
      d.unit && _this.extGA(d.unit.id); // Google Analytics for external trackers called from PageBase

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, d.status == "pending" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "c-preview-watermark"
      }), isWithdrawn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], null, " ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-robots",
        name: "robots",
        content: "noindex"
      }), " "), !isWithdrawn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
        title: d.title,
        contribs: contribs,
        "abstract": a["abstract"]
      }, meta_authors, d.published && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-publication_date",
        name: "citation_publication_date",
        content: d.published
      }), a.isbn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-isbn",
        name: "citation_isbn",
        content: a.isbn
      }), a.doi && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-doi",
        name: "citation_doi",
        content: a.doi
      }), journal_title, " ", issn, " ", volume, " ", issue, " ", firstpage, " ", lastpage, d.genre == 'dissertation' && d.header && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-dissertation_institution",
        name: "citation_dissertation_institution",
        content: d.header.breadcrumb[1]['name']
      }), d.added && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-online_date",
        name: "citation_online_date",
        content: d.added
      }), keywords && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-keywords",
        name: "citation_keywords",
        content: keywords
      }), !d.download_restricted && d.pdf_url && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-pdf_url",
        name: "citation_pdf_url",
        content: d.pdf_url.substr(0, 4) == "http" ? d.pdf_url : "https://escholarship.org" + d.pdf_url
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("link", {
        rel: "canonical",
        href: "https://escholarship.org/uc/item/" + d.id
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        type: d.unit ? d.unit.type : null,
        unitID: d.appearsIn && d.appearsIn.length > 0 ? d.appearsIn[0]["id"] : null,
        hideAdminBar: true
      }), d.header && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        unit: d.unit,
        header: d.header
      }), d.header && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        navBar: d.header.nav_bar,
        unit: d.unit,
        socialProps: d.header.social
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        array: d.header ? d.header.breadcrumb : null
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: _this.state.fetchingData ? "c-columns--sticky-sidebar is-loading-data" : "c-columns--sticky-sidebar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ItemActionsComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        id: d.id,
        status: d.status,
        content_type: d.content_type,
        pdf_url: d.pdf_url,
        attrs: d.attrs,
        download_restricted: d.download_restricted,
        sendApiData: _this.sendApiData,
        journal_id: d.unit.id
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "c-tabcontent__main-heading",
        tabIndex: "-1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
        html: d.title
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_AuthorListComp_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        pubdate: d.published,
        source: d.source,
        author_hide: a.author_hide,
        authors: d.authors,
        editors: d.editors,
        advisors: d.advisors,
        changeTab: _this.changeTab
      }), (a.doi || a.pub_web_loc || d.rights || d.attrs.data_avail_stmnt || !d.content_type) && !isWithdrawn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PubInfoComp_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
        doi: a.doi,
        pub_web_loc: a.pub_web_loc,
        content_type: d.content_type,
        data_avail_stmnt: d.attrs.data_avail_stmnt,
        rights: d.rights
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_TabsComp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], _extends({
        currentTab: currentTab,
        changeTab: _this.changeTab,
        formatDate: _this.formatDate
      }, d))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, d.status == "published" && d.content_type && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_JumpComp_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
        changeTab: _this.changeTab,
        genre: d.genre,
        attrs: d.attrs
      }), d.sidebar && !isWithdrawn && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
        data: d.sidebar
      }))));
    });

    return _this;
  }

  _createClass(ItemPage, [{
    key: "pagePermissionsUnit",
    value: // Unit ID for permissions checking
    function pagePermissionsUnit() {
      return "root"; // This is only being used for super user access
    }
  }, {
    key: "tabNameFromHash",
    value: function tabNameFromHash() {
      return !(typeof location === "undefined") ? location.hash.toLowerCase().replace(/^#/, "") : "";
    } // currentTab should be 'main' whenever hash starts with 'article_" (or is empty)

  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      var toc = this.state.pageData && this.state.pageData.attrs && this.state.pageData.attrs.toc;
      this.setState({
        currentTab: this.articleHashHandler(this.tabNameFromHash(), toc)
      }); // Check hash whenever back or forward button clicked

      window.onpopstate = function (event) {
        var toc = _this2.state.pageData && _this2.state.pageData.attrs && _this2.state.pageData.attrs.toc;

        var h = _this2.articleHashHandler(_this2.tabNameFromHash(), toc);

        if (h != _this2.state.currentTab && anchors.includes(h)) {
          _this2.setState({
            currentTab: h
          });
        }
      }; // This is overriding PageBase componentDidMount
      // ToDo: https://medium.com/@dan_abramov/how-to-use-classes-and-sleep-at-night-9af8de78ccb4


      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      _get(_getPrototypeOf(ItemPage.prototype), "componentDidMount", this).apply(this, args);
    }
  }]);

  return ItemPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_3__["default"]);

_defineProperty(ItemPage, "propTypes", {
  currentTab: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(anchors)
});

/* harmony default export */ __webpack_exports__["default"] = (ItemPage);

/***/ }),

/***/ "./app/jsx/pages/LoginPage.jsx":
/*!*************************************!*\
  !*** ./app/jsx/pages/LoginPage.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }







var LoginPage = /*#__PURE__*/function (_PageBase) {
  _inherits(LoginPage, _PageBase);

  var _super = _createSuper(LoginPage);

  function LoginPage() {
    _classCallCheck(this, LoginPage);

    return _super.apply(this, arguments);
  }

  _createClass(LoginPage, [{
    key: "renderData",
    value: function renderData(data) {
      var _this = this;

      if (!(typeof document === "undefined")) {
        // Only redirect on browser, not on server
        setTimeout(function () {
          var prevPath = _this.props.location.prevPathname;
          window.location = "https://submit.escholarship.org/secure/jscholLogin?returnTo=" + encodeURIComponent(window.location.href.replace("/login", "/loginSuccess" + (prevPath && !prevPath.match(/login|logout/) ? prevPath : ""))) + "&nonce=" + _this.state.pageData.nonce;
        }, 100);
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        title: "Login"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        data: data.header.nav_bar
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "Login")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Redirecting to login page...")))));
    }
  }]);

  return LoginPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_1__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (LoginPage);

/***/ }),

/***/ "./app/jsx/pages/LoginSuccessPage.jsx":
/*!********************************************!*\
  !*** ./app/jsx/pages/LoginSuccessPage.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/FooterComp.jsx */ "./app/jsx/components/FooterComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }










var LoginSuccessPage = /*#__PURE__*/function (_PageBase) {
  _inherits(LoginSuccessPage, _PageBase);

  var _super = _createSuper(LoginSuccessPage);

  function LoginSuccessPage() {
    _classCallCheck(this, LoginSuccessPage);

    return _super.apply(this, arguments);
  }

  _createClass(LoginSuccessPage, [{
    key: "renderData",
    value: function renderData(data) {
      var _this = this;

      // start is something like:  https://submit.escholarship.org/secure/jscholLogin?nonce=1234567890ABCDEF&returnTo=http%3A%2F%2Flocalhost%3A4001%2FloginSuccess
      // return is something like: http://localhost:4001/loginSuccess?data=fQpdFQ7Ah+UscNPkgSA9PtQ07BcPplF/ggKvNDIrjrHvIwC9gt73X7I61lGq%0APGv1w3aBBbwtcYLtt0EFfktWd/QYr6Z+6YamJyO5bDM1mzXDcPJcakuBfljg%0A8qXi
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        title: "Login Success"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        data: data.header.nav_bar
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "Login Success")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_2__["default"].CMS.Consumer, null, function (cms) {
        var username = cms.username;

        if (!username) {
          if (!(typeof document === "undefined")) {
            // On client, update global state (but avoid doing this on iso server)
            setTimeout(function () {
              return cms.onLogin(_this.state.pageData['username'], _this.state.pageData['key']);
            }, 0); // Return to the page whence the user originally came, if any

            if (_this.props.match.params[0]) setTimeout(function () {
              return _this.props.history.push("/" + _this.props.match.params[0]);
            }, 1000);
          }

          username = _this.state.pageData['username'];
        }

        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "You are logged in as '", username, "'."), _this.props.match.params[0] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Returning to where you left off..."));
      })))));
    }
  }]);

  return LoginSuccessPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_3__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (LoginSuccessPage);

/***/ }),

/***/ "./app/jsx/pages/LogoutPage.jsx":
/*!**************************************!*\
  !*** ./app/jsx/pages/LogoutPage.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/FooterComp.jsx */ "./app/jsx/components/FooterComp.jsx");
/* harmony import */ var _components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/BreadcrumbComp.jsx */ "./app/jsx/components/BreadcrumbComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _get() { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }

function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }










var LogoutPage = /*#__PURE__*/function (_PageBase) {
  _inherits(LogoutPage, _PageBase);

  var _super = _createSuper(LogoutPage);

  function LogoutPage() {
    _classCallCheck(this, LogoutPage);

    return _super.apply(this, arguments);
  }

  _createClass(LogoutPage, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this = this;

      _get(_getPrototypeOf(LogoutPage.prototype), "componentDidMount", this).call(this);

      if (!(typeof document === "undefined")) {
        // Only redirect on browser, not on server
        setTimeout(function () {
          _this.sendApiData('POST', '/api/logout', {});

          var prevPath = _this.props.location.prevPathname;
          window.location = "https://submit.escholarship.org/Shibboleth.sso/Logout?return=" + encodeURIComponent(window.location.href.replace("/logout", "/logoutSuccess" + (prevPath && !prevPath.match(/login|logout/) ? prevPath : "")));
        }, 100);
      }
    }
  }, {
    key: "renderData",
    value: function renderData(data) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        title: "Logout"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        data: data.header.nav_bar
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "Logout")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Redirecting to logout page...")))));
    }
  }]);

  return LogoutPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (LogoutPage);

/***/ }),

/***/ "./app/jsx/pages/LogoutSuccessPage.jsx":
/*!*********************************************!*\
  !*** ./app/jsx/pages/LogoutSuccessPage.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/FooterComp.jsx */ "./app/jsx/components/FooterComp.jsx");
/* harmony import */ var _components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/BreadcrumbComp.jsx */ "./app/jsx/components/BreadcrumbComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }










var LogoutSuccessPage = /*#__PURE__*/function (_PageBase) {
  _inherits(LogoutSuccessPage, _PageBase);

  var _super = _createSuper(LogoutSuccessPage);

  function LogoutSuccessPage() {
    _classCallCheck(this, LogoutSuccessPage);

    return _super.apply(this, arguments);
  }

  _createClass(LogoutSuccessPage, [{
    key: "renderData",
    value: function renderData(data) {
      var _this = this;

      if (!(typeof document === "undefined")) {
        // Return to the page whence the user originally came, if any
        if (this.props.match.params[0]) setTimeout(function () {
          return _this.props.history.push("/" + _this.props.match.params[0]);
        }, 1000);
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        title: "Logout Success"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        data: data.header.nav_bar
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "Logout")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Logged out."), this.props.match.params[0] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Returning to where you left off..."))))));
    }
  }]);

  return LogoutSuccessPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (LogoutSuccessPage);

/***/ }),

/***/ "./app/jsx/pages/PageBase.jsx":
/*!************************************!*\
  !*** ./app/jsx/pages/PageBase.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_ga__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-ga */ "./node_modules/react-ga/dist/esm/index.js");
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var better_react_mathjax__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! better-react-mathjax */ "./node_modules/better-react-mathjax/esm/index.js");
/* harmony import */ var _components_SkipNavComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/SkipNavComp.jsx */ "./app/jsx/components/SkipNavComp.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/FooterComp.jsx */ "./app/jsx/components/FooterComp.jsx");
/* harmony import */ var _components_DrawerComp_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/DrawerComp.jsx */ "./app/jsx/components/DrawerComp.jsx");
/* harmony import */ var _components_TestMessageComp_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/TestMessageComp.jsx */ "./app/jsx/components/TestMessageComp.jsx");
/* harmony import */ var _components_ScrollToTopComp_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/ScrollToTopComp.jsx */ "./app/jsx/components/ScrollToTopComp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/ServerErrorComp.jsx */ "./app/jsx/components/ServerErrorComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
/* harmony import */ var _components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/NavBarComp.jsx */ "./app/jsx/components/NavBarComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

















 // Keys used to store CMS-related data in browser's session storage

var SESSION_LOGIN_KEY = "escholLogin";
var SESSION_EDITING_KEY = "escholEditingPage"; // Session storage is not available on server, only on browser

var sessionStorage = typeof window != "undefined" ? window.sessionStorage : null;
var mathjaxConfig = {
  tex: {
    packages: {
      "[+]": ["html"]
    },
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["$$", "$$"], ["\\[", "\\]"]]
  },
  messageStyle: "none",
  startup: {
    typeset: true
  }
};

var PageBase = /*#__PURE__*/function (_React$Component) {
  _inherits(PageBase, _React$Component);

  var _super = _createSuper(PageBase);

  function PageBase() {
    var _this;

    _classCallCheck(this, PageBase);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "onLogin", function (username, token) {
      if (!_this.state.adminLogin || username != _this.state.adminLogin.username || token != _this.state.adminLogin.token) {
        _this.setSessionData({
          username: username,
          token: token
        });

        _this.setState({
          adminLogin: {
            loggedIn: true,
            username: username,
            token: token
          },
          isEditingPage: false
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "onLogout", function () {
      _this.setSessionData(null);

      _this.setState({
        adminLogin: {
          loggedIn: false
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onEditingPageChange", function (flag) {
      _this.setSessionData(Object.assign(_this.getSessionData(), {
        isEditingPage: flag
      }));

      _this.setState({
        isEditingPage: flag
      });
    });

    _defineProperty(_assertThisInitialized(_this), "fetchPageData", function (props) {
      _this.dataURL = _this.pageDataURL(props);
      var urlFetching = _this.dataURL;

      if (_this.dataURL) {
        var finalURL = _this.pageDataURL(props);

        var d = _this.getSessionData();

        if (d) {
          finalURL += finalURL.indexOf("?") < 0 ? "?" : "&";
          finalURL += "username=" + d.username + "&token=" + d.token;
        }

        _this.setState({
          fetchingData: true,
          permissions: _this.state && _this.pagePermissionsUnit() == _this.state.permissionsUnit ? _this.state.permissions : null
        });

        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getJSON(finalURL).done(function (data) {
          if (urlFetching == _this.dataURL) {
            _this.setState({
              pageData: data,
              fetchingData: false
            });

            if (_this.pagePermissionsUnit() != _this.state.permissionsUnit) _this.fetchPermissions();
          } else {
            // Another page was fetched before data for first page came back. Toss the first.
            console.log("Note: discarding obsolete API data from:", urlFetching);
          }
        }).fail(function (jqxhr, textStatus, err) {
          var message = jqxhr.responseJSON && jqxhr.responseJSON.message ? jqxhr.responseJSON.message : textStatus == "error" && err ? err : textStatus ? textStatus : "error";

          _this.setState({
            pageData: {
              error: message
            },
            fetchingData: false
          });
        });
      } else {
        _this.setState({
          fetchingData: false,
          permissions: null
        });
      }
    });

    _defineProperty(_assertThisInitialized(_this), "sendApiData", function (method, apiURL, data) {
      _this.setState({
        fetchingData: true
      });

      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getJSON({
        type: method,
        url: apiURL,
        data: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.merge(lodash__WEBPACK_IMPORTED_MODULE_2___default.a.cloneDeep(data), {
          username: _this.state.adminLogin.username,
          token: _this.state.adminLogin.token
        })
      }).done(function (data) {
        if (data.nextURL) {
          // Setting permissionsUnit to null results in forcing reload of permissions data
          // (needed if new page has been created)
          _this.setState({
            fetchingData: false,
            permissionsUnit: null
          });

          _this.props.history.push(data.nextURL);
        } else {
          _this.fetchPermissions(true);

          _this.fetchPageData();
        }
      }).fail(function (data) {
        alert("Error" + (data.responseJSON ? ":\n".concat(data.responseJSON.message) : " ".concat(data.status, ":\n").concat(data.statusText, ".")));

        _this.fetchPermissions(true);

        _this.fetchPageData();
      });
    });

    _defineProperty(_assertThisInitialized(_this), "sendBinaryFileData", function (method, apiURL, formData) {
      _this.setState({
        fetchingData: true
      });

      formData.append('username', _this.state.adminLogin.username);
      formData.append('token', _this.state.adminLogin.token);
      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajax({
        type: method,
        url: apiURL,
        data: formData,
        contentType: false,
        processData: false
      }).done(function (data) {
        if (data.nextURL) {
          _this.setState({
            fetchingData: false
          });

          _this.props.history.push(data.nextURL);
        } else _this.fetchPageData();
      }).fail(function (data) {
        alert("Error" + (data.responseJSON ? ":\n".concat(data.responseJSON.message) : " ".concat(data.status, ":\n").concat(data.statusText, ".")));

        _this.fetchPageData();
      });
    });

    _defineProperty(_assertThisInitialized(_this), "runExtGATracker", function (tracker, id) {
      react_ga__WEBPACK_IMPORTED_MODULE_3__["default"].ga('create', id, 'auto', {
        'name': tracker
      });
      react_ga__WEBPACK_IMPORTED_MODULE_3__["default"].ga(tracker + '.send', 'pageview', {
        'page': window.location.pathname
      });
    });

    _defineProperty(_assertThisInitialized(_this), "extGA", function (unit_id) {
      if (!(typeof window === "undefined")) {
        if (/jmie_sfews/.test(unit_id)) {
          _this.runExtGATracker('sfewsTracker', 'UA-31540406-1');
        }

        if (/^nanocad/.test(unit_id)) {
          _this.runExtGATracker('nanocadTracker', 'UA-17962781-1');
        }

        if (/^uciem_westjem/.test(unit_id)) {
          _this.runExtGATracker('westjemTracker', 'UA-34762732-1');
        }

        if (/^ucla_epss/.test(unit_id)) {
          _this.runExtGATracker('epssTracker', 'UA-111990925-2');
        }

        if (/^refract/.test(unit_id)) {
          _this.runExtGATracker('refractTracker', 'UA-130336975-1');
        }

        if (/^itsdavis_ncst/.test(unit_id)) {
          _this.runExtGATracker('itsdavisncstTracker', 'UA-54945925-1');
        }

        if (/^acgcc_jtas/.test(unit_id)) {
          _this.runExtGATracker('jtasTracker', 'UA-141570725-1');
        }

        if (/^psf/.test(unit_id)) {
          _this.runExtGATracker('psfTracker', 'UA-152312010-1');
        }

        if (/^cioa_ciap/.test(unit_id)) {
          _this.runExtGATracker('ciapTracker', 'UA-164954982-1');
        }

        if (/^lawandpoliticaleconomy/.test(unit_id)) {
          _this.runExtGATracker('lawandpoliticaleconomyTracker', 'UA-187281152-1');
        }

        if (/^energy_ambitions/.test(unit_id)) {
          _this.runExtGATracker('energyambitionsTracker', 'UA-192190770-1');
        }

        if (/^glossapsycholinguistics/.test(unit_id)) {
          _this.runExtGATracker('glossapsycholinguisticsTracker', 'UA-217482135-1');
        }
      }
    });

    return _this;
  }

  _createClass(PageBase, [{
    key: "getEmptyState",
    value: function getEmptyState() {
      return {
        pageData: null,
        isEditingPage: false,
        cmsModules: null
      };
    } // We initialize state here instead of in the constructor because, for some cases, it'll
    // result in starting an asynchronous fetch, and there would be a danger that fetch comes
    // back before the component is ready to receive state.

  }, {
    key: "componentWillMount",
    value: function componentWillMount() {
      var state = this.getEmptyState();
      var dataURL = this.pageDataURL(this.props);

      if (dataURL) {
        // Phase 1: Server-side load, where our page data has been precalculated and stored in props.staticContext
        if (this.props.staticContext && this.props.staticContext.pageData) {
          state.fetchingData = false;
          state.pageData = this.props.staticContext.pageData;
        } // Phase 2: Initial browser load. Server should have placed our data in window.
        else if (!(typeof window === "undefined") && window.jscholApp_initialPageData) {
          state.fetchingData = false;
          state.pageData = window.jscholApp_initialPageData;
          delete window.jscholApp_initialPageData;
        } // Phase 3: Browser-side page switch. We have to fetch new data ourselves. Start with basic
        // state, and the pageData will get filled when the ajax returns.
        else {
          state.fetchingData = true;
          this.fetchPageData(this.props);
        }
      } else state.pageData = {}; // That's the final state.


      this.setState(state);
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      // Retrieve login info from session storage (but after initial init, so that ISO matches for first render)
      var d = this.getSessionData();

      if (d) {
        setTimeout(function () {
          _this2.setState({
            adminLogin: {
              loggedIn: true,
              username: d.username,
              token: d.token
            },
            isEditingPage: d.isEditingPage
          });

          setTimeout(function () {
            return _this2.fetchPermissions();
          }, 0);
        }, 0);
      }
    }
  }, {
    key: "getSessionData",
    value: function getSessionData() {
      return sessionStorage && JSON.parse(sessionStorage.getItem(SESSION_LOGIN_KEY));
    }
  }, {
    key: "setSessionData",
    value: function setSessionData(data) {
      return sessionStorage && sessionStorage.setItem(SESSION_LOGIN_KEY, JSON.stringify(data));
    }
  }, {
    key: "isPageEditable",
    value: // Pages with any editable components should override this.
    function isPageEditable() {
      return false;
    } // Browser-side AJAX fetch of page data. Sets state when the data is returned to us.

  }, {
    key: "componentWillReceiveProps",
    value: // This gets called when props change by switching to a new page.
    // It is *not* called on first-time construction. We use it to fetch new page data
    // for the page being switched to, if the URL has changed.
    function componentWillReceiveProps(nextProps) {
      var _this3 = this;

      if (this.props.location.pathname != nextProps.location.pathname || this.props.location.search != nextProps.location.search) {
        //this.setState(this.getEmptyState())   bad: this causes loss of context when clicking search facets
        this.setState({
          fetchingData: true
        });
        setTimeout(function () {
          return _this3.fetchPageData();
        }, 0); // fetch right after setting the new props
      }
    } // This has been made uniform to simplify iso rendering. Server will figure out which API based on the path.

  }, {
    key: "pageDataURL",
    value: function pageDataURL() {
      return "/api/pageData" + this.props.location.pathname + this.props.location.search;
    } // Optional method: for editable pages, the unit ID to look up permissions for

  }, {
    key: "pagePermissionsUnit",
    value: function pagePermissionsUnit() {
      return null;
    } // Method to be supplied by derived classes, so they can make a URL that will grab
    // the proper API data from the server.

  }, {
    key: "renderData",
    value: function renderData() {
      throw "Derived class must override renderData method";
    } // Most pages want header and footer (automatically)

  }, {
    key: "needHeaderFooter",
    value: function needHeaderFooter() {
      return true;
    }
  }, {
    key: "shouldShowDrawer",
    value: function shouldShowDrawer() {
      return this.state.adminLogin && this.state.adminLogin.loggedIn && this.state.cmsModules && this.state.pageData && this.state.permissions && this.state.permissions.admin && 'header' in this.state.pageData && 'nav_bar' in this.state.pageData.header && !this.state.pageData.id;
    }
  }, {
    key: "renderContent",
    value: function renderContent() {
      // Error case
      if (this.state.pageData && this.state.pageData.error !== undefined) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "body"
        }, this.renderError(), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-toplink"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "javascript:window.scrollTo(0, 0)"
        }, "Top")), this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null));
      } // CMS drawer case


      if (this.shouldShowDrawer()) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DrawerComp_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
          data: this.state.pageData,
          sendApiData: this.sendApiData,
          sendBinaryFileData: this.sendBinaryFileData,
          fetchingData: this.state.fetchingData
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "body",
          style: {
            padding: "20px"
          }
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(better_react_mathjax__WEBPACK_IMPORTED_MODULE_6__["MathJaxContext"], {
          version: 3,
          config: mathjaxConfig,
          src: "/js/MathJax-3.2.2/es5/tex-chtml.js",
          hideUnilTypeset: "every"
        }, this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SkipNavComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null), this.state.pageData ? this.renderData(this.state.pageData) : this.renderLoading(), this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null))));
      } // ISO case


      if (typeof document === "undefined") {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "body"
        }, this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SkipNavComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null), this.state.pageData ? this.renderData(this.state.pageData) : this.renderLoading(), this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: "c-toplink"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          href: "javascript:window.scrollTo(0, 0)"
        }, "Top")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null)));
      } // Normal case


      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(better_react_mathjax__WEBPACK_IMPORTED_MODULE_6__["MathJaxContext"], {
        version: 3,
        config: mathjaxConfig,
        src: "/js/MathJax-3.2.2/es5/tex-chtml.js"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "body"
      }, this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SkipNavComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null), this.state.pageData ? this.renderData(this.state.pageData) : this.renderLoading(), this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-toplink"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "javascript:window.scrollTo(0, 0)"
      }, "Top")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FooterComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null))));
    }
  }, {
    key: "fetchPermissions",
    value: function fetchPermissions(refetch) {
      var _this4 = this;

      var unit = this.pagePermissionsUnit();

      if (unit && this.state.adminLogin && this.state.adminLogin.loggedIn && !this.state.fetchingPerms && (refetch || !this.state.permissions)) {
        this.setState({
          fetchingPerms: true
        });
        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getJSON("/api/permissions/".concat(unit, "?username=").concat(this.state.adminLogin.username, "&token=").concat(this.state.adminLogin.token)).done(function (data) {
          if (data.error) {
            _this4.setSessionData(null);

            _this4.setState({
              fetchingPerms: false,
              adminLogin: null,
              permissions: null,
              isEditingPage: false
            });

            alert("Login note: " + data.message);
          } else {
            _this4.setState({
              fetchingPerms: false,
              permissions: data,
              permissionsUnit: unit
            });

            if (!_this4.state.cmsModules) {
              // Load CMS-specific modules asynchronously
              Promise.all(/*! require.ensure | cms */[__webpack_require__.e("vendors~cms"), __webpack_require__.e("cms")]).then((function (require) {
                _this4.setState({
                  cmsModules: {
                    Trumbowyg: __webpack_require__(/*! ../objects/TrumbowygObj.jsx */ "./app/jsx/objects/TrumbowygObj.jsx")["default"],
                    Sidebar: __webpack_require__(/*! react-sidebar */ "./node_modules/react-sidebar/dist-modules/index.js")["default"],
                    SortableTree: __webpack_require__(/*! react-sortable-tree */ "./node_modules/react-sortable-tree/dist/index.esm.js")["default"]
                  }
                });
              }).bind(null, __webpack_require__)).catch(__webpack_require__.oe); // load from webpack "cms" bundle

            }
          }
        }).fail(function (jqxhr, textStatus, err) {
          _this4.setState({
            pageData: {
              error: textStatus
            },
            fetchingPerms: false,
            adminLogin: null,
            permissions: null,
            isEditingPage: false
          });
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this5 = this;

      // If ScrollToTopComp gives you trouble, you can disable by replacing it with a plain <div>
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScrollToTopComp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_4__["default"].CMS.Provider, {
        value: {
          loggedIn: this.state.adminLogin && this.state.adminLogin.loggedIn,
          username: this.state.adminLogin && this.state.adminLogin.username,
          token: this.state.adminLogin && this.state.adminLogin.token,
          onLogin: this.onLogin,
          onLogout: this.onLogout,
          isEditingPage: this.state.adminLogin && this.state.adminLogin.loggedIn && this.state.isEditingPage,
          onEditingPageChange: this.onEditingPageChange,
          fetchPageData: function fetchPageData() {
            return _this5.fetchPageData(_this5.props);
          },
          goLocation: function goLocation(loc) {
            return _this5.props.history.push(loc);
          },
          modules: this.state.cmsModules,
          showingDrawer: this.shouldShowDrawer(),
          permissions: this.state.permissions
        }
      }, this.renderContent()));
    }
  }, {
    key: "renderLoading",
    value: function renderLoading() {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.needHeaderFooter() && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        style: {
          marginTop: "5em",
          marginBottom: "5em"
        }
      }, "Loading..."));
    }
  }, {
    key: "renderError",
    value: function renderError() {
      var data = this.state.pageData;
      var message = data.message ? data.message : data.error ? data.error : null;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], {
        title: message
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null), data.header && data.unit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
        navBar: data.header.nav_bar,
        unit: data.unit,
        socialProps: data.header.social
      }), data.header && !data.unit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
        data: data.header.nav_bar
      }), "}"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
        error: message
      })))));
    }
  }]);

  return PageBase;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (PageBase);

/***/ }),

/***/ "./app/jsx/pages/SearchPage.jsx":
/*!**************************************!*\
  !*** ./app/jsx/pages/SearchPage.jsx ***!
  \**************************************/
/*! exports provided: FacetItem, PubYear, FacetFieldset, FacetForm, SearchPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FacetItem", function() { return FacetItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PubYear", function() { return PubYear; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FacetFieldset", function() { return FacetFieldset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FacetForm", function() { return FacetForm; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchPage", function() { return SearchPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! query-string */ "./node_modules/query-string/index.js");
/* harmony import */ var query_string__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/Header2Comp.jsx */ "./app/jsx/components/Header2Comp.jsx");
/* harmony import */ var _components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/NavComp.jsx */ "./app/jsx/components/NavComp.jsx");
/* harmony import */ var _components_ScholWorksComp_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/ScholWorksComp.jsx */ "./app/jsx/components/ScholWorksComp.jsx");
/* harmony import */ var _components_FilterComp_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/FilterComp.jsx */ "./app/jsx/components/FilterComp.jsx");
/* harmony import */ var _components_ExportComp_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/ExportComp.jsx */ "./app/jsx/components/ExportComp.jsx");
/* harmony import */ var _components_SortPaginationComp_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/SortPaginationComp.jsx */ "./app/jsx/components/SortPaginationComp.jsx");
/* harmony import */ var _components_InfoPagesComp_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/InfoPagesComp.jsx */ "./app/jsx/components/InfoPagesComp.jsx");
/* harmony import */ var _components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../components/PaginationComp.jsx */ "./app/jsx/components/PaginationComp.jsx");
/* harmony import */ var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json");
var _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_15___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../js/breakpoints.json */ "./app/js/breakpoints.json", 1);
/* harmony import */ var _components_ModalComp_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/ModalComp.jsx */ "./app/jsx/components/ModalComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



















 // Load dotdotdot in browser but not server

if (!(typeof document === "undefined")) {
  var dotdotdot = __webpack_require__(/*! jquery.dotdotdot */ "./node_modules/jquery.dotdotdot/src/jquery.dotdotdot.min.umd.js");
}

var MAX_SET_SIZE = 6; // FacetItem
// props = {
//   data: { facetType: 'departments',
//     ancestorChecked: true|false                     //Optional, only specified if facet has ancestors (departments)
//     facet: { value: 'uclalaw',
//       displayName: 'UCLA School of Law',            //Optional, if no displayName specified, uses facet.value for display
//       count: 331,
//       descendents: [                                //Optional, only specified if facet has children (departments)
//         {
//           ancestor_in_list: true,
//           count: 9,
//           displayName: 'The Williams Institute',
//           value: 'uclalaw_williams'
//         }
//       ]
//       ancestor_in_list: true|false,                 // Optional, only specified if facet has ancestors (departments),
//                                                     // and the ancestor is also in the facet list
//                                                     // Though it doesn't currently make sense for ancestor_in_list to be false,
//                                                     // the frontend doesn't assume that to be the case.
//     }
//   }
//   //Handler is FacetFieldset's handleChange function
//   handler: FacetFieldset.handleChange(event, filter=[], filter_cleanup=[])
//   //Query is an array of applied filters for the current fieldset (departments, in this case) ONLY
//   //child filters are not listed, since these are assumed under the parent 'uclalaw' and not included in the AWS query
//   //query is not defined if no filters are applied for the current fieldset
//   query: [{displayName: 'UCLA School of Law (All)', value: 'uclalaw'}]
// }

var FacetItem = /*#__PURE__*/function (_React$Component) {
  _inherits(FacetItem, _React$Component);

  var _super = _createSuper(FacetItem);

  function FacetItem() {
    var _this;

    _classCallCheck(this, FacetItem);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "handleChange", function (event) {
      // compact syntax that takes care of binding the event handler
      var filter;
      var filter_cleanup = []; // Rights label includes an icon and descriptive text, but value is just the code: 'CC-BY'
      // the Active Filters panel at the top of the lefthand sidebar displays just the codes

      if (_this.props.data.facetType == 'rights' && _this.props.data.facet.value != 'public') {
        filter = [{
          displayName: _this.props.data.facet.value,
          value: _this.props.data.facet.value
        }];
      } // Selected departments automatically include 'All' child departments (if there are any)
      // append '(All)' to the display name for viewing in the Active Filters panel at the top of the lefthand sidebar
      else if (_this.props.data.facetType == 'departments' && 'descendents' in _this.props.data.facet) {
        filter = [{
          displayName: _this.label + " (All)",
          value: _this.props.data.facet.value
        }]; // Add each descendent to the filter_cleanup array, for use in FacetFieldset's handleChange function
        // this removes any previously applied children from the array at this.props.query

        var _iterator = _createForOfIteratorHelper(_this.props.data.facet.descendents),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var d = _step.value;
            filter_cleanup.push({
              displayName: d.displayName,
              value: d.value
            });
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      } // Default case for all other facet types (not rights or departments)
      // this filter will get added to the array at this.props.query by FacetFieldset's handleChange function
      else {
        filter = [{
          displayName: _this.label,
          value: _this.props.data.facet.value
        }];
      } //FacetFieldset's handleChange function


      _this.props.handler(event, filter, filter_cleanup);
    });

    return _this;
  }

  _createClass(FacetItem, [{
    key: "checkFacet",
    value: //if the facet item is in the query list, or the facet item's ancestor is checked, 
    //return true - this facet item should be checked
    function checkFacet(props) {
      if (props.query) {
        var _iterator2 = _createForOfIteratorHelper(props.query),
            _step2;

        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var filter = _step2.value;

            if (props.data.facet.value == filter.value) {
              return true;
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }

        if (props.data.ancestorChecked) {
          return true;
        }
      }

      return false;
    } // this is what actually submits the form when a checkbox has been checked

  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      if (this.checkFacet(this.props) !== this.checkFacet(prevProps) && !this.props.data.ancestorChecked && !prevProps.data.ancestorChecked) {
        jquery__WEBPACK_IMPORTED_MODULE_2___default()('[name=start]').val('0');
        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#facet-form-submit').click();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var facet = this.props.data.facet;
      var facetValueKey = facet.value.replace(/ /g, '_');
      this.label = facet.displayName ? facet.displayName : facet.value; // Put a special class name on the rights facet to show Creative Commons icons

      var className = this.props.data.facetType == "rights" ? "c-checkbox__attrib-".concat(facet.value.toLowerCase()).replace(/ /g, '-') : "";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        className: className
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "".concat(this.props.data.facetType, "-").concat(facetValueKey),
        className: "c-checkbox__input",
        type: "checkbox",
        name: this.props.data.facetType,
        value: facet.value,
        onChange: this.handleChange,
        checked: this.checkFacet(this.props),
        disabled: this.props.data.ancestorChecked ? true : false
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "".concat(this.props.data.facetType, "-").concat(facetValueKey),
        className: "c-checkbox__label"
      }, this.label, " (", facet.count, ")"), facet.descendents && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-checkbox"
      }, facet.descendents.map(function (d) {
        var descendentItemData = {
          facetType: _this2.props.data.facetType,
          facet: d,
          ancestorChecked: _this2.checkFacet(_this2.props)
        };
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FacetItem, {
          key: d.value,
          data: descendentItemData,
          query: _this2.props.query,
          handler: _this2.props.handler
        });
      })));
    }
  }]);

  return FacetItem;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var PubYear = /*#__PURE__*/function (_React$Component2) {
  _inherits(PubYear, _React$Component2);

  var _super2 = _createSuper(PubYear);

  function PubYear(props) {
    var _this3;

    _classCallCheck(this, PubYear);

    _this3 = _super2.call(this, props);

    _defineProperty(_assertThisInitialized(_this3), "handleSubmit", function (event) {
      var displayYears;

      if (_this3.pub_year_start.value || _this3.pub_year_end.value) {
        displayYears = _this3.pub_year_start.value + "-" + _this3.pub_year_end.value;
      } else {
        displayYears = "";
      }

      _this3.submitForm();

      _this3.props.handler(event, {
        value: displayYears
      });
    });

    _defineProperty(_assertThisInitialized(_this3), "handleKeyPress", function (e) {
      // suppress Enter key - it goes to the wrong submit button
      if ((e.keyCode || e.which || e.charCode) == 13) {
        e.stopPropagation();
        e.preventDefault();
        return false;
      }

      return true;
    });

    _this3.state = _this3.setupState(props);
    return _this3;
  }

  _createClass(PubYear, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(this.props.query, nextProps.query)) this.setState(this.setupState(nextProps));
    }
  }, {
    key: "setupState",
    value: function setupState(props) {
      return {
        pub_year_start: props.data.range && props.data.range.pub_year_start ? props.data.range.pub_year_start : '',
        pub_year_end: props.data.range && props.data.range.pub_year_end ? props.data.range.pub_year_end : ''
      };
    }
  }, {
    key: "startYear",
    value: function startYear() {
      return this.props.data.range && this.props.data.range.pub_year_start ? this.props.data.range.pub_year_start : '';
    }
  }, {
    key: "endYear",
    value: function endYear() {
      return this.props.data.range && this.props.data.range.pub_year_end ? this.props.data.range.pub_year_end : '';
    }
  }, {
    key: "submitForm",
    value: function submitForm() {
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('[name=start]').val('0');
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('#facet-form-submit').click();
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      var year = new Date().getFullYear();
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pubyear"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pubyear__field"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "c-pubyear__textfield1"
      }, "From:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "c-pubyear__textfield1",
        name: "pub_year_start",
        type: "text",
        maxLength: "4",
        placeholder: "1900",
        defaultValue: this.state.pub_year_start,
        ref: function ref(input) {
          _this4.pub_year_start = input;
        },
        onKeyPress: this.handleKeyPress
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-pubyear__field"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "c-pubyear__textfield2"
      }, "To:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "c-pubyear__textfield2",
        name: "pub_year_end",
        type: "text",
        maxLength: "4",
        placeholder: year,
        defaultValue: this.state.pub_year_end,
        ref: function ref(input) {
          _this4.pub_year_end = input;
        },
        onKeyPress: this.handleKeyPress
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-pubyear__button",
        onClick: this.handleSubmit
      }, "Apply"));
    }
  }]);

  return PubYear;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component); // A FacetFieldset is a single grouping of facet items.
// A facetFieldset with many facets is expandable: can be expanded into a modal to show all facet items
// Note: Differentiates between Publication Year, and all the other 'normal' facets
// FacetFieldset props: 
// props = {
//   data: { fieldName: 'departments',
//     display: 'Departments'
//     facets: [
//       { value: 'uclalaw',
//         displayName: 'UCLA School of Law',            //Optional, if no displayName specified, uses facet.value for display
//         count: 331,
//         descendents: [                                //Optional, only specified if facet has children (departments)
//           {
//             ancestor_in_list: true,                   //Descendents aren't included in the facets array, only in
//             count: 9,                                 //their parent's descendents arrays
//             displayName: 'The Williams Institute',
//             value: 'uclalaw_williams'
//           }
//         ]
//       },
//       { value: 'bling',
//         displayName: 'Department of Linguistics',
//         count: 269
//       }, ...
//     ]
//   }
//   //Handler is FacetForm's changeFacet function
//   handler: FacetForm.changeFacet(event, fieldsetQuery={}, fieldType='')
//   //Query specifies the fieldName and displayName for this facetFieldset, as well as an array of
//   //applied filters for this field ONLY (the array gets passed on to FacetItem children)
//   //query is an empty object if no filters are applied for the current fieldset
//   query: { display: 'Departments',
//     fieldName: 'departments',
//     filters: [
//       {
//         displayName: 'UCLA School of Law (All)',
//         value: 'uclalaw'
//       }
//     ]
//   }
// }


var FacetFieldset = /*#__PURE__*/function (_React$Component3) {
  _inherits(FacetFieldset, _React$Component3);

  var _super3 = _createSuper(FacetFieldset);

  function FacetFieldset() {
    var _this5;

    _classCallCheck(this, FacetFieldset);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this5 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this5), "state", {
      modalOpen: false
    });

    _defineProperty(_assertThisInitialized(_this5), "handleChange", function (event, filter, filter_cleanup) {
      var newQuery; //event.target.checked means we're in the business of adding filters

      if (event.target.checked) {
        if (!lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEmpty(_this5.props.query)) {
          //there's already filters of this type, so add filters
          newQuery = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.extend(true, {}, _this5.props.query); // true=deep copy
          //remove filters specified in filter_cleanup array
          //(this is any child facets that were selected at the time when the parent facet is selected)

          if (filter_cleanup.length > 0) {
            var _loop = function _loop(f) {
              var i = newQuery.filters.findIndex(function (j) {
                return j.value == filter_cleanup[f].value;
              });
              if (i >= 0) // only remove if found
                newQuery.filters.splice(i, 1);
            };

            for (var f in filter_cleanup) {
              _loop(f);
            }
          } //concatenate the new filter to the current list of filters


          newQuery.filters = newQuery.filters.concat(filter);
        } else {
          //there's no filters of this type, so create a filter
          newQuery = {
            display: _this5.props.data.display,
            fieldName: _this5.props.data.fieldName,
            filters: filter
          };
        }
      } else {
        //!event.target.checked means we're in the business of removing filters
        if (_this5.props.query.filters.length > 1) {
          newQuery = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.extend(true, {}, _this5.props.query); // true=deep copy

          var _loop2 = function _loop2(_f) {
            var i = newQuery.filters.findIndex(function (j) {
              return j.value == filter[_f].value;
            });
            newQuery.filters.splice(i, 1);
          };

          for (var _f in filter) {
            _loop2(_f);
          }
        }
      } //call FacetForm's changeFacet function - event, fieldsetQuery, fieldType


      _this5.props.handler(event, newQuery, event.target.name);
    });

    _defineProperty(_assertThisInitialized(_this5), "pubDateChange", function (event, filter) {
      var newQuery;

      if (filter.value !== "") {
        if (!lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEmpty(_this5.props.query)) {
          newQuery = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.extend(true, {}, _this5.props.query); // true=deep copy

          newQuery.filters = [filter];
        } else {
          newQuery = {
            display: _this5.props.data.display,
            fieldName: _this5.props.data.fieldName,
            filters: [filter]
          };
        }
      }

      _this5.props.handler(event, newQuery, 'pub_year');
    });

    _defineProperty(_assertThisInitialized(_this5), "closeModal", function (e, facetType) {
      _this5.setState({
        modalOpen: false
      });
    });

    _defineProperty(_assertThisInitialized(_this5), "getFacetNodes", function (facets) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: _this5.props.data.fieldName == "supp_file_types" ? "c-checkbox--2column" : "c-checkbox"
      }, facets.map(function (facet) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FacetItem, {
          key: facet.value,
          data: {
            facetType: _this5.props.data.fieldName,
            facet: facet
          },
          query: _this5.props.query.filters,
          handler: _this5.handleChange
        });
      }));
    });

    _defineProperty(_assertThisInitialized(_this5), "getLength", function (_ref) {
      var descendents = _ref.descendents;
      var i = 0;
      if (descendents) return descendents.length + Math.max.apply(Math, _toConsumableArray(descendents.map(_this5.getLength)));
      return 1 + i;
    });

    _defineProperty(_assertThisInitialized(_this5), "facetsSliced", function (facets, maxLength) {
      var checkHashFilter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      var checkedHash = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
      var i = 0,
          r = [];

      var _iterator3 = _createForOfIteratorHelper(facets),
          _step3;

      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var facet = _step3.value;

          if (!checkHashFilter || facet.value in checkedHash === false) {
            r.push(facet);
            i += _this5.getLength(facet);
            if (i >= maxLength) break;
          }
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }

      return r;
    });

    _defineProperty(_assertThisInitialized(_this5), "traverse", function (facets, func) {
      var _iterator4 = _createForOfIteratorHelper(facets),
          _step4;

      try {
        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
          var i = _step4.value;
          func.apply(_assertThisInitialized(_this5), [i]);

          if (i.descendents) {
            _this5.traverse(i.descendents, func);
          }
        }
      } catch (err) {
        _iterator4.e(err);
      } finally {
        _iterator4.f();
      }
    });

    _defineProperty(_assertThisInitialized(_this5), "checkedFacetsFromTree", function (facets, checkedHash) {
      var hash = {};

      _this5.traverse(facets, function (node) {
        if (node.value in checkedHash) hash[node.value] = true;
      });

      return hash;
    });

    return _this5;
  }

  _createClass(FacetFieldset, [{
    key: "sliceArrangeFacets",
    value:
    /* Checked items will percolate to top */
    function sliceArrangeFacets(facets) {
      if (!this.props.query.filters) return this.facetsSliced(facets, MAX_SET_SIZE);
      /* Just return first set of 6 facets */

      /* Gather values of checked facets */

      var checkedHash = {};

      var _iterator5 = _createForOfIteratorHelper(this.props.query.filters),
          _step5;

      try {
        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
          var filter = _step5.value;
          checkedHash[filter.value] = true;
        }
      } catch (err) {
        _iterator5.e(err);
      } finally {
        _iterator5.f();
      }

      var checked = [];
      /* Collect checked facets into variable 'checked' (recursive)
       * Can't use Generator function here since it's not supported by IE */

      var collectChecked = function collectChecked(facets) {
        var _iterator6 = _createForOfIteratorHelper(facets),
            _step6;

        try {
          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
            var facet = _step6.value;

            if (facet.value in checkedHash) {
              checked.unshift(facet);
            }

            if (facet.descendents) collectChecked(facet.descendents);
          }
        } catch (err) {
          _iterator6.e(err);
        } finally {
          _iterator6.f();
        }
      };

      collectChecked(facets);
      var remaining_count = MAX_SET_SIZE - Object.keys(checked).length;
      /* Add unchecked facets to this sidebar facet set if there's room */

      if (remaining_count > 0) {
        var uncheckedParents = this.facetsSliced(facets, remaining_count, true, checkedHash);
        /* Retroactively remove any checked that may be children of this uncheckedParents */

        var checkedIds = this.checkedFacetsFromTree(uncheckedParents, checkedHash);

        if (checkedIds) {
          checked = checked.filter(function (facet) {
            return facet.value in checkedIds === false;
          });
        }

        return checked.concat(uncheckedParents);
      } else {
        return this.facetsSliced(checked, Math.max(MAX_SET_SIZE, Object.keys(checkedHash).length));
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this6 = this;

      var data = this.props.data;
      var facets, facetSidebarNodes, modal; // Sidebar logic for facet placement/sorting

      if (data.facets) {
        var expandable = ["departments", "journals"].includes(data.fieldName);
        modal = expandable && data.facets.length > MAX_SET_SIZE;

        if (this.state.modalOpen) {
          facets = [];
        } else if (expandable) {
          /* Most facets come in alphabetized. For 'expandable' facets (like departments and journals)
             the modal (exposed from the 'Show more' link) should keep the alpha order, but in the 
             sidebar they should be sorted by count.    */
          facets = lodash__WEBPACK_IMPORTED_MODULE_3___default.a.orderBy(data.facets, ['count'], ['desc']);
          /* But facets that are checked should have highest priority (visible in sidebar) */

          facets = modal && data.facets.length > MAX_SET_SIZE - 1 ? this.sliceArrangeFacets(facets) : facets;
        } else {
          facets = data.facets;
        }

        facetSidebarNodes = this.getFacetNodes(facets);
      } else if (data.fieldName == "pub_year") {
        facetSidebarNodes = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PubYear, {
          data: data,
          query: this.props.query,
          handler: this.pubDateChange
        });
      } else {
        facetSidebarNodes = [];
      }

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
        className: "c-facetbox",
        open: this.props.open
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", {
        className: "c-facetbox__summary"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        id: this.props.index
      }, data.display)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("fieldset", {
        "aria-labelledby": this.props.index
      }, facetSidebarNodes, modal && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "facetModalBase-".concat(data.fieldName)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-facetbox__show-more",
        onClick: function onClick(event) {
          _this6.setState({
            modalOpen: true
          });

          event.preventDefault();
        }
      }, "Show more"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ModalComp_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
        isOpen: this.state.modalOpen,
        parentSelector: function parentSelector() {
          return jquery__WEBPACK_IMPORTED_MODULE_2___default()("#facetModalBase-".concat(data.fieldName))[0];
        },
        header: "Refine By " + data.display,
        onOK: function onOK(e) {
          return _this6.closeModal(e, data.fieldName);
        },
        okLabel: "Done",
        onCancel: function onCancel(e) {
          return _this6.closeModal(e, data.fieldName);
        },
        content: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.getFacetNodes(data.facets))
      }))));
    }
  }]);

  return FacetFieldset;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component); // FacetForm manages the state for FacetItems and FilterComp in the sidebar.
// FacetItems are grouped by the FacetFieldset component.
// All interactions with faceting search parameters get propagated up to FacetForm
// and then down to their respective components before issuing the search query
// to update the scholarly works list (main column of search results)
// FacetForm props:
// props = {
//   data: {
//     count: 331
//     facets: [
//       {display: 'Type of Work', fieldName: 'type_of_work', facets: []}
//     ]
//   }
//   query: {
//     q: 'chinese',
//     rows: '10',
//     sort: 'rel',
//     info_start: '0',
//     start: '0',
//     filters: {
//       departments: {
//         display: 'Department',
//         fieldName: 'departments',
//         filters: [
//           {displayName: 'UCLA School of Law', value: 'uclalaw'}
//         ]
//       }
//     }
//   }
// }


var FacetForm = /*#__PURE__*/function (_React$Component4) {
  _inherits(FacetForm, _React$Component4);

  var _super4 = _createSuper(FacetForm);

  function FacetForm() {
    var _this7;

    _classCallCheck(this, FacetForm);

    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }

    _this7 = _super4.call.apply(_super4, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this7), "state", {
      query: _this7.props.query,
      refineActive: false,
      drawerOpen: false
    });

    _defineProperty(_assertThisInitialized(_this7), "widthChange", function () {
      _this7.setState({
        refineActive: _this7.mq.matches,
        drawerOpen: _this7.mq.matches
      });
    });

    _defineProperty(_assertThisInitialized(_this7), "changeFacet", function (event, fieldsetQuery, fieldType) {
      var newQuery = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.extend(true, {}, _this7.state.query); // true=deep copy

      if (fieldsetQuery) {
        newQuery.filters[fieldType] = fieldsetQuery;
      } else {
        delete newQuery.filters[fieldType];
      }

      _this7.setState({
        query: newQuery
      });
    });

    _defineProperty(_assertThisInitialized(_this7), "removeFilters", function (event) {
      var newQuery = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.extend(true, {}, _this7.state.query); // true=deep copy

      var fieldType = jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.target).data('filter-type');
      delete newQuery.filters[fieldType];

      _this7.setState({
        query: newQuery
      });
    });

    return _this7;
  }

  _createClass(FacetForm, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (!(typeof matchMedia === "undefined")) {
        this.mq = matchMedia("(min-width:" + _js_breakpoints_json__WEBPACK_IMPORTED_MODULE_15__.screen1 + ")");
        this.mq.addListener(this.widthChange);
        this.widthChange();
      }
    } // Called by FacetFieldset's handleChange function

  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      if (!lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isEqual(this.props.query, nextProps.query)) this.setState({
        query: nextProps.query
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this8 = this;

      var p = this.props;
      var facetForm = this.props.data.facets.map(function (fieldset, i) {
        var fieldName = fieldset.fieldName;
        var filters = _this8.state.query.filters && _this8.state.query.filters[fieldName] ? _this8.state.query.filters[fieldName] : {};
        var facets = fieldset.facets;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FacetFieldset, {
          key: fieldName,
          index: "facetbox" + i,
          data: fieldset,
          query: filters,
          handler: _this8.changeFacet // Have first two open by default
          ,
          open: [0, 1].includes(i)
        });
      });
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FilterComp_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        query: this.state.query,
        count: p.data.count,
        info_count: p.info_count,
        handler: this.removeFilters
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.state.refineActive ? "c-refine--no-drawer" : "c-refine--has-drawer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-refine__button--open",
        onClick: function onClick() {
          return _this8.setState({
            drawerOpen: true
          });
        },
        hidden: this.state.drawerOpen
      }, "Refine Results"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "c-refine__button--close",
        onClick: function onClick() {
          return _this8.setState({
            drawerOpen: false
          });
        },
        hidden: !this.state.drawerOpen
      }, "Back to Results"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.state.drawerOpen ? "c-refine__drawer--opened" : "c-refine__drawer--closed"
      }, facetForm)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        id: p.formButton,
        style: {
          display: "none"
        }
      }, "Search"));
    }
  }]);

  return FacetForm;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var SearchPage = /*#__PURE__*/function (_PageBase) {
  _inherits(SearchPage, _PageBase);

  var _super5 = _createSuper(SearchPage);

  function SearchPage() {
    var _this9;

    _classCallCheck(this, SearchPage);

    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    _this9 = _super5.call.apply(_super5, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this9), "formFilter", function (data) {
      var out = {};

      for (var key in data) {
        if (data[key] == "" || key === 'sort' && data[key] === 'rel' || key === 'rows' && data[key] === '10' || key === 'start' && data[key] === '0') {
          continue;
        }

        out[key] = data[key];
      }

      return out;
    });

    return _this9;
  }

  _createClass(SearchPage, [{
    key: "renderData",
    value: function renderData(data) {
      var facetFormData = {
        facets: data.facets,
        count: data.count
      },
          formName = "facetForm",
          formButton = "facet-form-submit";
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "l_search"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_17__["default"], {
        title: "Search"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        searchComp: "1",
        query: query_string__WEBPACK_IMPORTED_MODULE_5___default.a.parse(this.props.location.search)
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-navbar"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        data: data.header.nav_bar
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_18__["default"], {
        id: formName,
        to: "/search",
        filter: this.formFilter,
        className: "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("aside", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FacetForm, {
        formName: formName,
        formButton: formButton,
        data: facetFormData,
        info_count: data.info_count,
        query: data.query
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, data.info_count > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: this.state.fetchingData ? "o-columnbox1 is-loading-data" : "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "o-columnbox1__heading",
        "aria-live": "polite"
      }, "Informational Pages (" + data.info_count + " results)")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_InfoPagesComp_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
        query: data.query,
        info_count: data.info_count,
        infoResults: data.infoResults
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: this.state.fetchingData ? "o-columnbox1 is-loading-data" : "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        className: "o-columnbox1__heading",
        "aria-live": "polite"
      }, "Scholarly Works (", data.count + " results" + (data.count > 10000 ? ", showing first 10000" : ""), ")")), data.count > 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SortPaginationComp_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
        formName: formName,
        formButton: formButton,
        query: data.query,
        count: data.count
      }), data.count != 0 ? data.searchResults.map(function (result) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ScholWorksComp_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
          h: "h3",
          key: result.id,
          result: result
        });
      }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-well-large"
      }, "No results found."), data.count > data.query.rows && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_PaginationComp_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
        formName: formName,
        formButton: formButton,
        query: data.query,
        count: data.count
      })))));
    }
  }]);

  return SearchPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_6__["default"]);



/***/ }),

/***/ "./app/jsx/pages/StatsPage.jsx":
/*!*************************************!*\
  !*** ./app/jsx/pages/StatsPage.jsx ***!
  \*************************************/
/*! exports provided: UnitStatsPage, AuthorStatsPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnitStatsPage", function() { return UnitStatsPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorStatsPage", function() { return AuthorStatsPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
/* harmony import */ var _contexts_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts.jsx */ "./app/jsx/contexts.jsx");
/* harmony import */ var _components_ArbitraryHTMLComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ArbitraryHTMLComp.jsx */ "./app/jsx/components/ArbitraryHTMLComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/ServerErrorComp.jsx */ "./app/jsx/components/ServerErrorComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }











var ymToString = function ymToString(ym) {
  return ym.toString().substr(0, 4) + "-" + ym.toString().substr(4, 2);
};

var formatNum = function formatNum(n) {
  return n && n.toLocaleString();
};

var describeChildren = function describeChildren(childTypes) {
  var out = [];

  lodash__WEBPACK_IMPORTED_MODULE_2___default.a.each(childTypes, function (count, type) {
    return out.push(count.toString() + " " + type + (count == 1 || type.endsWith("ies") ? "" : type.endsWith("s") ? "es" : "s"));
  });

  return out.join(", ");
};

var statsLink = function statsLink(unit, pageName, search) {
  return "/uc/".concat(unit, "/stats").concat(pageName ? "/" + pageName : "").concat(search);
};

var capitalize = function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
};

var mungeCategory = function mungeCategory(cat) {
  return cat.indexOf("postprints:") >= 0 ? "\xa0\xa0\xa0\xa0" + capitalize(cat.replace("postprints:", "")) : cat == "unknown" ? cat : capitalize(cat);
};

var downloadCSV = function downloadCSV(table, params) {
  // Since we've got the data in a table already, just re-format it as CSV.
  var rows = [];

  lodash__WEBPACK_IMPORTED_MODULE_2___default.a.each(table.children, function (tsect) {
    lodash__WEBPACK_IMPORTED_MODULE_2___default.a.each(tsect.children, function (tr) {
      var rd = [];

      lodash__WEBPACK_IMPORTED_MODULE_2___default.a.each(tr.children, function (td) {
        var val;
        if (td.children[0]) // handle multiple lines in the cell:
          lodash__WEBPACK_IMPORTED_MODULE_2___default.a.each(td.children, function (ch) {
            val = (val ? val + "\n" : "") + (ch.innerHTML === undefined ? "" : ch.innerHTML);
          });else val = td.innerHTML;
        val = val.replace(/<!--[^>]+-->/g, '').replace(/%$/, '').replace(/&nbsp;/g, ' ');
        if (/^[0-9,]+$/.test(val)) rd.push(parseInt(val.replace(/,/g, '')));else if (/^[0-9,.]+$/.test(val)) rd.push(parseFloat(val.replace(/,/g, '')));else rd.push('"' + val.toString().replace('"', "'") + '"');
      });

      rows.push(rd.join(","));
    });
  });

  __webpack_require__.e(/*! require.ensure | downloadjs */ "downloadjs").then((function (require) {
    var filename;
    if (params.unitID) filename = params.unitID.replace(/^root$/, 'eschol') + "_" + params.pageName + ".csv";else filename = "author_" + params.pageName + ".csv";

    __webpack_require__(/*! downloadjs */ "./node_modules/downloadjs/download.js")(rows.join("\n"), filename, "text/csv");
  }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
};

var StatsHeader = /*#__PURE__*/function (_React$Component) {
  _inherits(StatsHeader, _React$Component);

  var _super = _createSuper(StatsHeader);

  function StatsHeader() {
    _classCallCheck(this, StatsHeader);

    return _super.apply(this, arguments);
  }

  _createClass(StatsHeader, [{
    key: "render",
    value: function render() {
      var p = this.props;
      var pageName = p.match.params.pageName || "summary";
      var isIssuePage = pageName.indexOf("issue") >= 0;
      var isByMonthPage = pageName.indexOf("by_month") >= 0;
      var thisLink = p.match.params.unitID ? "/uc/".concat(p.match.params.unitID, "/stats") : "/uc/author/".concat(p.match.params.personID, "/stats");
      var thisLabel = p.match.params.unitID ? p.data.unit_name : p.data.author_name;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        title: "".concat(p.title, ": ").concat(p.data.unit_name || p.data.author_name || "current")
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("meta", {
        id: "meta-robots",
        name: "robots",
        content: "noindex"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("link", {
        rel: "canonical",
        href: "https://escholarship.org" + p.location.pathname
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null, pageName == "summary" ? thisLabel : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: thisLink
      }, thisLabel)), p.data.parent_id && !isIssuePage && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Parent: ", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: statsLink(p.data.parent_id, p.match.params.pageName, p.location.search)
      }, p.data.parent_name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "eScholarship stats: ", p.title, isByMonthPage ? "" : " for ".concat(p.data.date_str)));
    }
  }]);

  return StatsHeader;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var StatsFooter = /*#__PURE__*/function (_React$Component2) {
  _inherits(StatsFooter, _React$Component2);

  var _super2 = _createSuper(StatsFooter);

  function StatsFooter() {
    var _this;

    _classCallCheck(this, StatsFooter);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super2.call.apply(_super2, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "render", function () {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, _this.props.onDownload && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport-bottomButtons"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: "o-button__8",
        onClick: _this.props.onDownload
      }, "Download CSV"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-toplink"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
        href: "javascript:window.scrollTo(0, 0)"
      }, "Top"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport-disclaimer"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", null), "Disclaimer: due to the evolving nature of the web traffic we receive and the methods we use to collate it, the data presented here should be considered approximate and subject to revision."));
    });

    return _this;
  }

  return _createClass(StatsFooter);
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var StatsForm = /*#__PURE__*/function (_React$Component3) {
  _inherits(StatsForm, _React$Component3);

  var _super3 = _createSuper(StatsForm);

  function StatsForm() {
    var _this2;

    _classCallCheck(this, StatsForm);

    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    _this2 = _super3.call.apply(_super3, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this2), "onChangeRange", function (e) {
      return _this2.setState({
        customDates: e.target.value == "custom"
      });
    });

    return _this2;
  }

  _createClass(StatsForm, [{
    key: "componentWillMount",
    value: function componentWillMount() {
      this.setState({
        customDates: this.props.data.range == "custom"
      });
    }
  }, {
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      this.setState({
        customDates: nextProps.data.range == "custom"
      });
    }
  }, {
    key: "render",
    value: function render() {
      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        to: p.location.pathname,
        method: "GET"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-daterange"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__inline"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "range",
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "range"
      }, "Date range"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        id: "range",
        name: "range",
        defaultValue: p.data.range,
        onChange: this.onChangeRange
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "1mo"
      }, "Last month"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "4mo"
      }, "Last 4 months"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "12mo"
      }, "Last 12 months"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "5yr"
      }, "Last 5 years"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "all"
      }, "All time"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        value: "custom"
      }, "Custom"))), this.state.customDates && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "st_yr",
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "st_yr"
      }, "Start year"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        id: "st_yr",
        name: "st_yr",
        defaultValue: p.data.st_yr
      }, p.data.all_years.map(function (val) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: val,
          value: val
        }, val);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "st_mo",
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "st_mo"
      }, "Start month"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        id: "st_mo",
        name: "st_mo",
        defaultValue: p.data.st_mo
      }, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.range(1, 13).map(function (val) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: val,
          value: val
        }, val);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "en_yr",
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "en_yr"
      }, "End year"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        id: "en_yr",
        name: "en_yr",
        defaultValue: p.data.en_yr
      }, p.data.all_years.map(function (val) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: val,
          value: val
        }, val);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "en_mo",
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "en_mo"
      }, "End month"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        id: "en_mo",
        name: "en_mo",
        defaultValue: p.data.en_mo
      }, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.range(1, 13).map(function (val) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
          key: val,
          value: val
        }, val);
      })))], p.showLimit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        key: "limit",
        className: "o-input__droplist1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "limit"
      }, "Max items:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("select", {
        id: "limit",
        name: "limit",
        defaultValue: p.data.limit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        key: 50,
        value: 50
      }, "50"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        key: 100,
        value: 100
      }, "100"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        key: 200,
        value: 200
      }, "200"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("option", {
        key: 500,
        value: 500
      }, "500")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        key: "submit"
      }, "Update")));
    }
  }]);

  return StatsForm;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_Summary = /*#__PURE__*/function (_React$Component4) {
  _inherits(UnitStats_Summary, _React$Component4);

  var _super4 = _createSuper(UnitStats_Summary);

  function UnitStats_Summary() {
    _classCallCheck(this, UnitStats_Summary);

    return _super4.apply(this, arguments);
  }

  _createClass(UnitStats_Summary, [{
    key: "render",
    value: function render() {
      var _this3 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Summary"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Deposits"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total requests"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "View-only"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.posts)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.hits)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.hits - data.downloads)))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Top Referrers"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.referrals, function (rd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: rd[0]
        }, rd[0]);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.referrals, function (rd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: rd[0]
        }, formatNum(rd[1]));
      }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Available Reports"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-reportList"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "History by:", data.unit_type == "journal" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/history_by_issue")
      }, "Issue"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/history_by_item")
      }, "Item"), data.has_children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/history_by_unit")
      }, "Unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/referrals")
      }, "Referrer")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Breakdown by:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/breakdown_by_month")
      }, "Month"), data.unit_type == "journal" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/breakdown_by_issue")
      }, "Issue"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/breakdown_by_item")
      }, "Item"), data.has_children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/breakdown_by_unit")
      }, "Unit"), data.num_categories > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/breakdown_by_category")
      }, "Category")), (data.num_categories > 1 || data.has_children) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Deposits by:", data.has_children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/deposits_by_unit")
      }, "Unit"), data.num_categories > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/deposits_by_category")
      }, "Category")), (data.num_categories > 1 || data.has_children) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Average requests per item by:", data.has_children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/avg_by_unit")
      }, "Unit"), data.num_categories > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/".concat(this.props.match.params.unitID, "/stats/avg_by_category")
      }, "Category")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts_jsx__WEBPACK_IMPORTED_MODULE_4__["default"].CMS.Consumer, null, function (cms) {
        return cms.loggedIn && cms.permissions && cms.permissions["super"] && _this3.props.match.params.unitID == "root" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Other:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/root/stats/deposits_by_oa"
        }, "Deposits by OA"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/root/stats/all_users"
        }, "All users"));
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this3.table, _this3.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_Summary;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var EitherStats_HistoryByItem = /*#__PURE__*/function (_React$Component5) {
  _inherits(EitherStats_HistoryByItem, _React$Component5);

  var _super5 = _createSuper(EitherStats_HistoryByItem);

  function EitherStats_HistoryByItem() {
    _classCallCheck(this, EitherStats_HistoryByItem);

    return _super5.apply(this, arguments);
  }

  _createClass(EitherStats_HistoryByItem, [{
    key: "render",
    value: function render() {
      var _this4 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "History by Item"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data,
        showLimit: true
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this4.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Item"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "item",
        className: "c-statsReport-title"
      }, "Title"), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Total requests"), data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (md, item) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: item
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id",
          className: "c-statsReport-id"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/item/".concat(item.replace(/^qt/, ''))
        }, item.replace(/^qt/, ''))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "item",
          className: "c-statsReport-title"
        }, md.title), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(md.total_hits)), data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, md.by_month[ym] > 0 ? formatNum(md.by_month[ym]) : null);
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this4.table, _this4.props.match.params);
        }
      }));
    }
  }]);

  return EitherStats_HistoryByItem;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_HistoryByIssue = /*#__PURE__*/function (_React$Component6) {
  _inherits(UnitStats_HistoryByIssue, _React$Component6);

  var _super6 = _createSuper(UnitStats_HistoryByIssue);

  function UnitStats_HistoryByIssue() {
    _classCallCheck(this, UnitStats_HistoryByIssue);

    return _super6.apply(this, arguments);
  }

  _createClass(UnitStats_HistoryByIssue, [{
    key: "render",
    value: function render() {
      var _this5 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "History by Issue"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this5.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Vol/Iss"), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Total requests"), data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (issueData) {
        var issue = issueData[0];
        var md = issueData[1];
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: issue
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(_this5.props.match.params.unitID, "/").concat(md.vol_num, "/").concat(md.iss_num)
        }, issue)), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(md.total_hits)), data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, md.by_month[ym] > 0 ? formatNum(md.by_month[ym]) : null);
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this5.table, _this5.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_HistoryByIssue;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_Referrals = /*#__PURE__*/function (_React$Component7) {
  _inherits(UnitStats_Referrals, _React$Component7);

  var _super7 = _createSuper(UnitStats_Referrals);

  function UnitStats_Referrals() {
    _classCallCheck(this, UnitStats_Referrals);

    return _super7.apply(this, arguments);
  }

  _createClass(UnitStats_Referrals, [{
    key: "render",
    value: function render() {
      var _this6 = this;

      var data = this.props.data;
      var months = data.report_months;
      var fmonths = months.filter(function (val) {
        return val != 201711;
      }); // we have no referral data for this month (see note below)

      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "History by Referrer"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this6.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "ref"
      }, "Referrer"), fmonths.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Total referrals"), fmonths.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (md) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: md.referrer
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, md.referrer), fmonths.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(md.total_referrals)), fmonths.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, md.by_month[ym] > 0 ? formatNum(md.by_month[ym]) : null);
        }));
      })))), (months.indexOf(201710) >= 0 || months.indexOf(201711) >= 0 || months.indexOf(201712) >= 0) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Note: Referral data was not collected from Oct 19 to Dec 4, 2017."), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this6.table, _this6.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_Referrals;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var EitherStats_BreakdownByItem = /*#__PURE__*/function (_React$Component8) {
  _inherits(EitherStats_BreakdownByItem, _React$Component8);

  var _super8 = _createSuper(EitherStats_BreakdownByItem);

  function EitherStats_BreakdownByItem() {
    _classCallCheck(this, EitherStats_BreakdownByItem);

    return _super8.apply(this, arguments);
  }

  _createClass(EitherStats_BreakdownByItem, [{
    key: "render",
    value: function render() {
      var _this7 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Breakdown by Item"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data,
        showLimit: true
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this7.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Item"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        className: "c-statsReport-title"
      }, "Title"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total requests"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "View-only"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "%Dnld"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (md, item) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: item
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          className: "c-statsReport-id"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/item/".concat(item.replace(/^qt/, ''))
        }, item.replace(/^qt/, ''))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          className: "c-statsReport-title"
        }, md.title), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(md.total_hits)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(md.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, md.total_hits > 0 && formatNum(md.total_hits - md.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, md.total_hits > 0 && (md.total_downloads * 100.0 / md.total_hits).toFixed(1) + "%"));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this7.table, _this7.props.match.params);
        }
      }));
    }
  }]);

  return EitherStats_BreakdownByItem;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_BreakdownByIssue = /*#__PURE__*/function (_React$Component9) {
  _inherits(UnitStats_BreakdownByIssue, _React$Component9);

  var _super9 = _createSuper(UnitStats_BreakdownByIssue);

  function UnitStats_BreakdownByIssue() {
    _classCallCheck(this, UnitStats_BreakdownByIssue);

    return _super9.apply(this, arguments);
  }

  _createClass(UnitStats_BreakdownByIssue, [{
    key: "render",
    value: function render() {
      var _this8 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Breakdown by Issue"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this8.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Vol/Iss"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total requests"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "View-only"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "%Dnld"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (issueData) {
        var issue = issueData[0];
        var md = issueData[1];
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: issue
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(_this8.props.match.params.unitID, "/").concat(md.vol_num, "/").concat(md.iss_num)
        }, issue)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(md.total_hits)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(md.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, md.total_hits > 0 && formatNum(md.total_hits - md.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, md.total_hits > 0 && (md.total_downloads * 100.0 / md.total_hits).toFixed(1) + "%"));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this8.table, _this8.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_BreakdownByIssue;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var EitherStats_BreakdownByMonth = /*#__PURE__*/function (_React$Component10) {
  _inherits(EitherStats_BreakdownByMonth, _React$Component10);

  var _super10 = _createSuper(EitherStats_BreakdownByMonth);

  function EitherStats_BreakdownByMonth() {
    _classCallCheck(this, EitherStats_BreakdownByMonth);

    return _super10.apply(this, arguments);
  }

  _createClass(EitherStats_BreakdownByMonth, [{
    key: "render",
    value: function render() {
      var _this9 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Breakdown by Month"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this9.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Month"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Deposits"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total requests"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "View-only"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "%Dnld"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (md) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: md[0]
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row"
        }, ymToString(md[0])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(md[1])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(md[2])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(md[3])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, md[2] > 0 && formatNum(md[2] - md[3])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, md[2] > 0 && (md[3] * 100.0 / md[2]).toFixed(1) + "%"));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this9.table, _this9.props.match.params);
        }
      }));
    }
  }]);

  return EitherStats_BreakdownByMonth;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_BreakdownByCategory = /*#__PURE__*/function (_React$Component11) {
  _inherits(UnitStats_BreakdownByCategory, _React$Component11);

  var _super11 = _createSuper(UnitStats_BreakdownByCategory);

  function UnitStats_BreakdownByCategory() {
    _classCallCheck(this, UnitStats_BreakdownByCategory);

    return _super11.apply(this, arguments);
  }

  _createClass(UnitStats_BreakdownByCategory, [{
    key: "render",
    value: function render() {
      var _this10 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Breakdown by Category"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this10.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Category"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Deposits"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total requests"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "View-only"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "%Dnld"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.category
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row"
        }, mungeCategory(cd.category)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(cd.total_deposits)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(cd.total_requests)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(cd.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, cd.total_requests > 0 && formatNum(cd.total_requests - cd.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, cd.total_requests > 0 && (cd.total_downloads * 100.0 / cd.total_requests).toFixed(1) + "%"));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this10.table, _this10.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_BreakdownByCategory;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_DepositsByCategory = /*#__PURE__*/function (_React$Component12) {
  _inherits(UnitStats_DepositsByCategory, _React$Component12);

  var _super12 = _createSuper(UnitStats_DepositsByCategory);

  function UnitStats_DepositsByCategory() {
    _classCallCheck(this, UnitStats_DepositsByCategory);

    return _super12.apply(this, arguments);
  }

  _createClass(UnitStats_DepositsByCategory, [{
    key: "render",
    value: function render() {
      var _this11 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Deposits by Category"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this11.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Category"), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Total deposits"), data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.category
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, mungeCategory(cd.category)), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(cd.total_deposits)), data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, formatNum(cd.by_month[ym] > 0 ? cd.by_month[ym] : null));
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this11.table, _this11.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_DepositsByCategory;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_DepositsByOA = /*#__PURE__*/function (_React$Component13) {
  _inherits(UnitStats_DepositsByOA, _React$Component13);

  var _super13 = _createSuper(UnitStats_DepositsByOA);

  function UnitStats_DepositsByOA() {
    _classCallCheck(this, UnitStats_DepositsByOA);

    return _super13.apply(this, arguments);
  }

  _createClass(UnitStats_DepositsByOA, [{
    key: "render",
    value: function render() {
      var _this12 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Deposits by OA policy relation"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this12.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Category"), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Total deposits"), data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.category
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, mungeCategory(cd.category)), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(cd.total_deposits)), data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, formatNum(cd.by_month[ym] > 0 ? cd.by_month[ym] : null));
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this12.table, _this12.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_DepositsByOA;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_DepositsByUnit = /*#__PURE__*/function (_React$Component14) {
  _inherits(UnitStats_DepositsByUnit, _React$Component14);

  var _super14 = _createSuper(UnitStats_DepositsByUnit);

  function UnitStats_DepositsByUnit() {
    _classCallCheck(this, UnitStats_DepositsByUnit);

    return _super14.apply(this, arguments);
  }

  _createClass(UnitStats_DepositsByUnit, [{
    key: "render",
    value: function render() {
      var _this13 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Deposits by Unit"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this13.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Unit"), data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "dd"
      }, "Drill down"), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Total deposits"), data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.unit_name
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, cd.unit_name != "Overall" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(cd.unit_id, "/stats")
        }, cd.unit_name) : cd.unit_name), data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "dd"
        }, cd.child_types && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(cd.unit_id, "/stats/deposits_by_unit").concat(_this13.props.location.search)
        }, describeChildren(cd.child_types))), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(cd.total_deposits)), data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, formatNum(cd.by_month[ym] > 0 ? cd.by_month[ym] : null));
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this13.table, _this13.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_DepositsByUnit;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_HistoryByUnit = /*#__PURE__*/function (_React$Component15) {
  _inherits(UnitStats_HistoryByUnit, _React$Component15);

  var _super15 = _createSuper(UnitStats_HistoryByUnit);

  function UnitStats_HistoryByUnit() {
    _classCallCheck(this, UnitStats_HistoryByUnit);

    return _super15.apply(this, arguments);
  }

  _createClass(UnitStats_HistoryByUnit, [{
    key: "render",
    value: function render() {
      var _this14 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "History by Unit"
      }, p)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, p), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this14.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Unit"), p.data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "dd"
      }, "Drill down"), p.data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Total requests"), p.data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(p.data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.unit_name
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, cd.unit_name != "Overall" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(cd.unit_id, "/stats")
        }, cd.unit_name) : cd.unit_name), p.data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "dd"
        }, cd.child_types && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: statsLink(cd.unit_id, p.match.params.pageName, p.location.search)
        }, describeChildren(cd.child_types))), p.data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(cd.total_requests)), p.data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, formatNum(cd.by_month[ym] > 0 ? cd.by_month[ym] : null));
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this14.table, _this14.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_HistoryByUnit;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_AvgByUnit = /*#__PURE__*/function (_React$Component16) {
  _inherits(UnitStats_AvgByUnit, _React$Component16);

  var _super16 = _createSuper(UnitStats_AvgByUnit);

  function UnitStats_AvgByUnit() {
    _classCallCheck(this, UnitStats_AvgByUnit);

    return _super16.apply(this, arguments);
  }

  _createClass(UnitStats_AvgByUnit, [{
    key: "render",
    value: function render() {
      var _this15 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Average Requests per Item by Unit"
      }, p)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, p), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this15.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Unit"), p.data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "dd"
      }, "Drill down"), p.data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Avg req/item"), p.data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(p.data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.unit_name
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, cd.unit_name != "Overall" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(cd.unit_id, "/stats")
        }, cd.unit_name) : cd.unit_name), p.data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "dd"
        }, cd.child_types && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: statsLink(cd.unit_id, p.match.params.pageName, p.location.search)
        }, describeChildren(cd.child_types))), p.data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, formatNum(cd.total_avg)), p.data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, formatNum(cd.by_month[ym] > 0 ? cd.by_month[ym] : null));
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this15.table, _this15.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_AvgByUnit;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_AvgByCategory = /*#__PURE__*/function (_React$Component17) {
  _inherits(UnitStats_AvgByCategory, _React$Component17);

  var _super17 = _createSuper(UnitStats_AvgByCategory);

  function UnitStats_AvgByCategory() {
    _classCallCheck(this, UnitStats_AvgByCategory);

    return _super17.apply(this, arguments);
  }

  _createClass(UnitStats_AvgByCategory, [{
    key: "render",
    value: function render() {
      var _this16 = this;

      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Average Requests per Item by Category"
      }, this.props)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, {
        location: this.props.location,
        data: data
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this16.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "id"
      }, "Category"), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col",
        key: "total"
      }, "Avg req/item"), data.report_months.map(function (ym) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: ym
        }, ymToString(ym));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.category
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, mungeCategory(cd.category)), data.report_months.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          key: "total"
        }, cd.total_avg), data.report_months.map(function (ym) {
          return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: ym
          }, cd.by_month[ym] > 0 ? cd.by_month[ym] : null);
        }));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this16.table, _this16.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_AvgByCategory;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_BreakdownByUnit = /*#__PURE__*/function (_React$Component18) {
  _inherits(UnitStats_BreakdownByUnit, _React$Component18);

  var _super18 = _createSuper(UnitStats_BreakdownByUnit);

  function UnitStats_BreakdownByUnit() {
    _classCallCheck(this, UnitStats_BreakdownByUnit);

    return _super18.apply(this, arguments);
  }

  _createClass(UnitStats_BreakdownByUnit, [{
    key: "render",
    value: function render() {
      var _this17 = this;

      var p = this.props;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Breakdown by Unit"
      }, p)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsForm, p), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this17.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Unit"), p.data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Drill down"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Deposits"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total requests"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "View-only"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "%Dnld"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(p.data.report_data, function (cd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: cd.unit_name
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "row",
          key: "id"
        }, cd.unit_name != "Overall" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(cd.unit_id, "/stats")
        }, cd.unit_name) : cd.unit_name), p.data.any_drill_down && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          key: "dd"
        }, cd.child_types && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: statsLink(cd.unit_id, p.match.params.pageName, p.location.search)
        }, describeChildren(cd.child_types))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(cd.total_deposits)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(cd.total_requests)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(cd.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, cd.total_requests > 0 && formatNum(cd.total_requests - cd.total_downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, cd.total_requests > 0 && (cd.total_downloads * 100.0 / cd.total_requests).toFixed(1) + "%"));
      })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this17.table, _this17.props.match.params);
        }
      }));
    }
  }]);

  return UnitStats_BreakdownByUnit;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var AuthorStats_Summary = /*#__PURE__*/function (_React$Component19) {
  _inherits(AuthorStats_Summary, _React$Component19);

  var _super19 = _createSuper(AuthorStats_Summary);

  function AuthorStats_Summary() {
    _classCallCheck(this, AuthorStats_Summary);

    return _super19.apply(this, arguments);
  }

  _createClass(AuthorStats_Summary, [{
    key: "render",
    value: function render() {
      var data = this.props.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "Summary"
      }, this.props)), data.variations.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "(* see below for name/email variations)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Deposits"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Total requests"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Download"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "View-only"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.posts)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.hits)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.downloads)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, formatNum(data.hits - data.downloads)))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "Available Reports"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
        className: "c-reportList"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "History by:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/author/".concat(this.props.match.params.personID, "/stats/history_by_item")
      }, "Item")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, "Breakdown by:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/author/".concat(this.props.match.params.personID, "/stats/breakdown_by_item")
      }, "Item"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
        to: "/uc/author/".concat(this.props.match.params.personID, "/stats/breakdown_by_month")
      }, "Month"))), data.variations.length > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, "* Author name/email variations included in these reports:", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.variations, function (nv) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
          key: nv[0] + nv[1]
        }, nv[0], " <", nv[1], ">");
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, null));
    }
  }]);

  return AuthorStats_Summary;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStats_AllUsers = /*#__PURE__*/function (_React$Component20) {
  _inherits(UnitStats_AllUsers, _React$Component20);

  var _super20 = _createSuper(UnitStats_AllUsers);

  function UnitStats_AllUsers() {
    _classCallCheck(this, UnitStats_AllUsers);

    return _super20.apply(this, arguments);
  }

  _createClass(UnitStats_AllUsers, [{
    key: "render",
    value: function render() {
      var _this18 = this;

      var p = this.props;
      var data = p.data;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-statsReport"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsHeader, _extends({
        title: "All Users"
      }, p)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
        to: p.location.pathname,
        method: "GET"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-daterange"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__inline"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "c-statsReport-dateSection"
      }, "Unit types:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "type-campus",
        name: "type-campus",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'type-campus')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "type-campus",
        className: "c-statsReport-checkbox-label"
      }, "Campus"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "type-oru",
        name: "type-oru",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'type-oru')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "type-oru",
        className: "c-statsReport-checkbox-label"
      }, "ORU"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "type-series",
        name: "type-series",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'type-series')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "type-series",
        className: "c-statsReport-checkbox-label"
      }, "Series"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "type-journal",
        name: "type-journal",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'type-journal')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "type-journal",
        className: "c-statsReport-checkbox-label"
      }, "Journal"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__inline"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "c-statsReport-dateSection"
      }, "Journal roles:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-JournalManager",
        name: "role-JournalManager",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-JournalManager')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-JournalManager",
        className: "c-statsReport-checkbox-label"
      }, "Manager"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-JournalEditor",
        name: "role-JournalEditor",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-JournalEditor')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-JournalEditor",
        className: "c-statsReport-checkbox-label"
      }, "Journal Editor"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-SectionEditor",
        name: "role-SectionEditor",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-SectionEditor')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-SectionEditor",
        className: "c-statsReport-checkbox-label"
      }, "Section Editor"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-LayoutEditor",
        name: "role-LayoutEditor",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-LayoutEditor')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-LayoutEditor",
        className: "c-statsReport-checkbox-label"
      }, "Layout Editor"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-Reviewer",
        name: "role-Reviewer",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-Reviewer')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-Reviewer",
        className: "c-statsReport-checkbox-label"
      }, "Reviewer"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-CopyEditor",
        name: "role-CopyEditor",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-CopyEditor')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-CopyEditor",
        className: "c-statsReport-checkbox-label"
      }, "Copy Editor"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-Proofreader",
        name: "role-Proofreader",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-Proofreader')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-Proofreader",
        className: "c-statsReport-checkbox-label"
      }, "Proofreader"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-JournalAuthor",
        name: "role-JournalAuthor",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-JournalAuthor')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-JournalAuthor",
        className: "c-statsReport-checkbox-label"
      }, "Author"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-Reader",
        name: "role-Reader",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-Reader')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-Reader",
        className: "c-statsReport-checkbox-label"
      }, "Reader"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-SubscriptionManager",
        name: "role-SubscriptionManager",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-SubscriptionManager')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-SubscriptionManager",
        className: "c-statsReport-checkbox-label"
      }, "Subscription Manager")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "o-input__inline"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "c-statsReport-dateSection"
      }, "eSchol roles:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-UnitAdmin",
        name: "role-UnitAdmin",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-UnitAdmin')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-UnitAdmin",
        className: "c-statsReport-checkbox-label"
      }, "Unit Admin"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-StatsReceiver",
        name: "role-StatsReceiver",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-StatsReceiver')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-StatsReceiver",
        className: "c-statsReport-checkbox-label"
      }, "Stats Receiver"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "checkbox",
        id: "role-Submitter",
        name: "role-Submitter",
        className: "c-statsReport-checkbox",
        defaultChecked: lodash__WEBPACK_IMPORTED_MODULE_2___default.a.includes(data.selection, 'role-Submitter')
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "role-Submitter",
        className: "c-statsReport-checkbox-label"
      }, "Submitter"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        key: "submit"
      }, "Update")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br", null), data.report_data[0] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable c-datatable-leftalign"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        ref: function ref(el) {
          return _this18.table = el;
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Email"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Name"), lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.all_roles, function (role) {
        return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: "".concat(role, "-1")
        }, role.replace(/([A-Z][^A-Z]*)([A-Z].*)/, "$1 $2"), " by id"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
          scope: "col",
          key: "".concat(role, "-2")
        }, role.replace(/([A-Z][^A-Z]*)([A-Z].*)/, "$1 $2"), " by name")];
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.report_data, function (d) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: d.email
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, d.email), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", null, d.name), lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(data.all_roles, function (role) {
          return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: "".concat(role, "-1")
          }, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(d.roles[role], function (unit) {
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
              key: unit[0]
            }, unit[0]);
          })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
            key: "".concat(role, "-2")
          }, lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map(d.roles[role], function (unit) {
            return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
              key: unit[1]
            }, unit[1]);
          }))];
        }));
      })))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("i", null, "(no matching users)")), data.report_data[0] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StatsFooter, {
        onDownload: function onDownload(e) {
          return downloadCSV(_this18.table, p.match.params);
        }
      }));
    }
  }]);

  return UnitStats_AllUsers;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var UnitStatsPage = /*#__PURE__*/function (_PageBase) {
  _inherits(UnitStatsPage, _PageBase);

  var _super21 = _createSuper(UnitStatsPage);

  function UnitStatsPage() {
    _classCallCheck(this, UnitStatsPage);

    return _super21.apply(this, arguments);
  }

  _createClass(UnitStatsPage, [{
    key: "needHeaderFooter",
    value: function needHeaderFooter() {
      return false;
    } //  disable standard header and footer
    // Unit ID for permissions checking

  }, {
    key: "pagePermissionsUnit",
    value: function pagePermissionsUnit() {
      return this.props.match.params.unitID;
    }
  }, {
    key: "renderContent",
    value: function renderContent() {
      // Error case
      if (this.state.pageData && this.state.pageData.error) return this.renderError(); // Normal case -- a little different from PageBase in that we also render as loading when fetching data.

      return this.state.pageData && !this.state.fetchingData ? this.renderData(this.state.pageData) : this.renderLoading();
    }
  }, {
    key: "renderData",
    value: function renderData(data) {
      var pageName = this.props.match.params.pageName || "summary";
      if (pageName == "summary") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_Summary, _extends({
        data: data
      }, this.props));else if (pageName == "history_by_item") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EitherStats_HistoryByItem, _extends({
        data: data
      }, this.props));else if (pageName == "history_by_issue") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_HistoryByIssue, _extends({
        data: data
      }, this.props));else if (pageName == "breakdown_by_item") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EitherStats_BreakdownByItem, _extends({
        data: data
      }, this.props));else if (pageName == "breakdown_by_issue") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_BreakdownByIssue, _extends({
        data: data
      }, this.props));else if (pageName == "breakdown_by_month") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EitherStats_BreakdownByMonth, _extends({
        data: data
      }, this.props));else if (pageName == "referrals") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_Referrals, _extends({
        data: data
      }, this.props));else if (pageName == "deposits_by_category") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_DepositsByCategory, _extends({
        data: data
      }, this.props));else if (pageName == "deposits_by_unit") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_DepositsByUnit, _extends({
        data: data
      }, this.props));else if (pageName == "history_by_unit") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_HistoryByUnit, _extends({
        data: data
      }, this.props));else if (pageName == "breakdown_by_unit") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_BreakdownByUnit, _extends({
        data: data
      }, this.props));else if (pageName == "breakdown_by_category") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_BreakdownByCategory, _extends({
        data: data
      }, this.props));else if (pageName == "avg_by_unit") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_AvgByUnit, _extends({
        data: data
      }, this.props));else if (pageName == "avg_by_category") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_AvgByCategory, _extends({
        data: data
      }, this.props));else if (pageName == "deposits_by_oa") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_DepositsByOA, _extends({
        data: data
      }, this.props));else if (pageName == "all_users") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UnitStats_AllUsers, _extends({
        data: data
      }, this.props));else return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        error: "Not Found"
      });
    }
  }]);

  return UnitStatsPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_7__["default"]);
var AuthorStatsPage = /*#__PURE__*/function (_PageBase2) {
  _inherits(AuthorStatsPage, _PageBase2);

  var _super22 = _createSuper(AuthorStatsPage);

  function AuthorStatsPage() {
    _classCallCheck(this, AuthorStatsPage);

    return _super22.apply(this, arguments);
  }

  _createClass(AuthorStatsPage, [{
    key: "needHeaderFooter",
    value: function needHeaderFooter() {
      return false;
    } //  disable standard header and footer

  }, {
    key: "renderContent",
    value: function renderContent() {
      // Error case
      if (this.state.pageData && this.state.pageData.error) return this.renderError(); // Normal case -- a little different from PageBase in that we also render as loading when fetching data.

      return this.state.pageData && !this.state.fetchingData ? this.renderData(this.state.pageData) : this.renderLoading();
    }
  }, {
    key: "renderData",
    value: function renderData(data) {
      var pageName = this.props.match.params.pageName || "summary";
      if (pageName == "summary") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AuthorStats_Summary, _extends({
        data: data
      }, this.props));else if (pageName == "history_by_item") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EitherStats_HistoryByItem, _extends({
        data: data
      }, this.props));else if (pageName == "breakdown_by_item") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EitherStats_BreakdownByItem, _extends({
        data: data
      }, this.props));else if (pageName == "breakdown_by_month") return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EitherStats_BreakdownByMonth, _extends({
        data: data
      }, this.props));
    }
  }]);

  return AuthorStatsPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_7__["default"]);

/***/ }),

/***/ "./app/jsx/pages/UnitPage.jsx":
/*!************************************!*\
  !*** ./app/jsx/pages/UnitPage.jsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/Header2Comp.jsx */ "./app/jsx/components/Header2Comp.jsx");
/* harmony import */ var _components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/SubheaderComp.jsx */ "./app/jsx/components/SubheaderComp.jsx");
/* harmony import */ var _components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/NavBarComp.jsx */ "./app/jsx/components/NavBarComp.jsx");
/* harmony import */ var _components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/BreadcrumbComp.jsx */ "./app/jsx/components/BreadcrumbComp.jsx");
/* harmony import */ var _layouts_CampusLayout_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../layouts/CampusLayout.jsx */ "./app/jsx/layouts/CampusLayout.jsx");
/* harmony import */ var _layouts_DepartmentLayout_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../layouts/DepartmentLayout.jsx */ "./app/jsx/layouts/DepartmentLayout.jsx");
/* harmony import */ var _layouts_SeriesLayout_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../layouts/SeriesLayout.jsx */ "./app/jsx/layouts/SeriesLayout.jsx");
/* harmony import */ var _layouts_JournalLayout_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../layouts/JournalLayout.jsx */ "./app/jsx/layouts/JournalLayout.jsx");
/* harmony import */ var _layouts_UnitSearchLayout_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../layouts/UnitSearchLayout.jsx */ "./app/jsx/layouts/UnitSearchLayout.jsx");
/* harmony import */ var _layouts_UnitStaticPageLayout_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../layouts/UnitStaticPageLayout.jsx */ "./app/jsx/layouts/UnitStaticPageLayout.jsx");
/* harmony import */ var _layouts_UnitProfileLayout_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../layouts/UnitProfileLayout.jsx */ "./app/jsx/layouts/UnitProfileLayout.jsx");
/* harmony import */ var _layouts_UnitCarouselConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../layouts/UnitCarouselConfigLayout.jsx */ "./app/jsx/layouts/UnitCarouselConfigLayout.jsx");
/* harmony import */ var _layouts_UnitIssueConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../layouts/UnitIssueConfigLayout.jsx */ "./app/jsx/layouts/UnitIssueConfigLayout.jsx");
/* harmony import */ var _layouts_UnitUserConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../layouts/UnitUserConfigLayout.jsx */ "./app/jsx/layouts/UnitUserConfigLayout.jsx");
/* harmony import */ var _layouts_UnitSidebarConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../layouts/UnitSidebarConfigLayout.jsx */ "./app/jsx/layouts/UnitSidebarConfigLayout.jsx");
/* harmony import */ var _layouts_UnitNavConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../layouts/UnitNavConfigLayout.jsx */ "./app/jsx/layouts/UnitNavConfigLayout.jsx");
/* harmony import */ var _layouts_RedirectConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../layouts/RedirectConfigLayout.jsx */ "./app/jsx/layouts/RedirectConfigLayout.jsx");
/* harmony import */ var _layouts_AuthorSearchLayout_jsx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../layouts/AuthorSearchLayout.jsx */ "./app/jsx/layouts/AuthorSearchLayout.jsx");
/* harmony import */ var _components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../components/SidebarComp.jsx */ "./app/jsx/components/SidebarComp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
/* harmony import */ var _components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../components/ServerErrorComp.jsx */ "./app/jsx/components/ServerErrorComp.jsx");
/* harmony import */ var _layouts_UnitBuilderLayout_jsx__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../layouts/UnitBuilderLayout.jsx */ "./app/jsx/layouts/UnitBuilderLayout.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

// ##### Unit Page ##### //
// this.props = {
//   unit: {id: , name: , type: , status }}
//   header: {breadcrumb: [], campusID: , campusName: , campuses: [], logo: , nav_bar: [], social: }
//   content: { page content },
//   marquee: {about: , carousel: , extent: }
//   sidebar: []
// }



























var UnitPage = /*#__PURE__*/function (_PageBase) {
  _inherits(UnitPage, _PageBase);

  var _super = _createSuper(UnitPage);

  function UnitPage() {
    _classCallCheck(this, UnitPage);

    return _super.apply(this, arguments);
  }

  _createClass(UnitPage, [{
    key: "pagePermissionsUnit",
    value: // PageBase will fetch the following URL for us, and place the results in this.state.pageData
    // will likely at some point want to move these (search, home, pages) to different extensions of PageBase,
    // as all kinds of CMS-y stuff will live here, though perhaps not, to capitalize on React's
    // diff-ing of pages - all these different pages have quite a few of the same components:
    // header, footer, nav, sidebar.
    // [********** AW - 3/15/17 **********]
    // TODO [UNIT-CONTENT-AJAX-ISSUE]: need to separate these into different PageBase extensions
    // React tries to render different content components
    // (ie - switch between DeparmentLayout and Series Layout or UnitSearchLayout)
    // before the AJAX call for the different content has returned and then there are lots of issues!
    // Unit ID for permissions checking
    function pagePermissionsUnit() {
      return this.props.match.params.unitID;
    }
  }, {
    key: "cmsPage",
    value: function cmsPage(data, page) {
      var _this = this;

      if (this.state.adminLogin && !this.state.fetchingPerms && !this.state.isEditingPage || !this.state.adminLogin) {
        console.log("Editing turned off; redirecting to unit page.");
        setTimeout(function () {
          return _this.props.history.push(data.unit.id == "root" ? "/" : "/uc/".concat(data.unit.id));
        }, 0);
      } else return page;
    } // [********** AMY NOTES 3/15/17 **********]
    // TODO: each of the content layouts currently include the sidebars,
    // but this should get stripped out and handled here in UnitPage
    // TODO [UNIT-CONTENT-AJAX-ISSUE]: handle the AJAX issue described above

  }, {
    key: "renderData",
    value: function renderData(data) {
      var sidebar = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SidebarComp_jsx__WEBPACK_IMPORTED_MODULE_22__["default"], {
        data: data.sidebar
      });
      var title = data.unit.name;
      var contentLayout;
      if (this.state.fetchingData) contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
        style: {
          marginTop: "5em",
          marginBottom: "5em"
        }
      }, "Loading...");else if (this.props.match.params.pageName === 'search') {
        this.extGA(data.unit.id); // Google Analytics for external trackers called from PageBase

        {
          /* ToDo: For now, serieslayout is the only unit search that occurs, but this should be properly componentized
          contentLayout = (<UnitSearchLayout unit={data.unit} data={data.content} sidebar={sidebar}/>) */
        }
        contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_SeriesLayout_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
          unit: data.unit,
          data: data.content,
          sidebar: sidebar,
          marquee: data.marquee
        });
      } else if (this.props.match.params.pageName === 'profile') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitProfileLayout_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
          header: data.header,
          unit: data.unit,
          data: data.content,
          sendApiData: this.sendApiData,
          sendBinaryFileData: this.sendBinaryFileData
        }));
        title = "Profile: ".concat(data.unit.name);
      } else if (this.props.match.params.pageName === 'carousel') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitCarouselConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], {
          unit: data.unit,
          data: data.content,
          sendApiData: this.sendApiData,
          sendBinaryFileData: this.sendBinaryFileData
        }));
        title = "Carousel: ".concat(data.unit.name);
      } else if (this.props.match.params.pageName === 'issueConfig') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitIssueConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
          unit: data.unit,
          data: data.content,
          sendApiData: this.sendApiData
        }));
        title = "Issue config: ".concat(data.unit.name);
      } else if (this.props.match.params.pageName === 'userConfig') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitUserConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_17__["default"], {
          unit: data.unit,
          data: data.content,
          sendApiData: this.sendApiData
        }));
        title = "User config: ".concat(data.unit.name);
      } else if (this.props.match.params.pageName === 'unitBuilder') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitBuilderLayout_jsx__WEBPACK_IMPORTED_MODULE_25__["default"], {
          unit: data.unit,
          data: data.content,
          sendApiData: this.sendApiData
        }));
        title = "Unit builder: ".concat(data.unit.name);
      } else if (this.props.match.params.pageName === 'nav') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitNavConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_19__["default"], {
          unit: data.unit,
          data: data.content,
          sendApiData: this.sendApiData
        }));
        title = "Navigation: ".concat(data.unit.name);
      } else if (this.props.match.params.pageName === 'sidebar') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitSidebarConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_18__["default"], {
          unit: data.unit,
          data: data.content,
          sendApiData: this.sendApiData
        }));
        title = "Sidebar: ".concat(data.unit.name);
      } else if (this.props.match.params.pageName === 'redirects') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_RedirectConfigLayout_jsx__WEBPACK_IMPORTED_MODULE_20__["default"], {
          data: data.content,
          sendApiData: this.sendApiData
        }));
        title = "Redirects";
      } else if (this.props.match.params.pageName === 'authorSearch') {
        contentLayout = this.cmsPage(data, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_AuthorSearchLayout_jsx__WEBPACK_IMPORTED_MODULE_21__["default"], {
          data: data.content,
          location: this.props.location,
          sendApiData: this.sendApiData
        }));
        title = "Author Search";
      } else if (this.props.match.params.pageName && !data.content.issue) {
        // If there's issue data here it's a journal page, otherwise it's static content
        contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_UnitStaticPageLayout_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
          unit: data.unit,
          data: data.content,
          sidebar: sidebar,
          fetchPageData: this.fetchPageData
        });
        title = data.content.title;
      } else {
        {
          /* Temporary, for testing */
        } // data.marquee.carousel = false
        // data.content.display = 'simple'

        this.extGA(data.unit.id); // Google Analytics for external trackers called from PageBase

        if (data.unit.type === 'oru') contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_DepartmentLayout_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
          unit: data.unit,
          data: data.content,
          sidebar: sidebar,
          marquee: data.marquee
        });else if (data.unit.type == 'campus') contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_CampusLayout_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
          unit: data.unit,
          data: data.content,
          sidebar: sidebar
        });else if (data.unit.type.includes('series')) contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_SeriesLayout_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
          unit: data.unit,
          data: data.content,
          sidebar: sidebar,
          marquee: data.marquee
        });else if (data.unit.type === 'journal') contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layouts_JournalLayout_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
          unit: data.unit,
          data: data.content,
          sidebar: sidebar,
          marquee: data.marquee
        });else contentLayout = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_ServerErrorComp_jsx__WEBPACK_IMPORTED_MODULE_24__["default"], {
          error: "Not Found"
        });
      }
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_23__["default"], {
        title: title
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("link", {
        rel: "canonical",
        href: "https://escholarship.org" + this.props.location.pathname
      })), data.unit.type == "root" ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header2Comp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        type: data.unit.type,
        unitID: data.unit.id
      }), data.unit.type != "root" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SubheaderComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        unit: data.unit,
        header: data.header
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_NavBarComp_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
        navBar: data.header.nav_bar,
        unit: data.unit,
        socialProps: data.header.social
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_BreadcrumbComp_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        array: data.header.breadcrumb
      }), contentLayout);
    }
  }]);

  return UnitPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__["default"]);

/* harmony default export */ __webpack_exports__["default"] = (UnitPage);

/***/ }),

/***/ "./app/jsx/pages/UserAccountPage.jsx":
/*!*******************************************!*\
  !*** ./app/jsx/pages/UserAccountPage.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UserAccountPage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/es/index.js");
/* harmony import */ var _PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PageBase.jsx */ "./app/jsx/pages/PageBase.jsx");
/* harmony import */ var _components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Header1Comp.jsx */ "./app/jsx/components/Header1Comp.jsx");
/* harmony import */ var _components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/MetaTagsComp.jsx */ "./app/jsx/components/MetaTagsComp.jsx");
/* harmony import */ var _components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/FormComp.jsx */ "./app/jsx/components/FormComp.jsx");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








var UserAccountPage = /*#__PURE__*/function (_PageBase) {
  _inherits(UserAccountPage, _PageBase);

  var _super = _createSuper(UserAccountPage);

  function UserAccountPage() {
    var _this;

    _classCallCheck(this, UserAccountPage);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _super.call.apply(_super, [this].concat(args));

    _defineProperty(_assertThisInitialized(_this), "handleSubmit", function (event, data) {
      event.preventDefault();

      _this.sendApiData("PUT", event.target.action, {
        data: data
      });

      _this.setState({
        anyChanges: false
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onDeleteForward", function (userID, email) {
      _this.sendApiData("DELETE", "/api/userEmailForward/".concat(userID), {
        data: {
          email: email
        }
      });
    });

    _defineProperty(_assertThisInitialized(_this), "onAddForward", function (event, userID) {
      var email = _this.forwardEmailEl.value;

      _this.sendApiData("POST", "/api/userEmailForward/".concat(userID), {
        data: {
          email: email
        }
      });
    });

    return _this;
  }

  _createClass(UserAccountPage, [{
    key: "pagePermissionsUnit",
    value: function pagePermissionsUnit() {
      return 'root';
    }
  }, {
    key: "renderData",
    value: function renderData(data) {
      var _this2 = this;

      var fl = data.flags;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_Header1Comp_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_MetaTagsComp_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        title: "eScholarship"
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: this.state.fetchingData ? "c-columns is-loading-data" : "c-columns"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
        id: "maincontent"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "o-columnbox1"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("header", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", {
        className: "o-columnbox1__heading"
      }, "User Account")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, data.first_name, " ", data.last_name, " <", data.email, ">"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pTable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pCell"
      }, "Registration date:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pCell"
      }, data.registered)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pCell"
      }, "Last login date:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pCell"
      }, data.last_login))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Settings"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_FormComp_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
        to: "/api/userFlags/".concat(data.user_id),
        onSubmit: this.handleSubmit
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pTable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "flag_validated",
        type: "checkbox",
        className: "c-editable-pCell",
        name: "flag_validated",
        defaultChecked: fl.validated,
        onChange: function onChange() {
          return _this2.setState({
            anyChanges: true
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "flag_validated",
        className: "c-editable-pCell"
      }, "Validated email address")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "flag_opted_out",
        type: "checkbox",
        className: "c-editable-pCell",
        name: "flag_opted_out",
        defaultChecked: fl.opted_out,
        onChange: function onChange() {
          return _this2.setState({
            anyChanges: true
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "flag_opted_out",
        className: "c-editable-pCell"
      }, "Opted out of emails")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "flag_bouncing",
        type: "checkbox",
        className: "c-editable-pCell",
        name: "flag_bouncing",
        defaultChecked: fl.bouncing,
        onChange: function onChange() {
          return _this2.setState({
            anyChanges: true
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "flag_bouncing",
        className: "c-editable-pCell"
      }, "Bouncing email address")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "flag_superuser",
        type: "checkbox",
        className: "c-editable-pCell",
        name: "flag_superuser",
        defaultChecked: fl.superuser,
        onChange: function onChange() {
          return _this2.setState({
            anyChanges: true
          });
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "flag_superuser",
        className: "c-editable-pCell"
      }, "Super-user"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pTable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
        htmlFor: "new_password",
        className: "c-editable-pCell"
      }, "Set new password:"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        id: "new_password",
        type: "password",
        className: "c-editable-pCell",
        name: "new_password",
        onChange: function onChange() {
          return _this2.setState({
            anyChanges: true
          });
        }
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pTable"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-editable-pRow"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        type: "submit",
        disabled: !this.state.anyChanges,
        className: "c-editable-pCell"
      }, "Save changes")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Previous email addresses"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable-nomaxheight"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Prev email"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Action"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, _.map(data.prev_emails, function (addr) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: addr
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, addr), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
          onClick: function onClick(e) {
            return _this2.onDeleteForward(data.user_id, addr);
          }
        }, "remove")));
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
        key: "new"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
        className: "c-editable-tableCell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
        type: "email",
        placeholder: "email",
        ref: function ref(el) {
          return _this2.forwardEmailEl = el;
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
        className: "c-editable-tableCell"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: function onClick(event) {
          return _this2.onAddForward(event, data.user_id);
        }
      }, "add"))))))), data.unit_roles.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Unit roles"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable-nomaxheight"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Unit"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Role(s)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, _.map(data.unit_roles, function (row) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: row[0]
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, row[0] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(row[0])
        }, row[0]) : "<root>"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, row[1].join(", ")));
      }))))), data.journal_roles.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, "Journal roles"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "c-datatable-nomaxheight"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Journal"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("th", {
        scope: "col"
      }, "Role(s)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", null, _.map(data.journal_roles, function (jd) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          key: jd[0]
        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, jd[0] ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["Link"], {
          to: "/uc/".concat(jd[0])
        }, jd[0]) : "<root>"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: "c-editable-tableCell"
        }, jd[1].join(", ")));
      })))))))));
    }
  }]);

  return UserAccountPage;
}(_PageBase_jsx__WEBPACK_IMPORTED_MODULE_2__["default"]);



/***/ }),

/***/ "./app/jsx/utils.jsx":
/*!***************************!*\
  !*** ./app/jsx/utils.jsx ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _default; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

// ##### Utilities Component ##### //
// A collection of methods shared across components 


var _default = /*#__PURE__*/function () {
  function _default() {
    _classCallCheck(this, _default);
  }

  _createClass(_default, null, [{
    key: "sumValueTotals",
    value:
    /**
     * Takes an array of hashes containing integer values
     * i.e.  [{type: "pdf", count: 3}, {type: image, count: 2}]
     * Returns sum total from specified value, i.e. count
     */
    function sumValueTotals(rows, value) {
      if (rows.length == 0) return 0;
      return rows.reduce(function (a, b) {
        return b[value] == null ? a : a + b[value];
      }, 0);
    }
    /**
     * Wraps HTML with p tag if not present
     */

  }, {
    key: "p_wrap",
    value: function p_wrap(html) {
      if (html.startsWith('<p>') && html.endsWith('</p>')) return html;
      return '<p>' + html + '</p>';
    }
  }]);

  return _default;
}();



/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn-bd": "./node_modules/moment/locale/bn-bd.js",
	"./bn-bd.js": "./node_modules/moment/locale/bn-bd.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-in": "./node_modules/moment/locale/en-in.js",
	"./en-in.js": "./node_modules/moment/locale/en-in.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./en-sg": "./node_modules/moment/locale/en-sg.js",
	"./en-sg.js": "./node_modules/moment/locale/en-sg.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-mx": "./node_modules/moment/locale/es-mx.js",
	"./es-mx.js": "./node_modules/moment/locale/es-mx.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fil": "./node_modules/moment/locale/fil.js",
	"./fil.js": "./node_modules/moment/locale/fil.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-deva": "./node_modules/moment/locale/gom-deva.js",
	"./gom-deva.js": "./node_modules/moment/locale/gom-deva.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./oc-lnc": "./node_modules/moment/locale/oc-lnc.js",
	"./oc-lnc.js": "./node_modules/moment/locale/oc-lnc.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tk": "./node_modules/moment/locale/tk.js",
	"./tk.js": "./node_modules/moment/locale/tk.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-mo": "./node_modules/moment/locale/zh-mo.js",
	"./zh-mo.js": "./node_modules/moment/locale/zh-mo.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ })

/******/ });
//# sourceMappingURL=app-bundle-7a9f9c6f8422755e2516.js.map